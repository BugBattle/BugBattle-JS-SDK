!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Gleap=t():e.Gleap=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>ie});var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;return new Promise((function(a,o){var i=0===e.indexOf("data:image/jpeg"),r=new Image;r.src=e,r.onerror=function(){o()},r.onload=function(){var e=document.createElement("canvas"),o=t,s=n;t>r.width/4&&(o=r.width/4),n>r.height/4&&(s=r.height/4);var c=r.width,l=r.height;c>l?c>o&&(l*=o/c,c=o):l>s&&(c*=s/l,l=s),e.width=c,e.height=l,e.getContext("2d").drawImage(r,0,0,c,l),a(i?e.toDataURL("image/jpeg",.7):e.toDataURL())}}))},a=function(){return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))},o=["//fonts.googleapis.com","//cdn.jsdelivr.net","//cdnjs.cloudflare.com","//ajax.googleapis.com","//use.typekit.net",".amazonaws.com","//jssdk.gleap.io",".gstatic.com"],i=function(e){if(!e)return!1;for(var t=0;t<o.length;t++)if(-1!==e.indexOf(o[t]))return!0;return!1},r=function(e,t){return n=e,a=/url\((.*?)\)/g,o=function(e){return new Promise((function(n,a){if(!e)return n(e);var o=e.substr(4,e.length-5).replaceAll("'","").replaceAll('"',"");if(0===o.indexOf("http")||0===o.indexOf("//")||0===o.indexOf("data"))return n(e);try{var i=o;return t&&(i=t+"/"+o),s(i).then((function(e){return n("url("+e+")")}))}catch(r){return n(e)}}))},new Promise((function(e,t){var i=[];n.replace(a,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=o.apply(void 0,[e].concat(n));i.push(r)})),Promise.all(i).then((function(t){e(n.replace(a,(function(){return t.shift()})))})).catch((function(){t()}))}));var n,a,o},s=function(e){return new Promise((function(t,n){if(e){var a=new XMLHttpRequest;a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.onerror=function(){n()},e.readAsDataURL(a.response)},a.onerror=function(e){t()},a.open("GET",e),a.responseType="blob",a.send()}else t()}))},c=function(e){return new Promise((function(t,a){if(e&&e.src){if(i(e.src))return t();var o=new XMLHttpRequest;o.onload=function(){var a=new FileReader;a.onloadend=function(){!function(e,t,a,o){n(e,500,500).then((function(e){t.src=e,a()})).catch((function(){console.warn("BB: Image resize failed."),a()}))}(a.result,e,t)},a.onerror=function(){t()},a.readAsDataURL(o.response)},o.onerror=function(e){t()};var r=e.src;o.open("GET",r),o.responseType="blob",o.send()}else t()}))},l=function(e,t,n,a){var o=null;t.ownerNode&&(o=e.querySelector('[bb-styleid="'+a+'"]'));try{if(o){var i=null;if(""!=n){var r=e.querySelector("head"),s=window.document.createElement("style");r.appendChild(s),s.type="text/css",s.styleSheet?s.styleSheet.cssText=n:s.appendChild(window.document.createTextNode(n)),i=s}else{var c=window.document.createElement("link");c.rel="stylesheet",c.type=t.type,c.href=t.href,c.media=t.media,i=c}i&&(o.parentNode.insertBefore(i,o),o.remove())}}catch(l){}},d=function(e,t){for(var n=[],a=function(){var e=document.styleSheets[o];i=null;try{e.cssRules?i=e.cssRules:e.rules&&(i=e.rules)}catch(u){}if(s="",i)for(c in i)i[c].cssText&&(s+=i[c].cssText);if(""==s||t)n.push(Promise.resolve({styletext:s,stylesheet:e,styleId:e.ownerNode.getAttribute("bb-styleid")}));else{var a=document.getElementsByTagName("base");d=a.length?a[0].href.substr(location.origin.length,999):window.location.href,e.href&&(d=e.href);var l=d.substring(0,d.lastIndexOf("/"));n.push(r(s,l).then((function(t){return{styletext:t,stylesheet:e,styleId:e.ownerNode.getAttribute("bb-styleid")}})))}},o=0;o<document.styleSheets.length;o++){var i,s,c,d;a()}return Promise.all(n).then((function(t){if(t)for(var n=0;n<t.length;n++)l(e,t[n].stylesheet,t[n].styletext,t[n].styleId);return!0}))},u=function(e,t){return new Promise((function(n,a){return t?d(e,t).then((function(){n()})).catch((function(){n()})):function(e){for(var t=e.querySelectorAll("img"),n=[],a=0;a<t.length;a++){var o=t[a];n.push(c(o))}return Promise.all(n)}(e).then((function(){return d(e,t).then((function(){n()}))})).catch((function(){console.warn("Gleap: Failed with resolving local resources. Please contact the Gleap support team."),n()}))}))},b=function(e,t){return new Promise((function(n,o){for(var i=window.document.querySelectorAll("style, link"),r=0;r<i.length;++r)i[r].setAttribute("bb-styleid",r);var s,c,l=(s=window.document.documentElement,c=document.createDocumentFragment(),function e(t,n){var a=function(t,n){for(;t;)e(t,n),t=t.nextSibling},o=t.cloneNode();if(t instanceof HTMLCanvasElement&&o.setAttribute("bb-canvas-data",t.toDataURL()),t instanceof HTMLCanvasElement&&o.setAttribute("bb-canvas-data",t.toDataURL()),t.nodeType==Node.ELEMENT_NODE){var i=t.tagName?t.tagName.toUpperCase():t.tagName;if("IFRAME"==i||"VIDEO"==i||"EMBED"==i||"IMG"==i||"SVG"==i){var r=0;r="border-box"===t.style.boxSizing?t.height+t.marginTop+t.marginBottom+t.bordorTop+t.borderBottom:t.height,o.setAttribute("bb-element",!0),o.setAttribute("bb-height",r)}"DIV"==i&&(t.scrollTop>0||t.scrollLeft>0)&&(o.setAttribute("bb-scrollpos",!0),o.setAttribute("bb-scrolltop",t.scrollTop),o.setAttribute("bb-scrollleft",t.scrollLeft)),"SELECT"!==i&&"TEXTAREA"!==i&&"INPUT"!==i||(o.setAttribute("bb-data-value",t.value),"checkbox"!==t.type&&"radio"!==t.type||t.checked&&o.setAttribute("bb-data-checked",!0))}n.appendChild(o),t.shadowRoot&&a(t.shadowRoot.firstChild,o),a(t.firstChild,o)}(s,c),c),d=l.querySelectorAll("link[rel=import]");for(r=0;r<d.length;++r){var b=d[r];if(b&&b.childNodes&&b.childNodes.length>0){for(var h=b.childNodes;h.length>0;)b.parentNode.insertBefore(h[0],b);b.remove()}}var f=l.querySelectorAll("script, noscript");for(r=0;r<f.length;++r)f[r].remove();var p=l.querySelectorAll("base");for(r=0;r<p.length;++r)p[r].remove();var v=window.location.href.substring(0,window.location.href.lastIndexOf("/"))+"/",g=window.document.createElement("base");g.href=v;var m=l.querySelector("head");m.insertBefore(g,m.firstChild);var y=l.querySelectorAll(".bb-feedback-dialog-container, .bb-screenshot-editor-borderlayer");for(r=0;r<y.length;++r)y[r].remove();var k=l.querySelectorAll("[bb-element=true]");for(r=0;r<k.length;++r)k[r].style.height=k[r].getAttribute("bb-height");u(l,t).then((function(){var t=function(e){var t="",n=window.document.doctype;if(n&&(t="<!DOCTYPE "+n.name+(n.publicId?' PUBLIC "'+n.publicId+'"':"")+(!n.publicId&&n.systemId?" SYSTEM":"")+(n.systemId?' "'+n.systemId+'"':"")+">"),e&&e.childNodes&&e.childNodes.length>0)for(var a=0;a<e.childNodes.length;a++)e.childNodes[a]&&(t+=e.childNodes[a].outerHTML);return t}(l);n({html:t,baseUrl:v,x:e.x,y:e.y,width:window.innerWidth,height:window.innerHeight,isMobile:a()})}))}))},h=function(e,t){var n=oe.getInstance(),a=navigator.language;""!==t&&(a=t);for(var o={},i=Object.keys(n.customTranslation),r=0;r<i.length;r++){var s=i[r];a&&a.includes(s)&&n.customTranslation[s]&&(o=n.customTranslation[s])}return o[e]?o[e]:e||""},f=function(e){return(299*parseInt(e.substr(1,2),16)+587*parseInt(e.substr(3,2),16)+114*parseInt(e.substr(5,2),16))/1e3>=128?"black":"white"},p=function(e,t,n){var a=f(e),o=f(t),i=f(n),r="\n    .bb-screenshot-editor-drag-info {\n      color: ".concat(a,";\n    }\n    .bb-logo-arrowdown {\n      fill: ").concat(i,";\n    }\n    .bb-feedback-dialog-header-back svg {\n      fill: ").concat(o,";\n    }\n    .bb-feedback-dialog-header-close svg {\n      fill: ").concat(o,";\n    }\n    .bb-feedback-dialog-header-back:hover svg {\n      fill: ").concat(a,";\n    }\n    .bb-feedback-dialog-header-title,\n    .bb-feedback-dialog-header-title span {\n      color: ").concat(o,";\n    }\n    .bb-feedback-dialog-header-title-small {\n      color: ").concat(o,";\n    }\n    .bb-feedback-dialog-header-description {\n      color: ").concat(o,";\n    }\n    .bb-feedback-onetofive-button-active,\n    .bb-feedback-onetofive-button:hover {\n      background-color: ").concat(e,";\n      color: ").concat(a,";\n    }    \n    .bb-feedback-button-icon {\n        background-color: ").concat(n,";\n    }\n    .bb-feedback-multiplechoice-container:hover\n      input\n      ~ .bb-feedback-multiplechoice-checkmark {\n      border: 2px solid ").concat(e,";\n    }    \n    .bb-feedback-multiplechoice-container input:checked ~ .bb-feedback-multiplechoice-checkmark {\n      background-color: ").concat(e,";\n      border: 2px solid ").concat(e,";\n    }\n    .bb-feedback-dialog-header-button {\n        color: ").concat(e,";\n    }\n    .bb-drawing-tool-item--active {\n      background-color: ").concat(e,";\n    }\n    .bb-screenshot-editor-borderlayer {\n        border-color: ").concat(e,";\n    }\n    .bb-feedback-button-classic {\n      background-color: ").concat(n,";\n      color: ").concat(i,";\n    }\n    .bb-screenshot-editor-dot {\n      background-color: ").concat(e,";\n    }\n    .bb-feedback-dialog-header {\n      background-color: ").concat(t,";\n    }\n    .bb-form-progress-inner {\n      background-color: ").concat(t,"44;\n    }\n    .bb-screenshot-editor-rectangle {\n      border-color: ").concat(e,";\n    }\n    .bb-feedback-inputgroup textarea:focus {\n      border-color: ").concat(e,";\n    }\n    .bb-feedback-inputgroup > input:focus, .bb-feedback-inputgroup input:focus {\n      border-color: ").concat(e,";\n    }\n    .bb-feedback-send-button {\n      color: ").concat(a,";\n      background-color: ").concat(e,";\n    }\n    .bb-screenshot-editor-drag-info {\n      background-color: ").concat(e,";\n    }\n    .bb-double-bounce1,\n    .bb-double-bounce2 {\n      background-color: ").concat(e,";\n    }\n    .bb-feedback-dialog-header-button-cancel {\n      background-color: ").concat(e,";\n    }\n    .bb-feedback-type-icon {\n      background-color: ").concat(e,';\n    }\n    .bb-feedback-inputgroup--privacy-policy\n    [type="checkbox"]:not(:checked)\n    + label:after,\n    .bb-feedback-inputgroup--privacy-policy\n    [type="checkbox"]:checked\n    + label:after {\n    color: ').concat(e,";\n    }\n    "),s=document.createElement("style");s.innerHTML=r,oe.appendNode(s)},v=function(e){var t=w("bblogo","#192027");return e&&(t='<img src="'.concat(e,'" alt="bb-logo" />')),t},g=function(e,t,n,a,o){var i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"",s=document.createElement("div");s.className="bb-feedback-dialog-container",s.innerHTML='<div class="bb-feedback-dialog-backdrop"></div><div class=\'bb-feedback-dialog '.concat(r,"'>\n      <div class=\"bb-feedback-dialog-header").concat(o?" bb-feedback-dialog-header--back":"").concat(i?"":" bb-feedback-dialog-header--backhidden",'">\n        ').concat(o?'<div class="bb-feedback-dialog-header-back">\n        '.concat(w("arrowleft","#192027"),"\n        </div>"):'<div class="bb-feedback-dialog-header-logo">\n          '.concat(v(n),"\n        </div>"),'\n        <div class="bb-feedback-dialog-header-text">\n          <div class="bb-feedback-dialog-header-title">\n            ').concat(e,"\n          </div>\n          ").concat(null===t?"":'<div class="bb-feedback-dialog-header-description">\n          '.concat(t,"\n        </div>"),'\n        </div>\n        <div class="bb-feedback-dialog-header-close">\n          ').concat(w("close","#192027"),'\n        </div>\n      </div>\n      <div class="bb-feedback-dialog-body">\n        ').concat(a,'\n        <div class="bb-feedback-poweredbycontainer">\n          <span>Powered by</span>\n          <svg width="56px" height="14px" viewBox="0 0 56 14" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n            <title>Full</title>\n            <defs>\n                <path d="M7.62134731,11.7168439 C10.7925573,10.8074439 12.6261573,7.49958394 11.7168573,4.32840394 C10.8074573,1.15721394 7.49958731,-0.676385062 4.32839731,0.232937938 C1.15721731,1.14226394 -0.676384685,4.45016394 0.232937315,7.62134394 C1.87940731,13.3632439 8.09176731,13.3573439 8.09176731,13.3573439 L7.62134731,11.7168439 Z" id="path-1"></path>\n                <path d="M1.8672919,6.96713413 C0.0816638964,5.93623413 -0.530136104,3.65291413 0.500794896,1.86729413 C1.5317219,0.0816641267 3.8150019,-0.530135873 5.6006219,0.500794127 C7.3862519,1.53172413 7.9980519,3.81500413 6.9671219,5.60063413 C5.1004519,8.83383413 1.3339519,7.89083413 1.3339519,7.89083413 L1.8672919,6.96713413 Z" id="path-3"></path>\n            </defs>\n            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                <g id="Full" transform="translate(0.139727, 0.213318)">\n                    <g id="Group" transform="translate(0.000000, 0.031538)">\n                        <path d="M1.86729331,11.1814439 C0.081664305,10.1505439 -0.530136695,7.86725394 0.500795305,6.08163394 C1.53172331,4.29600394 3.81499331,3.68420394 5.60062331,4.71513394 C7.38625331,5.74607394 7.99805331,8.02934394 6.96711331,9.81494394 C5.10045331,13.0481439 1.33395331,12.1052439 1.33395331,12.1052439 L1.86729331,11.1814439 Z" id="Path" fill="#9B9FAE" fill-rule="nonzero"></path>\n                        <path d="M9.12196331,11.7168439 C12.2931733,10.8074439 14.1267733,7.49958394 13.2174733,4.32840394 C12.3080733,1.15721394 9.00020331,-0.676385062 5.82901331,0.232937938 C2.65783331,1.14226394 0.824231305,4.45016394 1.73355331,7.62134394 C3.38002331,13.3632439 9.59238331,13.3573439 9.59238331,13.3573439 L9.12196331,11.7168439 Z" id="Path" fill="#59617D" fill-rule="nonzero"></path>\n                        <g id="Clipped" transform="translate(1.500616, 0.000000)">\n                            <mask id="mask-2" fill="white">\n                                <use xlink:href="#path-1"></use>\n                            </mask>\n                            <g id="Path"></g>\n                            <g id="Group" mask="url(#mask-2)">\n                                <g transform="translate(-1.500616, 1.998984)">\n                                    <path d="M1.86729331,9.18246008 C0.081664305,8.15156008 -0.530136695,5.86827008 0.500795305,4.08265008 C1.53172331,2.29702008 3.81499331,1.68522008 5.60062331,2.71615008 C7.38625331,3.74709008 7.99805331,6.03036008 6.96711331,7.81596008 C5.10045331,11.0491601 1.33395331,10.1062601 1.33395331,10.1062601 L1.86729331,9.18246008 Z" id="Path" fill="#9B9FAE" fill-rule="nonzero"></path>\n                                    <path d="M5.30150331,1.98686008 C4.86477331,2.52595008 4.67376331,3.24963008 4.67376331,3.94280008 C4.67377331,4.63597008 4.86478331,5.35966008 5.30151331,5.89874008 C5.72299331,6.41900008 6.41703331,6.82280008 7.55380331,6.82280008 C8.75231331,6.82280008 9.34910331,6.29506008 9.66298331,5.79329008 C9.88377331,5.44027008 9.96297331,5.18227008 9.99127331,5.00847008 C10.0102733,4.89219008 10.1025733,4.79614008 10.2204733,4.79614008 L10.8604733,4.79614008 C10.9782733,4.79614008 11.0751733,4.89168008 11.0650733,5.00907008 C11.0386733,5.31795008 10.9365733,5.76872008 10.5672733,6.35898008 C10.0730733,7.14905008 9.14668331,7.88946008 7.55380331,7.88946008 C6.13053331,7.88946008 5.11789331,7.36660008 4.47270331,6.57019008 C3.84275331,5.79261008 3.60710331,4.80964008 3.60710331,3.94281008 C3.60710331,3.07597008 3.84274331,2.09299008 4.47269331,1.31541008 C5.08514331,0.559430078 6.02868331,0.0499200777 7.34025331,0.000150077701 C7.45798331,-0.0043199223 7.55380331,0.0916500777 7.55380331,0.209470078 L7.55380331,0.849470078 C7.55380331,0.967290078 7.45817331,1.06220008 7.34048331,1.06771008 C6.32912331,1.11508008 5.69595331,1.49997008 5.30150331,1.98686008 Z" id="Path" fill="#FFFFFF" fill-rule="evenodd"></path>\n                                    <g id="Clipped" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(0.000121, 2.215326)">\n                                        <mask id="mask-4" fill="white">\n                                            <use xlink:href="#path-3"></use>\n                                        </mask>\n                                        <g id="Path"></g>\n                                        <path d="M5.3015019,-0.228475873 C4.8647719,0.310604127 4.6737619,1.03429413 4.6737619,1.72745413 C4.6737719,2.42062413 4.8647919,3.14431413 5.3015219,3.68340413 C5.7229919,4.20366413 6.4170319,4.60746413 7.5538019,4.60746413 C8.7523119,4.60746413 9.3491019,4.07971413 9.6629919,3.57794413 C10.0054519,3.03053413 10.0070519,2.71159413 10.0070519,2.58079413 L11.0737519,2.58079413 C11.0737519,2.87666413 11.0329519,3.39921413 10.5672519,4.14363413 C10.0730519,4.93370413 9.1466819,5.67413413 7.5538019,5.67413413 C6.1305419,5.67413413 5.1179019,5.15126413 4.4727019,4.35485413 C3.8427619,3.57727413 3.6071019,2.59429413 3.6071019,1.72746413 C3.6071019,0.860624127 3.8427419,-0.122345873 4.4726919,-0.899935873 C5.1178919,-1.69633587 6.1305419,-2.21920587 7.5538019,-2.21920587 L7.5538019,-1.15253587 C6.4170319,-1.15253587 5.7229919,-0.748735873 5.3015019,-0.228475873 Z" id="Path" fill="#DEE1EA" mask="url(#mask-4)"></path>\n                                    </g>\n                                    <path d="M11.3936733,2.66281008 C11.3936733,3.13409008 11.0116733,3.51614008 10.5403733,3.51614008 C10.0690733,3.51614008 9.68705331,3.13409008 9.68705331,2.66281008 C9.68705331,2.19152008 10.0690733,1.80947008 10.5403733,1.80947008 C11.0116733,1.80947008 11.3936733,2.19152008 11.3936733,2.66281008 Z" id="Path" fill="#FFFFFF" fill-rule="nonzero"></path>\n                                </g>\n                            </g>\n                        </g>\n                    </g>\n                    <g id="Group" transform="translate(16.940373, 0.000000)" fill="#59617D" fill-rule="nonzero">\n                        <path d="M7.1767,3.552342 L9.442,3.552342 C9.1537,1.467272 7.3157,-1.11022302e-16 4.9321,-1.11022302e-16 C2.1468,-1.11022302e-16 -3.55271368e-15,2.007842 -3.55271368e-15,5.426322 C-3.55271368e-15,8.762432 2.0078,10.832082 4.9784,10.832082 C7.6401,10.832082 9.5398,9.148552 9.5398,6.373612 L9.5398,5.045352 L5.1277,5.045352 L5.1277,6.723702 L7.393,6.723702 C7.3621,8.031372 6.4714,8.860252 4.9887,8.860252 C3.3155,8.860252 2.2601,7.609212 2.2601,5.405732 C2.2601,3.212552 3.3567,1.971802 4.9681,1.971802 C6.1162,1.971802 6.8936,2.563862 7.1767,3.552342 Z" id="Path"></path>\n                        <polygon id="Path" points="12.9314 0.144153 10.7382 0.144153 10.7382 10.687882 12.9314 10.687882"></polygon>\n                        <path d="M17.8571,10.842382 C19.8135,10.842382 21.1314,9.889882 21.4403,8.422642 L19.4119,8.288792 C19.1905,8.891142 18.6242,9.205182 17.8932,9.205182 C16.7966,9.205182 16.1015,8.479272 16.1015,7.300312 L16.1015,7.295162 L21.4867,7.295162 L21.4867,6.692812 C21.4867,4.005392 19.8598,2.677122 17.7696,2.677122 C15.4426,2.677122 13.9341,4.329732 13.9341,6.770032 C13.9341,9.277262 15.422,10.842382 17.8571,10.842382 Z M16.1015,5.936012 C16.1479,5.035052 16.8326,4.314292 17.8056,4.314292 C18.7581,4.314292 19.4171,4.993862 19.4222,5.936012 L16.1015,5.936012 Z" id="Shape"></path>\n                        <path d="M24.7379,10.837182 C25.9066,10.837182 26.6634,10.327482 27.0495,9.591312 L27.1113,9.591312 L27.1113,10.687882 L29.1912,10.687882 L29.1912,5.354252 C29.1912,3.469962 27.5953,2.677122 25.8345,2.677122 C23.94,2.677122 22.6941,3.583232 22.3903,5.024752 L24.4187,5.189502 C24.568,4.664372 25.0365,4.278252 25.8242,4.278252 C26.5707,4.278252 26.998,4.654072 26.998,5.302762 L26.998,5.333652 C26.998,5.843342 26.4575,5.910262 25.0829,6.044122 C23.5178,6.188272 22.1123,6.713402 22.1123,8.479272 C22.1123,10.044382 23.2295,10.837182 24.7379,10.837182 Z M25.366,9.323602 C24.6916,9.323602 24.2077,9.009552 24.2077,8.407202 C24.2077,7.789402 24.7173,7.485652 25.4896,7.377532 C25.9684,7.310612 26.7509,7.197342 27.0135,7.022302 L27.0135,7.861482 C27.0135,8.690352 26.3288,9.323602 25.366,9.323602 Z" id="Shape"></path>\n                        <path d="M30.4578,13.653382 L32.651,13.653382 L32.651,9.421422 L32.7179,9.421422 C33.0217,10.080382 33.6858,10.816582 34.9626,10.816582 C36.7645,10.816582 38.17,9.390522 38.17,6.744292 C38.17,4.025982 36.7027,2.677122 34.9677,2.677122 C33.6446,2.677122 33.0114,3.464812 32.7179,4.108352 L32.6201,4.108352 L32.6201,2.780092 L30.4578,2.780092 L30.4578,13.653382 Z M32.6047,6.733992 C32.6047,5.323362 33.2019,4.422402 34.2676,4.422402 C35.3539,4.422402 35.9305,5.364542 35.9305,6.733992 C35.9305,8.113742 35.3436,9.071332 34.2676,9.071332 C33.2122,9.071332 32.6047,8.144632 32.6047,6.733992 Z" id="Shape"></path>\n                    </g>\n                </g>\n            </g>\n          </svg>\n        </div>\n      </div>\n    </div>'),oe.appendNode(s);var c=oe.getInstance().buttonType;c===oe.FEEDBACK_BUTTON_BOTTOM_LEFT&&s.classList.add("bb-feedback-button--bottomleft"),c===oe.FEEDBACK_BUTTON_NONE&&s.classList.add("bb-feedback-button--disabled"),c!==oe.FEEDBACK_BUTTON_CLASSIC&&c!==oe.FEEDBACK_BUTTON_CLASSIC_LEFT&&c!==oe.FEEDBACK_BUTTON_CLASSIC_BOTTOM||s.classList.add("bb-feedback-button--classic");var l=document.querySelector(".bb-feedback-dialog-header-close");if(l.onclick=function(){"t"!==l.getAttribute("d")&&oe.getInstance().closeGleap()},o){var d=document.querySelector(".bb-feedback-dialog-header-back");d.onclick=function(){"t"!==d.getAttribute("d")&&o()}}return s},m=function(e,t,n,a,o,i,r,s){for(var c='<div class="bb-feedback-types">',l=0;l<e.length;l++){var d=e[l];c+='<div id="bb-feedback-type-'.concat(l,'" class="bb-feedback-type">\n        <div class="bb-feedback-type-icon" style="background-color: ').concat(d.color,';">\n          <img src="').concat(d.icon,'">\n        </div>\n        <div class="bb-feedback-type-text">\n          <div class="bb-feedback-type-title">').concat(h(d.title,t),'</div>\n          <div class="bb-feedback-type-description">').concat(h(d.description,t),"</div>\n        </div>\n      </div>")}var u=g(i,r,n,c+="</div>",null,!0,s?"bb-anim-fadeinfromback":"bb-anim-fadein"),b=function(){var t=l;document.getElementById("bb-feedback-type-".concat(t)).onclick=function(){u.remove(),e[t].action&&(oe.getInstance().closeGleap(),e[t].action()),e[t].actionFlow&&oe.startFeedbackFlow(e[t].actionFlow),o&&o()}};for(l=0;l<e.length;l++)b();y(a)},y=function(e){var t=document.querySelector(".bb-feedback-poweredbycontainer");e?t.style.display="none":t.onclick=function(){window.open("https://www.gleap.io/","_blank")}},k=function(e){var t=window.document.querySelector(".bb--progress-ring__circle"),n=213.628300444,a=n-e/100*n;t&&(t.style.strokeDasharray="".concat(n," ").concat(n),t.style.strokeDashoffset=a)},w=function(e,t){return"bblogo"===e?'<svg class="bb-logo-logo" width="41px" height="41px" viewBox="0 0 41 41" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>Group</title>\n    <defs>\n        <path d="M22.8640197,35.1504495 C32.3776197,32.4224495 37.8784197,22.4987495 35.1504197,12.9852495 C32.4224197,3.4716495 22.4987197,-2.0291505 12.9852197,0.698809498 C3.47164965,3.4267795 -2.02915035,13.3504495 0.698809655,22.8640495 C5.63821965,40.0898495 24.2753197,40.0720495 24.2753197,40.0720495 L22.8640197,35.1504495 Z" id="path-1"></path>\n        <path d="M5.60186532,20.901389 C0.244995316,17.808589 -1.59040968,10.958789 1.50238532,5.60188901 C4.59517532,0.244989006 11.4449653,-1.59041099 16.8018653,1.50238901 C22.1587653,4.59518901 23.9941653,11.444989 20.9013653,16.801889 C15.3013653,26.501389 4.00186532,23.672589 4.00186532,23.672589 L5.60186532,20.901389 Z" id="path-3"></path>\n    </defs>\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Group" transform="translate(0.000000, -0.000000)">\n            <path d="M5.60186839,33.5444495 C0.244988386,30.4516495 -1.59040861,23.6018495 1.50238839,18.2449495 C4.59517839,12.8880495 11.4449884,11.0526495 16.8018884,14.1454495 C22.1587884,17.2382495 23.9941884,24.0880495 20.9013884,29.4449495 C15.3013884,39.1444495 4.00186839,36.3156495 4.00186839,36.3156495 L5.60186839,33.5444495 Z" id="Path" fill="#9D50FF" fill-rule="nonzero"></path>\n            <path d="M27.3659884,35.1504495 C36.8795884,32.4224495 42.3803884,22.4987495 39.6523884,12.9852495 C36.9243884,3.4716495 27.0006884,-2.0291505 17.4871884,0.698809498 C7.97361839,3.4267795 2.47281839,13.3504495 5.20077839,22.8640495 C10.1401884,40.0898495 28.7772884,40.0720495 28.7772884,40.0720495 L27.3659884,35.1504495 Z" id="Path" fill="#485BFF" fill-rule="nonzero"></path>\n            <g id="Clipped" transform="translate(4.501969, 0.000000)">\n                <mask id="mask-2" fill="white">\n                    <use xlink:href="#path-1"></use>\n                </mask>\n                <g id="Path"></g>\n                <g id="Group" mask="url(#mask-2)">\n                    <g transform="translate(-4.501969, 5.997020)">\n                        <path d="M5.60186839,27.5474296 C0.244988386,24.4546296 -1.59040861,17.6048296 1.50238839,12.2479296 C4.59517839,6.89102957 11.4449884,5.05562957 16.8018884,8.14842957 C22.1587884,11.2412296 23.9941884,18.0910296 20.9013884,23.4479296 C15.3013884,33.1474296 4.00186839,30.3186296 4.00186839,30.3186296 L5.60186839,27.5474296 Z" id="Path" fill="#9D50FF" fill-rule="nonzero"></path>\n                        <path d="M15.9047884,5.96062957 C14.5945884,7.57782957 14.0214884,9.74892957 14.0215884,11.8284296 C14.0215884,13.9079296 14.5945884,16.0790296 15.9047884,17.6962296 C17.1691884,19.2570296 19.2513884,20.4684296 22.6616884,20.4684296 C26.2571884,20.4684296 28.0475884,18.8852296 28.9891884,17.3799296 C29.6516884,16.3208296 29.8890884,15.5468296 29.9740884,15.0254296 C30.0309884,14.6765296 30.3080884,14.3884296 30.6615884,14.3884296 L32.5815884,14.3884296 C32.9349884,14.3884296 33.2256884,14.6750296 33.1955884,15.0272296 C33.1161884,15.9538296 32.8098884,17.3061296 31.7020884,19.0769296 C30.2194884,21.4471296 27.4402884,23.6684296 22.6616884,23.6684296 C18.3918884,23.6684296 15.3538884,22.0998296 13.4183884,19.7106296 C11.5284884,17.3778296 10.8215884,14.4289296 10.8215884,11.8284296 C10.8215884,9.22792957 11.5284884,6.27902957 13.4182884,3.94622957 C15.2556884,1.67828957 18.0862884,0.149779575 22.0209884,0.000449574751 C22.3741884,-0.0129504252 22.6616884,0.274959575 22.6616884,0.628429575 L22.6616884,2.54842957 C22.6616884,2.90188957 22.3747884,3.18660957 22.0216884,3.20314957 C18.9875884,3.34525957 17.0880884,4.49992957 15.9047884,5.96062957 Z" id="Path" fill="#FFFFFF" fill-rule="evenodd"></path>\n                        <g id="Clipped" stroke-width="1" fill="none" fill-rule="evenodd" transform="translate(0.000123, 6.646041)">\n                            <mask id="mask-4" fill="white">\n                                <use xlink:href="#path-3"></use>\n                            </mask>\n                            <g id="Path"></g>\n                            <path d="M15.9046653,-0.685410994 C14.5944653,0.931789006 14.0213653,3.10288901 14.0214653,5.18238901 C14.0214653,7.26188901 14.5944653,9.43298901 15.9046653,11.050189 C17.1690653,12.610989 19.2512653,13.822389 22.6615653,13.822389 C26.2570653,13.822389 28.0474653,12.239189 28.9890653,10.733889 C30.0163653,9.09158901 30.0214653,8.13478901 30.0214653,7.74238901 L33.2213653,7.74238901 C33.2213653,8.62998901 33.0990653,10.197689 31.7019653,12.430889 C30.2193653,14.801089 27.4401653,17.022389 22.6615653,17.022389 C18.3917653,17.022389 15.3537653,15.453789 13.4182653,13.064589 C11.5283653,10.731789 10.8214653,7.78288901 10.8214653,5.18238901 C10.8214653,2.58188901 11.5283653,-0.367010994 13.4181653,-2.69981099 C15.3537653,-5.08901099 18.3917653,-6.65761099 22.6615653,-6.65761099 L22.6615653,-3.45761099 C19.2512653,-3.45761099 17.1690653,-2.24621099 15.9046653,-0.685410994 Z" id="Path" fill="#FFC5F6" mask="url(#mask-4)"></path>\n                        </g>\n                        <path d="M34.1814884,7.98842957 C34.1814884,9.40222957 33.0353884,10.5484296 31.6214884,10.5484296 C30.2076884,10.5484296 29.0614884,9.40222957 29.0614884,7.98842957 C29.0614884,6.57462957 30.2076884,5.42842957 31.6214884,5.42842957 C33.0353884,5.42842957 34.1814884,6.57462957 34.1814884,7.98842957 Z" id="Path" fill="#FFFFFF" fill-rule="nonzero"></path>\n                    </g>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>':"arrowdown"===e?'<svg class="bb-logo-arrowdown" fill="'.concat(t,'" width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n    <path d="m50 77.637c-1.3477 0-2.6953-0.51562-3.7266-1.543l-44.73-44.73c-2.0586-2.0586-2.0586-5.3945 0-7.4531 2.0586-2.0586 5.3945-2.0586 7.4531 0l41.004 41 41.004-41c2.0586-2.0586 5.3945-2.0586 7.4531 0 2.0586 2.0586 2.0586 5.3945 0 7.4531l-44.73 44.727c-1.0312 1.0312-2.3789 1.5469-3.7266 1.5469z"/>\n   </svg>'):"arrowleft"===e?'<svg fill="'.concat(t,'" width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n    <path d="m70.988 1.6211c2.1875-2.168 5.7344-2.168 7.9297 0 2.1836 2.168 2.1836 5.7227 0 7.8906l-46.016 40.445 46.016 40.5c2.1836 2.168 2.1836 5.668 0 7.8906-2.1953 2.168-5.7383 2.168-7.9297 0l-50.039-44.109c-1.168-1.168-1.668-2.7227-1.5898-4.2773-0.078125-1.5 0.42188-3.0547 1.5898-4.2227l50.039-44.109z" fill-rule="evenodd"/>\n   </svg>'):"close"===e?'<svg fill="'.concat(t,'" width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n    <path d="m72.812 33.02l-5.832-5.832-16.98 16.875-16.98-16.875-5.832 5.832 16.875 16.98-16.875 16.98 5.832 5.832 16.98-16.875 16.98 16.875 5.832-5.832-16.875-16.98z"/>\n   </svg>'):""},L=function(e){var t=document.querySelector(".bb-feedback-form"),n=document.querySelector(".bb-feedback-dialog-loading"),a=document.querySelector(".bb-feedback-dialog-header-back"),o=document.querySelector(".bb-feedback-dialog-header-close");e?(t.style.display="none",n.style.display="flex",a&&(a.setAttribute("d","t"),a.style.opacity="0.2"),o&&(o.setAttribute("d","t"),o.style.opacity="0.2")):(t.style.display="block",n.style.display="none",a&&(a.setAttribute("d","n"),a.style.opacity="1"),o&&(o.setAttribute("d","n"),o.style.opacity="1"))};function C(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const T=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S(this,"requestId",0),S(this,"requests",{}),S(this,"maxRequests",10),S(this,"stopped",!1)}var t,n,a;return t=e,(n=[{key:"getRequests",value:function(){return Object.values(this.requests)}},{key:"setMaxRequests",value:function(e){this.maxRequests=e}},{key:"setStopped",value:function(e){this.stopped=e}},{key:"cleanRequests",value:function(){var e=Object.keys(this.requests);if(e.length>this.maxRequests)for(var t=e.slice(0,e.length-this.maxRequests),n=0;n<t.length;n++)delete this.requests[t[n]]}},{key:"calcRequestTime",value:function(e){if(e&&this.requests&&this.requests[e]){var t=this.requests[e].date;t&&(this.requests[e].duration=(new Date).getTime()-t.getTime())}}},{key:"calculateTextSize",value:function(e){return(new TextEncoder).encode(e).length/1024/1024}},{key:"start",value:function(){var e=this,t=this;this.interceptNetworkRequests({onFetch:function(t,n){if(!e.stopped&&n&&e.requests){if(t.length>=2&&t[1]){var a=t[1]&&t[1].method?t[1].method:"GET";e.requests[n]={request:{payload:t[1].body,headers:t[1].headers},type:a,url:t[0],date:new Date}}else e.requests[n]={url:t[0],date:new Date};e.cleanRequests()}},onFetchLoad:function(n,a){!e.stopped&&a&&e.requests&&e.requests[a]&&n.text().then((function(o){e.requests[a].success=!0,e.requests[a].response={status:n.status,statusText:n.statusText,responseText:t.calculateTextSize(o)>.5?"<response_too_large>":o},e.calcRequestTime(a),e.cleanRequests()}))},onFetchFailed:function(t,n){!e.stopped&&n&&e.requests&&e.requests[n]&&(e.requests[n].success=!1,e.calcRequestTime(n),e.cleanRequests())},onOpen:function(t,n){e.stopped||(t&&t.bbRequestId&&n.length>=2&&e.requests&&(e.requests[t.bbRequestId]={type:n[0],url:n[1],date:new Date}),e.cleanRequests())},onSend:function(t,n){e.stopped||(t&&t.bbRequestId&&n.length>0&&e.requests&&e.requests[t.bbRequestId]&&(e.requests[t.bbRequestId].request={payload:n[0],headers:t.requestHeaders}),e.cleanRequests())},onError:function(t,n){if(!e.stopped&&e.requests&&t&&t.currentTarget&&t.currentTarget.bbRequestId&&e.requests[t.currentTarget.bbRequestId]){var a=t.currentTarget;e.requests[a.bbRequestId].success=!1,e.calcRequestTime(t.bbRequestId)}e.cleanRequests()},onLoad:function(t,n){if(!e.stopped){if(t&&t.currentTarget&&t.currentTarget.bbRequestId&&e.requests&&e.requests[t.currentTarget.bbRequestId]){var a=t.currentTarget;e.requests[a.bbRequestId].success=!0,e.requests[a.bbRequestId].response={status:a.status,statusText:a.statusText,responseText:"text"===a.responseType?a.responseText:"<"+a.responseType+">"},e.calcRequestTime(a.bbRequestId)}e.cleanRequests()}}})}},{key:"interceptNetworkRequests",value:function(e){var t,n=this,a=XMLHttpRequest.prototype.open,o=XMLHttpRequest.prototype.send;return XMLHttpRequest.prototype.wrappedSetRequestHeader=XMLHttpRequest.prototype.setRequestHeader,XMLHttpRequest.prototype.setRequestHeader=function(e,t){this.wrappedSetRequestHeader(e,t),this.requestHeaders||(this.requestHeaders={}),this.requestHeaders[e]||(this.requestHeaders[e]=[]),this.requestHeaders[e].push(t)},XMLHttpRequest.prototype.open=function(){return this.bbRequestId=++n.requestId,e.onOpen&&e.onOpen(this,arguments),e.onLoad&&this.addEventListener("load",e.onLoad.bind(e)),e.onError&&this.addEventListener("error",e.onError.bind(e)),a.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){return e.onSend&&e.onSend(this,arguments),o.apply(this,arguments)},window.fetch&&(t=window.fetch,window.fetch=function(){var a=++n.requestId;return e.onFetch(arguments,a),t.apply(this,arguments).then((function(t){return t.blob().then((function(o){return t.text=function(){return n.blobToTextPromise(o)},t.json=function(){return n.blobToTextPromise(o).then((function(e){return JSON.parse(e)}))},t.blob=function(){return Promise.resolve(o)},t.arrayBuffer=function(){return o.arrayBuffer()},e.onFetchLoad(t,a),t}))})).catch((function(t){throw e.onFetchFailed(t,a),t}))}),e}},{key:"blobToTextPromise",value:function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(e){e&&e.target&&e.target.result?t(e.target.result):n()},a.onerror=function(e){n(e)},a.readAsText(e)}))}}])&&C(t.prototype,n),a&&C(t,a),e}();function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var R=function(){function e(t,n,a){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.win=t,this.node=n,this.rec=a,this.initialState={},this.initialActions=[],this.prepEvent=function(e){var t;return o.flushObserver(),(null===(t=e.target)||void 0===t?void 0:t.ReplayRecID)||0},this.mouseListener=function(e){var t=e.clientX,n=e.clientY,a=e.target,i=o.node;if(i.contains(a)){o.flushObserver();var r,s=i.getBoundingClientRect();switch(t-=s.left,n-=s.top,e.type){case"mousemove":r="m";break;case"mouseup":r="u";break;case"mousedown":r="n";break;default:throw new Error("Unknown event type: ".concat(e.type))}o.rec.actions.push(E({},r,[Math.round(t),Math.round(n)]))}},this.scrollListener=function(e){if(o.node.contains(e.target)){var t=o.prepEvent(e);t&&o.rec.pushScrollAction(t,e.target)}},this.mainScrollListener=function(){o.flushObserver(),o.rec.actions.push(E({},"x",[window.scrollX,window.scrollY]))},this.inputListener=function(e){if(o.node.contains(e.target)){var t=o.prepEvent(e);if(t&&"value"in e.target){var n=e.target.value;"password"===e.target.type&&n&&n.length&&(n=new Array(n.length+1).join("*")),o.rec.actions.push(E({},"i",[t,n]))}if(t&&"type"in e.target&&"checkbox"===e.target.type){var a=e.target.checked;o.rec.actions.push(E({},"z",[t,a]))}}},this.flushListener=function(e){if(o.node.contains(e.target)){var t=o.prepEvent(e);t&&o.rec.actions.push(E({},"f",t))}},this.canvasListener=function(e){if(o.node.contains(e.target)){var t=o.prepEvent(e);t&&o.rec.actions.push(E({},"c",[t,e.target.toDataURL(),"didDraw"]))}},this.focusListener=function(){},n.ownerDocument.ReplayRecInner=this;var i=[],r=this.rec.serializeNode(this.node,i);r&&(this.initialState=r,this.initialActions=i,this.observer=new MutationObserver(a.observerCallback),this.observer.observe(n,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),this.mainScrollListener(),t.addEventListener("input",this.inputListener,{capture:!0,passive:!0}),t.addEventListener("mousemove",this.mouseListener,{capture:!0,passive:!0}),t.addEventListener("mousedown",this.mouseListener,{capture:!0,passive:!0}),t.addEventListener("mouseup",this.mouseListener,{capture:!0,passive:!0}),t.addEventListener("forceStyleFlush",this.flushListener,{capture:!0,passive:!0}),t.addEventListener("didDrawCanvas",this.canvasListener,{capture:!0,passive:!0}),t.addEventListener("focus",this.focusListener,{capture:!0,passive:!0}),t.addEventListener("scroll",this.mainScrollListener,{capture:!0,passive:!0}))}var t,n,a;return t=e,(n=[{key:"stop",value:function(){this.flushObserver(),this.observer.disconnect(),this.win.removeEventListener("input",this.inputListener,{capture:!0,passive:!0}),this.win.removeEventListener("mousemove",this.mouseListener,{capture:!0,passive:!0}),this.win.removeEventListener("mousedown",this.mouseListener,{capture:!0,passive:!0}),this.win.removeEventListener("mouseup",this.mouseListener,{capture:!0,passive:!0}),this.win.removeEventListener("forceStyleFlush",this.flushListener,{capture:!0,passive:!0}),this.win.removeEventListener("didDrawCanvas",this.canvasListener,{capture:!0,passive:!0}),this.win.removeEventListener("focus",this.focusListener,{capture:!0,passive:!0}),this.win.removeEventListener("scroll",this.mainScrollListener,{capture:!0,passive:!0}),this.rec.deleteAllReplayRecIDs(this.node)}},{key:"flushObserver",value:function(){this.rec.observerCallback(this.observer.takeRecords())}}])&&I(t.prototype,n),a&&I(t,a),e}();function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,i=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw i}}}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function A(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),q(this,"fetchCSSResource",(function(e){return new Promise((function(t,n){if(e){var a=new XMLHttpRequest;a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.onerror=function(){t()},e.readAsDataURL(a.response)},a.onerror=function(e){t()},a.open("GET",e),a.responseType="blob",a.send()}else t()}))})),q(this,"replaceAsync",(function(e,t,n){return new Promise((function(a,o){var i=[];e.replace(t,(function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),o=1;o<t;o++)a[o-1]=arguments[o];var r=n.apply(void 0,[e].concat(a));i.push(r)})),Promise.all(i).then((function(n){a(e.replace(t,(function(){return n.shift()})))})).catch((function(){o()}))}))})),q(this,"validateStylesheetResources",(function(e,n){var a=n.substring(0,n.lastIndexOf("/")),o=e.split(",");return 2!==o.length?Promise.reject():(e=atob(o[1]),delete o[1],t.replaceAsync(e,/url\((.*?)\)/g,(function(e){return new Promise((function(n,o){var i=e.substr(4,e.length-5).replaceAll("'","").replaceAll('"',"");if(0===i.indexOf("http")||0===i.indexOf("//")||0===i.indexOf("data"))return n(e);try{var r=i;return a&&(r=a+"/"+i),t.fetchCSSResource(r).then((function(t){return 0===i.indexOf("data:text/html")?n(e):n("url("+t+")")}))}catch(s){return n(e)}}))})).then((function(e){return o[0]+","+btoa(e)})))})),q(this,"progressResource",(function(e,a,o,i){e&&0===e.indexOf("data:text/css")?t.validateStylesheetResources(e,a).then((function(e){t.resourcesToResolve[a]=e,o()})):!e||0!==e.indexOf("data:image/jpeg")&&0!==e.indexOf("data:image/png")?(t.resourcesToResolve[a]=e,o()):n(e,500,500).then((function(e){t.resourcesToResolve[a]=e,o()}))})),q(this,"fetchItemResource",(function(e){var n=t;return new Promise((function(t,a){if(e){var o=new XMLHttpRequest;o.onload=function(){var i=new FileReader;i.onloadend=function(){n.progressResource(i.result,e,t,a)},i.onerror=function(){t()},i.readAsDataURL(o.response)},o.onerror=function(e){t()};var i=e;o.open("GET",i),o.responseType="blob",o.send()}else t()}))})),this.stopped=!1,this.startDate=Date.now(),this.node=document.documentElement,this.nextID=1,this.actions=[],this.lastActionTime=Date.now(),this.observerCallback=this.callback.bind(this),this.resourcesToResolve={},this.rootFrame=new R(window,this.node,this),this.evaluateFocus(),this.result=null,this.finalizingResult=!1}var t,o,r;return t=e,(o=[{key:"isFull",value:function(){return!!(this.actions&&this.actions.length>7e3)}},{key:"fetchImageResources",value:function(){for(var e=[],t=Object.keys(this.resourcesToResolve),n=0;n<t.length;n++)i(t[n])||e.push(this.fetchItemResource(t[n]));return Promise.all(e)}},{key:"stop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.stopped=!0,this.rootFrame){var n={startDate:this.startDate,initialState:this.rootFrame.initialState,initialActions:this.rootFrame.initialActions,actions:this.actions,baseUrl:window.location.origin,width:window.innerWidth,height:window.innerHeight,resourcesToResolve:this.resourcesToResolve,isMobile:a()};if(this.rootFrame.stop(),this.rootFrame=null,this.finalizingResult=!0,t)return this.fetchImageResources().then((function(){e.cleanupAfterStop(n)}));this.cleanupAfterStop(n)}else this.rootFrame=null}},{key:"cleanupAfterStop",value:function(e){this.cleanupResources(),this.result=e,this.finalizingResult=!1}},{key:"cleanupResources",value:function(){for(var e=Object.keys(this.resourcesToResolve),t=0;t<e.length;t++)"--"===this.resourcesToResolve[e[t]]&&delete this.resourcesToResolve[e[t]]}},{key:"evaluateFocus",value:function(){this.rootFrame.flushObserver()}},{key:"allowAttribute",value:function(e,t){switch(t){case"srcdoc":if("IFRAME"===e.tagName)return!1;break;case"title":return!1}return!0}},{key:"pushScrollAction",value:function(e,t,n){var a=n||this.actions,o=t.elementScrolledIntoView;if(o){var i={};if(o.ReplayRecID){var r="elementScrolledIntoViewOffset"in t?t.elementScrolledIntoViewOffset:null;i.s=[e,o.ReplayRecID,r]}else{if("bottom"!==o)throw new Error("Unknown scrolledIntoView: ".concat(o));i.s=[e,o]}a.push(i)}}},{key:"serializeNode",value:function(e,t){if("ReplayRecID"in e)return null;var n=this.nextID++,a={id:n};switch(e.ReplayRecID=n,e.nodeType){case Node.ELEMENT_NODE:var o=e.tagName;switch(o){case"INPUT":case"TEXTAREA":var i={},r=e.value;e.type&&"password"===e.type&&r&&r.length&&(r=new Array(r.length+1).join("*")),i.i=[n,r],t.push(i);var s=e.ownerDocument.ReplayRecInner.scrollListener;e.addEventListener("scroll",s,{passive:!0});break;case"PRE":case"DIV":if(e.classList.contains("bb-hidden"))return delete e.ReplayRecID,null;var c=e.ownerDocument.ReplayRecInner.scrollListener;e.addEventListener("scroll",c,{passive:!0});break;case"SCRIPT":case"LINK":delete e.ReplayRecID;var l=e.getAttribute("rel");if(e&&e.href&&(e.href.includes(".css")||l&&l.includes("stylesheet"))){this.resourcesToResolve[e.getAttribute("href")]="--";break}if(l&&"import"===l)break;return null;case"CANVAS":var d={};d.c=[n,e.toDataURL()],t.push(d)}a[""]=o;var u,b={},h=!1,f=x(e.attributes);try{for(f.s();!(u=f.n()).done;){var p=u.value,v=p.name;this.allowAttribute(e,v)&&(b[v]=p.value,h=!0)}}catch(A){f.e(A)}finally{f.f()}h&&(a.a=b,a.a&&a.a.src&&"SOURCE"!==o&&"IFRAME"!==o&&this.optionallyAddAttribute("src",a.a.src));var g,m=[],y=x(e.childNodes);try{for(y.s();!(g=y.n()).done;){var k=g.value,w=this.serializeNode(k,t);w&&m.push(w)}}catch(A){y.e(A)}finally{y.f()}m.length>0&&(a.c=m),(e.scrollLeft||e.scrollTop)&&this.pushScrollAction(n,e,t);break;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:var L=e.parentNode;if(e.parentNode&&L.tagName&&"STYLE"===L.tagName&&L.ownerDocument){var C=L.ownerDocument.styleSheets;if(C)for(var S=0;S<C.length;S++){var T=C[S];if(T.ownerNode&&T.ownerNode.ReplayRecID&&L.ReplayRecID===T.ownerNode.ReplayRecID){var E=null;if(T.cssRules?E=T.cssRules:T.rules&&(E=T.rules),E){var I="";for(var R in E)E[R].cssText&&(I+=E[R].cssText);a.d=I}}}}var O=e.data;O.length>0&&!a.d&&(a.d=O);break;case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:break;default:throw delete e.ReplayRecID,new Error("Bad node ".concat(e))}return a}},{key:"delay",value:function(e){this.lastActionTime-=1e3*e}},{key:"deleteAllReplayRecIDs",value:function(e){delete e.ReplayRecID;var t=e.ownerDocument.ReplayRecInner.scrollListener;e.removeEventListener("scroll",t,{passive:!0});for(var n=e.firstChild;n;n=n.nextSibling)n.ReplayRecID&&this.deleteAllReplayRecIDs(n)}},{key:"optionallyAddAttribute",value:function(e,t){if("src"===e&&t){var n=t;0!==n.indexOf("data")&&(this.resourcesToResolve[n]="--")}}},{key:"callback",value:function(e,t){var n=Date.now();if(n>this.lastActionTime){var a={};a.o=n-this.lastActionTime,this.actions.push(a)}this.lastActionTime=Date.now();try{var o,i=x(e);try{for(i.s();!(o=i.n()).done;){var r=o.value;if(r.target.ReplayRecID&&"childList"===r.type){var s,c=x(r.removedNodes);try{for(c.s();!(s=c.n()).done;){var l=s.value,d=l.ReplayRecID;if(d){var u={};u.v=d,this.actions.push(u),this.deleteAllReplayRecIDs(l)}}}catch(O){c.e(O)}finally{c.f()}}}}catch(O){i.e(O)}finally{i.f()}var b,h=[],f=x(e);try{for(f.s();!(b=f.n()).done;){var p=b.value,v=p.target,g=v.ReplayRecID;if(g)switch(p.type){case"attributes":var m=p.attributeName;if(this.allowAttribute(v,m)){var y={};y.r=[g,m,v.getAttribute(m)],"SOURCE"!==v.tagName&&this.optionallyAddAttribute(m,v.getAttribute(m)),this.actions.push(y)}break;case"characterData":var k={};v.nodeType===Node.TEXT_NODE&&(k.t=[g,v.data]),this.actions.push(k);break;case"childList":p.addedNodes.length>0&&!v.ReplayRecNodesAdded&&(v.ReplayRecNodesAdded=!0,h.push(v))}}}catch(O){f.e(O)}finally{f.f()}for(var w=0,L=h;w<L.length;w++){var C=L[w];delete C.ReplayRecNodesAdded;for(var S=C.lastChild;S;S=S.previousSibling)if(!S.ReplayRecID){var T={},E=[],I=this.serializeNode(S,E);if(I){var R=S.nextSibling;T.p=[C.ReplayRecID,R?R.ReplayRecID:null,I,E],this.actions.push(T)}}}}catch(A){throw A}}}])&&A(t.prototype,o),r&&A(t,r),e}(),B="bb-feedback-formpage",F=function(e,t,n){return void 0===e?"":'<div class="bb-feedback-elementtitle">'.concat(h(e,t)).concat(n?"<span>*</span>":"","</div>")},N=function(e,t){return void 0===e?"":'<div class="bb-feedback-form-description">'.concat(h(e,t),"</div>")},M=function(e){return void 0===e?"":"".concat(B," ").concat(B,"-").concat(e)},P=function(e,t,n){var a=e===t-1;return'<div class="bb-feedback-inputgroup bb-feedback-inputgroup-button '.concat(M(e),'">\n      <div class="bb-feedback-send-button bb-feedback-next-btn-').concat(e,'" bb-form-page="').concat(e,'">').concat(h(a?"Submit":"Next",n),"</div>\n    </div>")},U=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},_=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!0,a=document.querySelector(".bb-feedback-".concat(e.name));return"text"!==e.type&&"textarea"!==e.type||!e.required||(a.value&&""!==a.value?a.classList.remove("bb-feedback-required"):(t&&a.classList.add("bb-feedback-required"),n=!1)),"text"===e.type&&"email"===e.inputtype&&e.required&&(U(a.value)?a.classList.remove("bb-feedback-required"):(t&&a.classList.add("bb-feedback-required"),n=!1)),"rating"===e.type&&e.required&&(a.value&&""!==a.value?a.parentElement.classList.remove("bb-feedback-required"):(t&&a.parentElement.classList.add("bb-feedback-required"),n=!1)),"onetofive"===e.type&&e.required&&(a.value&&""!==a.value?a.parentElement.classList.remove("bb-feedback-required"):(t&&a.parentElement.classList.add("bb-feedback-required"),n=!1)),"multiplechoice"===e.type&&e.required&&(a.value&&""!==a.value?a.parentElement.classList.remove("bb-feedback-required"):(t&&a.parentElement.classList.add("bb-feedback-required"),n=!1)),"privacypolicy"===e.type&&e.required&&(a.checked?a.parentElement.classList.remove("bb-feedback-required"):(t&&a.parentElement.classList.add("bb-feedback-required"),n=!1)),n},H=function(e,t){var n=document.querySelector(".bb-form-progress-inner");if(n&&t>0){var a=Math.round((e+1)/t*100);a>100&&(a=100),n.style.width="".concat(a,"%")}},j=function(e,t,n){G(e)&&(H(e+1,t),e===t-1?n():z(e+1))},z=function(e){for(var t=document.querySelectorAll(".".concat(B)),n=0;n<t.length;n++)t[n]&&(t[n].style.display="none");var a=document.querySelectorAll(".".concat(B,"-").concat(e));for(n=0;n<a.length;n++)a[n]&&(a[n].style.display="flex")},G=function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!0,a=document.querySelectorAll('[bb-form-page="'.concat(e,'"]')),o=0;o<a.length;o++){var i=a[o];if(i&&i.getAttribute("bb-form-item")){var r=JSON.parse(decodeURIComponent(i.getAttribute("bb-form-item")));_(r,t)||(n=!1)}}var s=document.querySelector(".bb-feedback-next-btn-".concat(e));return s&&(n?(s.removeAttribute("disabled"),s.classList.remove("bb-feedback-send-button--disabled")):(s.setAttribute("disabled","true"),s.classList.add("bb-feedback-send-button--disabled"))),n},V=function(e){var t,n,a,o,i,r;t=function(t,n){e(t)},a=(n={interval:750,limit:4}).interval,o=n.limit,i=1,r=setInterval((function(){i=1}),a),document.addEventListener("click",(function e(n){var a,s,c;i===o&&t((s=""!==(a=n.target).className?"."+a.className:"",c=""!==a.id?"#"+a.id:"",[a.nodeName,s,c].join(" ")),(function(){clearInterval(r),document.removeEventListener("click",e)})),i++}))},X=function(e,t,n,a,o){var i=document.createElement("div");i.className="bb-feedback-dialog-container",i.innerHTML='<div class="bb-feedback-dialog-backdrop"></div><div class=\'bb-feedback-dialog bb-feedback-dialog-drawing bb-anim-fadeinright\'>\n    <div class="bb-feedback-dialog-header bb-feedback-dialog-header--back">\n      <div class="bb-feedback-dialog-header-back '.concat(!o&&"bb-feedback-dialog-header-back--close",'">\n        ').concat(w(o?"arrowleft":"close","#192027"),'\n      </div>\n      <div class="bb-feedback-dialog-header-text">\n          <div class="bb-feedback-dialog-header-title-small">').concat(h("Mark the bug",a),'</div>\n      </div>\n      <div class="bb-feedback-dialog-header-next">\n        <span>').concat(h("Next",a),"</span>\n        ").concat(w("arrowleft","#000"),'\n      </div>\n    </div>\n    <div class="bb-feedback-dialog-body">\n        <div class="bb-screenshot-editor-canv">\n            <canvas id="bb-screenshot-editor-canvas" />\n        </div>\n        <div class="bb-drawing-container">\n            <div class="bb-drawing-tools">\n              <div class="bb-drawing-tool-item bb-drawing-tool-item--active" data-tool="pen">\n                <svg width="60px" height="60px" viewBox="0 0 60 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                      <g transform="translate(0.000263, -0.000166)" fill="#000000" fill-rule="nonzero">\n                          <path d="M45.5117372,6.58111838e-05 C41.6679372,-0.0115531888 37.9805372,1.51576581 35.2697372,4.23846581 L4.1017372,35.4104658 C1.4650372,38.0315658 -0.0115628024,41.5940658 6.81945382e-05,45.3088658 L6.81945382e-05,59.999935 L14.6911372,59.999935 C18.4059372,60.0115848 21.9684372,58.5350658 24.5895372,55.8982658 L55.7615372,24.7302658 C58.4763372,22.0114658 59.9998372,18.3279658 59.9998372,14.4842658 C59.9959312,10.6444658 58.4686372,6.96086581 55.7537372,4.24226581 C53.0349372,1.52746581 49.3514372,6.58111838e-05 45.5117372,6.58111838e-05 L45.5117372,6.58111838e-05 Z M20.3397372,51.6601658 C18.8397372,53.1562658 16.8085372,53.9999658 14.6913372,53.9999658 L5.9999372,53.9999658 L5.9999372,45.3085658 C5.9999372,43.1874658 6.8397772,41.1523658 8.3397372,39.6483658 L31.8787372,16.1213658 L43.8787372,28.1213658 L20.3397372,51.6601658 Z M51.5117372,20.4881658 L48.1211372,23.8787658 L36.1211372,11.8787658 L39.5117372,8.48816581 C41.0820372,6.80846581 43.2695372,5.83976581 45.5703372,5.80066581 C47.8672372,5.76160381 50.0859372,6.66004581 51.7148372,8.28506581 C53.3398372,9.91396581 54.2382372,12.1327658 54.1992372,14.4295658 C54.1601742,16.7303658 53.1914372,18.9178658 51.5117372,20.4881658 L51.5117372,20.4881658 Z" id="Shape"></path>\n                      </g>\n                  </g>\n                </svg>\n              </div>\n              <div class="bb-drawing-tool-item bb-drawing-tool-item--last" data-tool="blur">\n                <svg width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n                  <path d="m86.5 42.5c-1.1016 0-2-0.89844-2-2s0.89844-2 2-2 2 0.89844 2 2-0.89844 2-2 2zm-10 38c-2.1992 0-4-1.8008-4-4s1.8008-4 4-4 4 1.8008 4 4-1.8008 4-4 4zm0-18c-2.1992 0-4-1.8008-4-4s1.8008-4 4-4 4 1.8008 4 4-1.8008 4-4 4zm0-18c-2.1992 0-4-1.8008-4-4s1.8008-4 4-4 4 1.8008 4 4-1.8008 4-4 4zm0-18c-2.1992 0-4-1.8008-4-4s1.8008-4 4-4 4 1.8008 4 4-1.8008 4-4 4zm-27 40c-9.3984 0-17-7.6016-17-17s7.6016-17 17-17 17 7.6016 17 17-7.6016 17-17 17zm9-40c-2.1992 0-4-1.8008-4-4s1.8008-4 4-4 4 1.8008 4 4-1.8008 4-4 4zm0-12c-1.1016 0-2-0.89844-2-2s0.89844-2 2-2 2 0.89844 2 2-0.89844 2-2 2zm-18 12c-2.1992 0-4-1.8008-4-4s1.8008-4 4-4 4 1.8008 4 4-1.8008 4-4 4zm0-12c-1.1016 0-2-0.89844-2-2s0.89844-2 2-2 2 0.89844 2 2-0.89844 2-2 2zm-18 66c-2.1992 0-4-1.8008-4-4s1.8008-4 4-4 4 1.8008 4 4-1.8008 4-4 4zm0-18c-2.1992 0-4-1.8008-4-4s1.8008-4 4-4 4 1.8008 4 4-1.8008 4-4 4zm0-18c-2.1992 0-4-1.8008-4-4s1.8008-4 4-4 4 1.8008 4 4-1.8008 4-4 4zm0-18c-2.1992 0-4-1.8008-4-4s1.8008-4 4-4 4 1.8008 4 4-1.8008 4-4 4zm-10 34c-1.1016 0-2-0.89844-2-2s0.89844-2 2-2 2 0.89844 2 2-0.89844 2-2 2zm0-18c-1.1016 0-2-0.89844-2-2s0.89844-2 2-2 2 0.89844 2 2-0.89844 2-2 2zm28 30c2.1992 0 4 1.8008 4 4s-1.8008 4-4 4-4-1.8008-4-4 1.8008-4 4-4zm0 12c1.1016 0 2 0.89844 2 2s-0.89844 2-2 2-2-0.89844-2-2 0.89844-2 2-2zm18-12c2.1992 0 4 1.8008 4 4s-1.8008 4-4 4-4-1.8008-4-4 1.8008-4 4-4zm0 12c1.1016 0 2 0.89844 2 2s-0.89844 2-2 2-2-0.89844-2-2 0.89844-2 2-2zm28-28c1.1016 0 2 0.89844 2 2s-0.89844 2-2 2-2-0.89844-2-2 0.89844-2 2-2z" fill-rule="evenodd"/>\n                </svg>\n              </div>\n              <div class="bb-drawing-tool-spacer"></div>\n              <div id="bb-drawing-color" style="background-color: #EB144C">\n                <div id="bb-drawing-colorpopup">\n                  <div class="bb-drawing-coloritem bb-drawing-coloritem--active" data-color="#EB144C"></div>\n                  <div class="bb-drawing-coloritem" data-color="#FF6705"></div>\n                  <div class="bb-drawing-coloritem" data-color="#FDB903"></div>\n                  <div class="bb-drawing-coloritem" data-color="#9900EE"></div>\n                  <div class="bb-drawing-coloritem" data-color="#00D082"></div>\n                  <div class="bb-drawing-coloritem" data-color="#0A93E4"></div>\n                </div>\n              </div>\n              <div class="bb-drawing-tool-spacer"></div>\n              <div class="bb-drawing-tool-action bb-drawing-tool-action--disabled bb-drawing-tool-back">\n                <svg width="62px" height="60px" viewBox="0 0 62 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                  <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                    <g transform="translate(-0.000500, 0.001926)" fill="#000000" fill-rule="nonzero">\n                      <path d="M28.0005,51.6270739 C24.9653,51.0684839 22.0825,49.8731739 19.5396,48.1192739 L13.8208,53.8380739 C17.9536,57.0060739 22.8403,59.0333739 28.0008,59.7286739 L28.0005,51.6270739 Z" id="Path"></path>\n                      <path d="M2.2705,33.9980739 C2.96581,39.1582739 4.9932,44.0450739 8.1611,48.1780739 L13.8799,42.4592739 C12.126,39.9162739 10.9307,37.0334739 10.3721,33.9983739 L2.2705,33.9980739 Z" id="Path"></path>\n                      <path d="M61.7305,33.9980739 L53.6289,33.9980739 C53.07031,37.0332739 51.875,39.9160739 50.1211,42.4589739 L55.8399,48.1777739 C59.0079,44.0449739 61.0352,39.1582739 61.7305,33.9977739 L61.7305,33.9980739 Z" id="Path"></path>\n                      <path d="M4.0005,24.9980739 L24.0005,24.9980739 L24.0005,16.9980739 L14.27,16.9980739 C17.6762,12.3613739 22.7622,9.24417393 28.442,8.31057393 C34.1178,7.38088393 39.934,8.70901393 44.645,12.0175739 C49.352,15.3222739 52.5786,20.3417739 53.6294,25.9975739 L61.731,25.9975739 C60.6646,18.0834739 56.4888,10.9235739 50.129,6.09957393 C43.7657,1.27147393 35.746,-0.818426068 27.836,0.290973932 C19.9298,1.39647393 12.793,5.61127393 8,11.9979739 L8,0.997973932 L-3.55271368e-15,0.997973932 L-3.55271368e-15,20.9979739 C-3.55271368e-15,22.0604739 0.42188,23.0760739 1.1719,23.8260739 C1.92192,24.5760739 2.9375,24.9979739 4,24.9979739 L4.0005,24.9980739 Z" id="Path"></path>\n                      <path d="M36.0005,51.6270739 L36.0005,59.7286739 C41.1607,59.0333639 46.0475,57.0059739 50.1805,53.8380739 L44.4617,48.1192739 C41.9187,49.8731739 39.0359,51.0684739 36.0008,51.6270739 L36.0005,51.6270739 Z" id="Path"></path>\n                    </g>\n                  </g>\n                </svg>\n              </div>\n            </div>\n        </div>\n    </div>\n</div>'),document.body.appendChild(i),setTimeout((function(){var e=document.querySelector(".bb-feedback-dialog-drawing");e&&e.classList.remove("bb-anim-fadeinright")}),500);var r=document.querySelector(".bb-drawing-tool-back"),s=document.getElementById("bb-screenshot-editor-canvas"),c=s.getContext("2d"),l="#EB144C",d="pen",u=null,b=[],f=[];function p(){return s.width/s.offsetWidth}function v(){var e=p();"pen"===d?(c.lineWidth=6*e,c.strokeStyle=l,c.lineCap="round"):(c.lineWidth=34*e,c.strokeStyle="#000",c.lineCap="round"),b.push({t:"t",lw:c.lineWidth,ss:c.strokeStyle})}function g(){var e="bb-drawing-tool-action--disabled";f.length>0?r.classList.remove(e):r.classList.add(e)}var m=function(){var e=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),t=Math.max(document.documentElement.clientHeight||0,window.innerHeight||0),n=0,a=Math.min(e-60,700),o=Math.min(t-200,700),i=s.width,r=s.height;i>a&&(r*=n=a/i,i*=n),r>o&&(i*=n=o/r,r*=n),s.style.width="".concat(i,"px"),s.style.height="".concat(r,"px")};r.addEventListener("click",(function(){!function(){f.pop(),c.drawImage(u,0,0);for(var e=0;e<f.length;e++)for(var t=f[e],n=0;n<t.length;n++){var a=t[n];"t"===a.t&&(c.lineWidth=a.lw,c.strokeStyle=a.ss,c.lineCap="round"),"m"===a.t&&(c.beginPath(),c.lineTo(a.x,a.y)),"l"===a.t&&(c.lineTo(a.x,a.y),c.stroke())}v(),g()}()})),document.querySelector(".bb-feedback-dialog-header-back").addEventListener("click",(function(){window.removeEventListener("resize",m),n()})),document.querySelector(".bb-feedback-dialog-header-next").addEventListener("click",(function(){window.removeEventListener("resize",m),t(s.toDataURL("image/png"))}));var y=document.getElementById("bb-drawing-color"),k=document.getElementById("bb-drawing-colorpopup");k.style.display="none",y.addEventListener("click",(function(){"none"===k.style.display?k.style.display="flex":k.style.display="none"}));for(var L=document.querySelectorAll(".bb-drawing-tool-item"),C=function(e){for(var t="bb-drawing-tool-item--active",n=0;n<L.length;n++){var a=L[n];a.getAttribute("data-tool")===e?a.classList.add(t):a.classList.remove(t)}d=e,v()},S=function(){var e=L[T],t=e.getAttribute("data-tool");e.addEventListener("click",(function(){C(t)}))},T=0;T<L.length;T++)S();var E="bb-drawing-coloritem--active",I=document.querySelectorAll(".bb-drawing-coloritem"),R=function(){var e=I[T],t=e.getAttribute("data-color");e.style.backgroundColor=t,e.addEventListener("click",(function(){for(var n=0;n<I.length;n++)I[n].classList.remove(E);l=t,y.style.backgroundColor=t,e.classList.add(E),C("pen"),v()}))};for(T=0;T<I.length;T++)R();(u=new Image).onload=function(){c.canvas.width=this.width,c.canvas.height=this.height,m(),c.drawImage(this,0,0),v()},u.src=e,window.addEventListener("resize",m);var x=!0;function O(e){var t=p();c.beginPath();var n=(e.pageX-s.offsetLeft)*t,a=(e.pageY-s.offsetTop)*t;c.lineTo(n,a),b.push({t:"m",x:n,y:a}),x=!1}function A(e){if(!x){var t=p(),n=(e.pageX-s.offsetLeft)*t,a=(e.pageY-s.offsetTop)*t;c.lineTo(n,a),c.stroke(),b.push({t:"l",x:n,y:a})}}function q(e){x||(A(e),f.push(b),b=[],g(),x=!0)}s.addEventListener("touchstart",(function(e){O(e.touches[0])}),!1),s.addEventListener("touchmove",(function(e){A(e.touches[0]),e.preventDefault()}),!1),s.addEventListener("touchend",(function(e){q(e.changedTouches[0])}),!1),s.addEventListener("mousedown",O,!1),s.addEventListener("mousemove",A,!1),s.addEventListener("mouseup",q,!1)};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function W(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(){function e(){var t,n,a,o,i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Y(this,"apiUrl","https://api.gleap.io"),Y(this,"sdkKey",null),Y(this,"session",{gleapId:null,gleapHash:null,name:"",email:""}),Y(this,"ready",!1),Y(this,"onSessionReadyListener",[]),Y(this,"performAction",(t=function(e){oe.getInstance().performAction(e)},n=3e3,function(){var e=this,i=arguments;clearTimeout(o),o=setTimeout((function(){o=null,a||t.apply(e,i)}),n),a&&!o&&t.apply(e,i)})),Y(this,"setOnSessionReady",(function(e){i.ready?e():i.onSessionReadyListener.push(e)})),Y(this,"injectSession",(function(e){e&&i.session&&(e.setRequestHeader("Api-Token",i.sdkKey),e.setRequestHeader("Gleap-Id",i.session.gleapId),e.setRequestHeader("Gleap-Hash",i.session.gleapHash))})),Y(this,"clearSession",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{localStorage.removeItem("gleap-id"),localStorage.removeItem("gleap-hash")}catch(t){}i.session={id:null,hash:null,type:null,name:"",email:""},e&&i.startSession()})),Y(this,"validateSession",(function(e){i.session=e,i.ready=!0,e.action&&e.action.outbound&&e.action.actionType&&i.performAction(e.action)})),Y(this,"startSession",(function(){var e=i;return new Promise((function(t,n){var a=new XMLHttpRequest;a.open("POST",e.apiUrl+"/sessions"),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.setRequestHeader("Api-Token",e.sdkKey);try{var o=localStorage.getItem("gleap-id"),i=localStorage.getItem("gleap-hash");o&&i&&(a.setRequestHeader("Gleap-Id",o),a.setRequestHeader("Gleap-Hash",i))}catch(r){}a.onerror=function(t){e.clearSession(!1),n()},a.onreadystatechange=function(o){if(a.readyState===XMLHttpRequest.DONE)if(200===a.status||201===a.status)try{var i=JSON.parse(a.responseText);try{localStorage.setItem("gleap-id",i.gleapId),localStorage.setItem("gleap-hash",i.gleapHash)}catch(r){}if(e.validateSession(i),e.onSessionReadyListener.length>0)for(var s=0;s<e.onSessionReadyListener.length;s++)e.onSessionReadyListener[s]();e.onSessionReadyListener=[],t(i)}catch(r){n(r)}else e.clearSession(!1),n()},a.send(JSON.stringify({}))}))})),Y(this,"identifySession",(function(e,t){var n=i;return new Promise((function(a,o){i.setOnSessionReady((function(){var i=new XMLHttpRequest;i.open("POST",n.apiUrl+"/sessions/identify"),i.setRequestHeader("Content-Type","application/json;charset=UTF-8"),i.setRequestHeader("Api-Token",n.sdkKey);try{var r=localStorage.getItem("gleap-id"),s=localStorage.getItem("gleap-hash");r&&s&&(i.setRequestHeader("Gleap-Id",r),i.setRequestHeader("Gleap-Hash",s))}catch(c){}i.onerror=function(){o()},i.onreadystatechange=function(e){if(i.readyState===XMLHttpRequest.DONE)if(200===i.status||201===i.status)try{var t=JSON.parse(i.responseText);try{localStorage.setItem("gleap-id",t.gleapId),localStorage.setItem("gleap-hash",t.gleapHash)}catch(c){}n.validateSession(t);var r=document.querySelector("#bb-user-name");r&&t.name&&(r.textContent=t.name),a(t)}catch(c){o(c)}else n.clearSession(!1),o()},i.send(JSON.stringify(K(K({},t),{},{userId:e})))}))}))}))}var t,n,a;return t=e,a=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=null)&&W(t.prototype,n),a&&W(t,a),e}();function $(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Y(J,"instance",void 0),HTMLCanvasElement&&HTMLCanvasElement.prototype&&(HTMLCanvasElement.prototype.__originalGetContext=HTMLCanvasElement.prototype.getContext,HTMLCanvasElement.prototype.getContext=function(e,t){return this.__originalGetContext(e,ee(ee({},t),{},{preserveDrawingBuffer:!0}))});var ne=function(e){if("string"==typeof e||e instanceof String)try{return JSON.parse(e)}catch(t){return{}}return e},ae=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),te(this,"uiContainer",null),te(this,"widgetOnly",!1),te(this,"widgetStartFlow",void 0),te(this,"widgetCallback",null),te(this,"overrideLanguage",""),te(this,"screenshot",null),te(this,"actionLog",[]),te(this,"logArray",[]),te(this,"eventArray",[]),te(this,"customData",{}),te(this,"formData",{}),te(this,"excludeData",{}),te(this,"logMaxLength",500),te(this,"buttonType",e.FEEDBACK_BUTTON_BOTTOM_RIGHT),te(this,"feedbackType","BUG"),te(this,"sessionStart",new Date),te(this,"customActionCallbacks",[]),te(this,"poweredByHidden",!1),te(this,"enabledCrashDetector",!1),te(this,"enabledCrashDetectorSilent",!1),te(this,"enabledRageClickDetector",!1),te(this,"enabledRageClickDetectorSilent",!1),te(this,"appCrashDetected",!1),te(this,"rageClickDetected",!1),te(this,"currentlySendingBug",!1),te(this,"isLiveSite",!1),te(this,"replaysEnabled",!1),te(this,"customLogoUrl",null),te(this,"shortcutsEnabled",!0),te(this,"silentBugReport",!1),te(this,"initialized",!1),te(this,"screenshotFeedbackOptions",null),te(this,"customerInfo",{}),te(this,"welcomeIcon","👋"),te(this,"feedbackButtonText","Feedback"),te(this,"widgetInfo",{title:"Feedback",subtitle:"var us know how we can do better.",dialogSubtitle:"Report a bug, or share your feedback with us."}),te(this,"originalConsoleLog",void 0),te(this,"severity","LOW"),te(this,"appVersionCode",""),te(this,"appBuildNumber",""),te(this,"mainColor","#485bff"),te(this,"feedbackTypeActions",[]),te(this,"previousBodyOverflow",void 0),te(this,"customTranslation",{}),te(this,"networkIntercepter",new T),te(this,"replay",null),te(this,"feedbackButton",null),te(this,"fakeLoading",null),te(this,"fakeLoadingProgress",0),te(this,"widgetOpened",!1),te(this,"openedMenu",!1),te(this,"showInfoPopup",!1),te(this,"snapshotPosition",{x:0,y:0}),te(this,"eventListeners",{}),te(this,"feedbackActions",{}),te(this,"actionToPerform",void 0),this.init()}var t,n,o;return t=e,o=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}},{key:"setUIContainer",value:function(e){this.getInstance().uiContainer=e}},{key:"initialize",value:function(e,t,n){var a=this.getInstance();if(a.initialized)console.warn("Gleap already initialized.");else{if(a.initialized=!0,t&&n)try{localStorage.setItem("gleap-id",t),localStorage.getItem("gleap-hash",n)}catch(i){}var o=J.getInstance();o.sdkKey=e,o.startSession(),o.setOnSessionReady((function(){"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?a.checkForInitType():document.addEventListener("DOMContentLoaded",(function(e){a.checkForInitType()})),a.widgetCallback&&a.widgetCallback("sessionReady")}))}}},{key:"identify",value:function(e,t){J.getInstance().identifySession(e,ne(t))}},{key:"clearIdentity",value:function(){J.getInstance().clearSession()}},{key:"isOpened",value:function(){return this.getInstance().openedMenu}},{key:"hide",value:function(){this.getInstance().closeGleap()}},{key:"open",value:function(){this.getInstance().showGleap()}},{key:"setCustomTranslation",value:function(e){this.getInstance().customTranslation=e}},{key:"setScreenshot",value:function(e){var t=this.getInstance();t.screenshot=e,t.screenshotFeedbackOptions&&(t.showMobileScreenshotEditor(t.screenshotFeedbackOptions),t.screenshotFeedbackOptions=null)}},{key:"setFeedbackButtonText",value:function(e){this.getInstance().feedbackButtonText=e}},{key:"enableReplays",value:function(e){var t=this.getInstance();t.replaysEnabled=e,e?(t.replay&&(t.replay.stop(),t.replay=null),t.replay=new D):t.replay&&(t.replay.stop(),t.replay=null)}},{key:"logEvent",value:function(e,t){this.getInstance().logEvent(e,t)}},{key:"showInfoPopup",value:function(e){this.getInstance().showInfoPopup=e}},{key:"isWidgetOnly",value:function(e){this.getInstance().widgetOnly=e}},{key:"setWidgetStartFlow",value:function(e){this.getInstance().widgetStartFlow=e}},{key:"setWelcomeIcon",value:function(e){this.getInstance().welcomeIcon=e}},{key:"setButtonType",value:function(e){this.getInstance().buttonType=e}},{key:"on",value:function(e,t){var n=this.getInstance();n.eventListeners[e]||(n.eventListeners[e]=[]),n.eventListeners[e].push(t)}},{key:"appendNode",value:function(e){var t=this.getInstance();t.uiContainer?t.uiContainer.appendChild(e):document.body.appendChild(e)}},{key:"widgetCallback",value:function(e){this.getInstance().widgetCallback=e}},{key:"enableShortcuts",value:function(e){this.getInstance().shortcutsEnabled=e}},{key:"enableIntercomCompatibilityMode",value:function(){this.getInstance().enableIntercomCompatibilityMode()}},{key:"showFeedbackButton",value:function(e){var t=this.getInstance().feedbackButton;t&&(t.style.display=e?"flex":"none")}},{key:"enablePoweredBy",value:function(e){this.getInstance().poweredByHidden=!e}},{key:"enableNetworkLogger",value:function(){this.getInstance().networkIntercepter.start()}},{key:"setLogoUrl",value:function(e){this.getInstance().customLogoUrl=e}},{key:"setButtonLogoUrl",value:function(e){this.getInstance().customButtonLogoUrl=e}},{key:"enablePrivacyPolicy",value:function(e){console.warn("Gleap: @deprecated enablePrivacyPolicy")}},{key:"setPrivacyPolicyUrl",value:function(e){console.warn("Gleap: @deprecated setPrivacyPolicyUrl")}},{key:"setWidgetInfo",value:function(e){e&&(this.getInstance().widgetInfo=Object.assign(this.getInstance().widgetInfo,e))}},{key:"setAppVersionCode",value:function(e){this.getInstance().appVersionCode=e}},{key:"setAppBuildNumber",value:function(e){this.getInstance().appBuildNumber=e}},{key:"setApiUrl",value:function(e){J.getInstance().apiUrl=e}},{key:"attachCustomData",value:function(e){var t=this.getInstance();t.customData=Object.assign(t.customData,ne(e))}},{key:"setCustomData",value:function(e,t){this.getInstance().customData[e]=t}},{key:"removeCustomData",value:function(e){delete this.getInstance().customData[e]}},{key:"clearCustomData",value:function(){this.getInstance().customData={}}},{key:"setLanguage",value:function(e){this.getInstance().overrideLanguage=e}},{key:"enableCrashDetector",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getInstance();n.enabledCrashDetector=e,n.enabledCrashDetectorSilent=t}},{key:"enableRageClickDetector",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getInstance();n.enabledRageClickDetector||(n.enabledRageClickDetector=!0,n.enabledRageClickDetectorSilent=t,V((function(t){n.rageClickDetected=!0,n.enabledRageClickDetectorSilent?e.sendSilentBugReport("Rage click detected."):e.startFeedbackFlow("crash")})))}},{key:"setColors",value:function(e,t,n){this.getInstance().mainColor=e,t||(t=e),n||(n=e),"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?p(e,t,n):document.addEventListener("DOMContentLoaded",(function(a){p(e,t,n)}))}},{key:"sendSilentBugReport",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.PRIORITY_MEDIUM,a=this.getInstance(),o=J.getInstance();o.ready&&(a.formData={},o.session.email&&(a.formData.reportedBy=o.session.email),t&&(a.formData.description=t),a.severity=n,a.feedbackType="BUG",this.startFeedbackFlow(null,!0))}},{key:"startFeedbackTypeSelection",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=J.getInstance(),n=this.getInstance();n.stopBugReportingAnalytics(),n.widgetOpened=!0,n.openedMenu=!0,n.updateFeedbackButtonState(),m(n.feedbackTypeActions,n.overrideLanguage,n.customLogoUrl,n.poweredByHidden,(function(){}),"".concat(h("Hi",n.overrideLanguage),' <span id="bb-user-name">').concat(t.session.name?t.session.name:"","</span> ").concat(n.welcomeIcon),h(n.widgetInfo.dialogSubtitle,n.overrideLanguage),e)}},{key:"registerCustomAction",value:function(e){var t=this.getInstance();t.customActionCallbacks&&t.customActionCallbacks.push(e)}},{key:"triggerCustomAction",value:function(e){var t=this.getInstance();if(t.widgetCallback&&t.widgetCallback("customActionCalled",{name:e}),t.customActionCallbacks)for(var n=0;n<t.customActionCallbacks.length;n++){var a=t.customActionCallbacks[n];a&&a({name:e})}}},{key:"setFeedbackActions",value:function(e){this.getInstance().feedbackActions=e}},{key:"setMenuOptions",value:function(e){this.getInstance().feedbackTypeActions=e}},{key:"startFeedbackFlow",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=J.getInstance(),a=this.getInstance();if(!a.currentlySendingBug&&n.ready){var o=null;if(e&&(o=a.feedbackActions[e]),o||(o=a.feedbackActions.bugreporting),o=JSON.parse(JSON.stringify(o)),a.notifyEvent("flow-started",o),a.closeModalUI(),a.currentlySendingBug=!0,a.silentBugReport=t,t||(a.widgetOpened=!0),o.form&&o.form.length>0){for(var i=[],r=0;r<o.form.length;r++)(s=o.form[r])&&"privacypolicy"!==s.type&&"spacer"!==s.type&&"submit"!==s.type&&"reportedBy"!==s.name&&i.push(s);for(o.form=i,o.pages=i.length,r=0;r<o.form.length;r++){var s;(s=o.form[r]).page||(s.page=r)}if(!0===o.collectEmail||void 0===o.collectEmail){var c={title:"Email",placeholder:"Your e-mail",type:"text",inputtype:"email",name:"reportedBy",required:!0,remember:!0,hideOnDefaultSet:!0,page:o.form[o.form.length-1].page};n.session&&n.session.email&&(c.defaultValue=n.session.email),o.form.push(c)}if(o.privacyPolicyEnabled){var l={name:"privacypolicy",type:"privacypolicy",required:!0,url:o.privacyPolicyUrl,page:o.form[o.form.length-1].page};o.form.push(l)}}a.stopBugReportingAnalytics(),a.silentBugReport||o.disableUserScreenshot||a.disableScroll(),a.snapshotPosition={x:window.scrollX,y:window.scrollY},a.silentBugReport?a.checkReplayLoaded():a.showBugReportEditor(o),a.updateFeedbackButtonState()}}},{key:"disableConsoleLogOverwrite",value:function(){window.console=this.getInstance().originalConsoleLog}}],(n=[{key:"notifyEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.eventListeners[e];if(n)for(var a=0;a<n.length;a++){var o=n[a];o&&o(t)}}},{key:"enableIntercomCompatibilityMode",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(window.Intercom)Intercom("onShow",(function(){e.showFeedbackButton(!1)})),Intercom("onHide",(function(){e.showFeedbackButton(!0)})),Intercom("hide"),Intercom("update",{hide_default_launcher:!0});else{if(n>10)return;setTimeout((function(){t.enableIntercomCompatibilityMode(++n)}),1e3)}}},{key:"logEvent",value:function(e,t){var n={name:e,date:new Date};t&&(n.data=ne(t)),this.eventArray.push(n),this.eventArray.length>this.logMaxLength&&this.eventArray.shift()}},{key:"stopBugReportingAnalytics",value:function(){this.networkIntercepter.setStopped(!0),this.replay&&!this.replay.stopped&&this.replay.stop(!this.isLiveSite)}},{key:"checkOnlineStatus",value:function(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE)try{var e=JSON.parse(a.responseText);t(e)}catch(o){n()}},a.ontimeout=function(){n()},a.onerror=function(){n()},a.open("GET","https://uptime.gleap.io/?url="+encodeURIComponent(e),!0),a.send()}))}},{key:"startCrashDetection",value:function(){var t=this;window.onerror=function(n,a,o,i,r){var s=["Message: "+n,"URL: "+a,"Line: "+o,"Column: "+i,"Error object: "+JSON.stringify(r)];if(t.addLog(s,"ERROR"),t.enabledCrashDetector&&!t.appCrashDetected&&!t.currentlySendingBug)if(t.appCrashDetected=!0,t.enabledCrashDetectorSilent){var c="Message: ".concat(n,"\nURL: ").concat(a,"\nLine: ").concat(o,"\nColumn: ").concat(i,"\nError object: ").concat(JSON.stringify(r),"\n");e.sendSilentBugReport(c)}else e.startFeedbackFlow("crash");return!1}}},{key:"truncateString",value:function(e,t){return e.length>t?e.slice(0,t)+"...":e}},{key:"addLog",value:function(e,t){if(e){for(var n="",a=0;a<e.length;a++)n+=e[a]+" ";this.logArray.push({log:this.truncateString(n,1e3),date:new Date,priority:t}),this.logArray.length>this.logMaxLength&&this.logArray.shift()}}},{key:"overwriteConsoleLog",value:function(){var e,t=this;window.console=(e=window.console,window.console&&e||(e={}),t.originalConsoleLog=e,ee(ee({},e),{},{log:function(){t.addLog(arguments,"INFO"),e.log&&e.log.apply(e,arguments)},warn:function(){t.addLog(arguments,"WARNING"),e.warn&&e.warn.apply(e,arguments)},error:function(){t.addLog(arguments,"ERROR"),e.error&&e.error.apply(e,arguments)},info:function(n){t.addLog(arguments,"INFO"),e.info&&e.info.apply(e,arguments)}}))}},{key:"disableScroll",value:function(){this.previousBodyOverflow=document.body.style.overflow,document.body.style.overflow="hidden"}},{key:"enableScroll",value:function(){this.previousBodyOverflow?document.body.style.overflow=this.previousBodyOverflow:document.body.style.overflow=null}},{key:"resetLoading",value:function(e){this.fakeLoading&&clearInterval(this.fakeLoading),this.fakeLoading=null,this.fakeLoadingProgress=0,e&&k(1)}},{key:"createBugReportingDialog",value:function(t){var n=this,a=this,o=function(e,t){for(var n,a=e.form,o='<div class="bb-form-progress"><div class="bb-form-progress-inner"></div></div>',i=0;i<a.length;i++){var r=a[i];if(!r)break;var s=r.page,c='bb-form-page="'.concat(s,'" bb-form-item="').concat(encodeURIComponent(JSON.stringify(r)),'"');if("text"===r.type&&(o+='<div class="bb-feedback-inputgroup '.concat(M(s),'">\n      ').concat(N(r.description,t),"\n      ").concat(F(r.title,t,r.required),'\n          <input class="bb-feedback-formdata bb-feedback-').concat(r.name,'" ').concat(c,' type="').concat(r.inputtype,'" placeholder="').concat(h(r.placeholder,t),'" />\n        </div>')),"textarea"===r.type&&(o+='<div class="bb-feedback-inputgroup '.concat(M(s),'">\n      ').concat(N(r.description,t),"\n      ").concat(F(r.title,t,r.required),'\n          <textarea class="bb-feedback-formdata bb-feedback-').concat(r.name,'" ').concat(c,' placeholder="').concat(h(r.placeholder,t),'"></textarea>\n        </div>')),"privacypolicy"===r.type&&(o+='<div class="bb-feedback-inputgroup bb-feedback-inputgroup--privacy-policy '.concat(M(s),'">\n        <input id="gleap-privacy-policy" ').concat(c,' class="bb-feedback-').concat(r.name,'" type="checkbox" required />\n        <label for="gleap-privacy-policy" class="bb-feedback-inputgroup--privacy-policy-label">').concat(h("I read and accept the ",t),'<a id="bb-privacy-policy-link" href="').concat(r.url,'" target="_blank">').concat(h("privacy policy",t),"</a>.</label>\n      </div>")),"rating"===r.type&&(o+='<div class="bb-feedback-rating '.concat(M(s)," bb-feedback-rating-").concat(r.name,'" ').concat(c,'">\n      ').concat(N(r.description,t),"\n      ").concat(F(r.title,t,r.required),'\n      <input class="bb-feedback-formdata bb-feedback-').concat(r.name,'" ').concat(c,' type="hidden" />\n          <ul class="bb-feedback-emojigroup">\n            <li class="bb-feedback-angry" data-value="0">\n              <div>\n                <svg class="bb-feedback-eye bb-feedback-left">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bb-feedback-eye bb-feedback-right">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bb-feedback-mouth">\n                    <use xlink:href="#mouth">\n                </svg>\n              </div>\n            </li>\n            <li class="bb-feedback-sad" data-value="2.5">\n              <div>\n                <svg class="bb-feedback-eye bb-feedback-left">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bb-feedback-eye bb-feedback-right">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bb-feedback-mouth">\n                    <use xlink:href="#mouth">\n                </svg>\n              </div>\n            </li>\n            <li class="bb-feedback-ok" data-value="5">\n                <div></div>\n            </li>\n            <li class="bb-feedback-good" data-value="7.5">\n              <div>\n                <svg class="bb-feedback-eye bb-feedback-left">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bb-feedback-eye bb-feedback-right">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bb-feedback-mouth">\n                    <use xlink:href="#mouth">\n                </svg>\n              </div>\n            </li>\n            <li class="bb-feedback-happy" data-value="10">\n              <div>\n                <svg class="bb-feedback-eye bb-feedback-left">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bb-feedback-eye bb-feedback-right">\n                    <use xlink:href="#eye">\n                </svg>\n              </div>\n          </li>\n        </ul>\n        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n            <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 4" id="eye">\n                <path d="M1,1 C1.83333333,2.16666667 2.66666667,2.75 3.5,2.75 C4.33333333,2.75 5.16666667,2.16666667 6,1"></path>\n            </symbol>\n            <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 7" id="mouth">\n                <path d="M1,5.5 C3.66666667,2.5 6.33333333,1 9,1 C11.6666667,1 14.3333333,2.5 17,5.5"></path>\n            </symbol>\n        </svg>\n        </div>')),"onetofive"===r.type){var l=function(e,t){return'<div class="bb-feedback-onetofive-button" data-value="'.concat(t,'">').concat(t,"</div>")};o+='<div class="bb-feedback-onetofive '.concat(M(s)," bb-feedback-onetofive-").concat(r.name,'" ').concat(c,'">\n      ').concat(N(r.description,t),"\n      ").concat(F(r.title,t,r.required),'\n      <input class="bb-feedback-formdata bb-feedback-').concat(r.name,'" ').concat(c,' type="hidden" />\n        <div class="bb-feedback-onetofive-buttons">\n          ').concat(l(0,1),"\n          ").concat(l(0,2),"\n          ").concat(l(0,3),"\n          ").concat(l(0,4),"\n          ").concat(l(0,5),'\n        </div>\n        <div class="bb-feedback-onetofive-description"><span>').concat(h(r.lowestValueLabel,t),"</span><span>").concat(h(r.highestValueLabel,t),"</span></div>\n      </div>")}if("multiplechoice"===r.type&&r.choices&&r.choices.length>0){for(var d=function(e,t){return'<label class="bb-feedback-multiplechoice-container" data-value="'.concat(t,'">').concat(t,'\n        <input type="radio" name="').concat(e.name,'" />\n        <span class="bb-feedback-multiplechoice-checkmark"></span>\n      </label>')},u="",b=0;b<r.choices.length;b++)u+=d(r,r.choices[b]);o+='<div class="bb-feedback-multiplechoice '.concat(M(s)," bb-feedback-multiplechoice-").concat(r.name,'" ').concat(c,">\n      ").concat(N(r.description,t),"\n      ").concat(F(r.title,t,r.required),'\n      <input class="bb-feedback-formdata bb-feedback-').concat(r.name,'" ').concat(c,' type="hidden" />\n      ').concat(u,"\n      </div>")}(a[i+1]&&a[i+1].page!==s||i+1===a.length)&&"rating"!==(n=r.type)&&"onetofive"!==n&&(o+=P(s,e.pages,t))}return o}(t,this.overrideLanguage),i=h(t.title,this.overrideLanguage),r='<div class="bb-feedback-dialog-error">'.concat(h("Something went wrong, please try again.",a.overrideLanguage),'</div><div class="bb-feedback-dialog-loading">\n    <svg\n      class="bb--progress-ring"\n      width="120"\n      height="120">\n      <circle\n        class="bb--progress-ring__circle"\n        stroke="').concat(this.mainColor,'"\n        stroke-width="6"\n        fill="transparent"\n        r="34"\n        cx="60"\n        cy="60"/>\n    </svg>\n  </div>\n  <div class="bb-feedback-dialog-success">\n    <svg width="120px" height="92px" viewBox="0 0 120 92" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g fill="').concat(this.mainColor,'" fill-rule="nonzero">\n                <path d="M107.553103,1.03448276 L101.669379,6.85344828 C81.2141379,27.3490345 62.5845517,47.5706897 42.7038621,67.7596552 L17.5535172,47.6517931 L11.088,42.4793793 L0.743172414,55.4104138 L38.2431724,85.4104138 L44.0621379,90.0010345 L49.2991034,84.764069 C71.5404828,62.4751034 91.5349655,40.4985517 113.437034,18.5571724 L119.256,12.6734483 L107.553103,1.03448276 Z" id="Path"></path>\n            </g>\n        </g>\n    </svg>\n    <div class="bb-feedback-dialog-info-text">').concat(h(t.thanksMessage?t.thanksMessage:"Thank you!",this.overrideLanguage),'</div>\n  </div>\n  <div class="bb-feedback-form">\n    ').concat(o,"\n  </div>");g(i,null,this.customLogoUrl,r,(function(){a.feedbackTypeActions.length>0?(a.closeGleap(!1),e.startFeedbackTypeSelection(!0)):a.closeGleap()}),this.openedMenu,"bb-anim-fadeinright ".concat(n.appCrashDetected||n.rageClickDetected?"bb-feedback-dialog--crashed":""," bb-feedback-dialog-form")),this.openedMenu=!0,this.resetLoading(!0),y(this.poweredByHidden),function(e,t){for(var n=e.form,a=document.querySelectorAll(".bb-feedback-send-button"),o=function(){var n=a[i];n.onclick=function(){if("true"!==n.getAttribute("disabled")&&n.getAttribute("bb-form-page")){var a=parseInt(n.getAttribute("bb-form-page"));j(a,e.pages,t)}}},i=0;i<a.length;i++)o();var r=function(){var a=n[i];if(!a)return"break";var o=document.querySelector(".bb-feedback-".concat(a.name));if(!o)return"break";var r=parseInt(o.getAttribute("bb-form-page"));if("text"===a.type){if(a.remember)try{var c=localStorage.getItem("bb-remember-".concat(a.name));c&&(o.value=c)}catch(p){}a.defaultValue&&(o.value=a.defaultValue),a.defaultValue&&a.hideOnDefaultSet&&o.parentElement.classList.add("bb-feedback-form--hidden"),o.addEventListener("focusout",(function(){G(r)})),o.oninput=function(){G(r,!1)}}if("privacypolicy"===a.type&&(o.onchange=function(){G(r)}),"textarea"===a.type&&(o.style.height="inherit",o.style.height=o.scrollHeight+"px",o.oninput=function(){o.style.height="inherit",o.style.height=o.scrollHeight+"px",G(r)}),"rating"===a.type){var l=document.querySelectorAll(".bb-feedback-rating-".concat(a.name," .bb-feedback-emojigroup li")),d=function(){var n=l[s];n.addEventListener("click",(function(i){o.value=n.getAttribute("data-value"),G(r);var s=document.querySelector(".bb-feedback-rating-".concat(a.name," .bb-feedback-emojigroup li.bb-feedback-active"));s&&s.classList.remove("bb-feedback-active"),n.classList.add("bb-feedback-active"),i.preventDefault(),j(r,e.pages,t)}))};for(s=0;s<l.length;s++)d()}if("onetofive"===a.type){var u=document.querySelectorAll(".bb-feedback-onetofive-".concat(a.name," .bb-feedback-onetofive-button")),b=function(){var n=u[s];n.addEventListener("click",(function(i){o.value=n.getAttribute("data-value"),G(r);var s=document.querySelector(".bb-feedback-onetofive-".concat(a.name," .bb-feedback-onetofive-button-active"));s&&s.classList.remove("bb-feedback-onetofive-button-active"),n.classList.add("bb-feedback-onetofive-button-active"),i.preventDefault(),j(r,e.pages,t)}))};for(s=0;s<u.length;s++)b()}if("multiplechoice"===a.type){var h=document.querySelectorAll(".bb-feedback-multiplechoice-".concat(a.name," .bb-feedback-multiplechoice-container")),f=function(){var e=h[s];e.addEventListener("click",(function(t){o.value=e.getAttribute("data-value"),G(r)}))};for(s=0;s<h.length;s++)f()}G(r,!1)};for(i=0;i<n.length;i++){var s;if("break"===r())break}z(0),H(0,e.pages)}(t,(function(){a.formSubmitAction(t)}))}},{key:"formSubmitAction",value:function(e){var t=this;!function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.remember){var a=document.querySelector(".bb-feedback-".concat(n.name));if(a&&a.value)try{localStorage.setItem("bb-remember-".concat(n.name),a.value)}catch(o){}}}}(e.form),window.scrollTo(t.snapshotPosition.x,t.snapshotPosition.y),L(!0),t.fakeLoading=setInterval((function(){t.fakeLoadingProgress>75?t.resetLoading(!1):(t.fakeLoadingProgress+=2,k(t.fakeLoadingProgress))}),150);var n=function(e){for(var t={},n=0;n<e.length;n++){var a=e[n],o=document.querySelector(".bb-feedback-".concat(a.name));o&&o.value&&(t[a.name]=o.value)}return t}(e.form);t.formData=n,t.excludeData=e.excludeData?e.excludeData:{},t.feedbackType=e.feedbackType?e.feedbackType:"BUG",t.widgetOnly&&t.widgetCallback?t.widgetCallback("sendFeedback",{type:t.feedbackType,formData:t.formData,screenshot:t.screenshot,excludeData:t.excludeData}):t.checkReplayLoaded()}},{key:"checkReplayLoaded",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.replaysEnabled&&(!this.replay||!this.replay.result)&&t<5?setTimeout((function(){e.checkReplayLoaded(++t)}),1e3):this.takeScreenshotAndSend()}},{key:"takeScreenshotAndSend",value:function(){var e,t,n=this;if(!this.excludeData||!this.excludeData.screenshot)return(e=this.snapshotPosition,t=this.isLiveSite,b(e,t)).then((function(e){n.sendBugReportToServer(e)})).catch((function(e){n.showError()}));this.sendBugReportToServer()}},{key:"reportCleanupOnClose",value:function(){try{e.enableReplays(this.replaysEnabled)}catch(t){}try{this.networkIntercepter.setStopped(!1)}catch(t){}this.actionToPerform=void 0,this.widgetCallback&&this.widgetCallback("closeGleap",{})}},{key:"closeModalUI",value:function(e){var t=document.querySelector(".bb-feedback-dialog-container");t&&t.remove()}},{key:"closeGleap",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&this.reportCleanupOnClose(),this.currentlySendingBug=!1,this.widgetOpened=!1,this.openedMenu=!1,this.appCrashDetected=!1,this.rageClickDetected=!1,this.updateFeedbackButtonState();var t=document.querySelector(".bb-screenshot-editor");t&&t.remove(),this.notifyEvent("close"),this.closeModalUI(e),this.enableScroll()}},{key:"init",value:function(){var e=this;this.overwriteConsoleLog(),this.startCrashDetection(),this.registerKeyboardListener(),this.registerEscapeListener(),window&&window.location&&window.location.origin&&this.checkOnlineStatus(window.location.origin).then((function(t){t&&t.up?e.isLiveSite=!0:e.isLiveSite=!1})).catch((function(){e.isLiveSite=!1}))}},{key:"registerKeyboardListener",value:function(){var t=this;document.onkeyup=function(n){var a,o,i=(void 0!==(a=n).key?o=a.key:void 0!==a.keyIdentifier?o=a.keyIdentifier:void 0!==a.keyCode&&(o=a.keyCode),o);n.ctrlKey&&("i"===i||"I"===i||73===i)&&t.shortcutsEnabled&&e.startFeedbackFlow()}}},{key:"checkForInitType",value:function(){var t=this;if(window&&window.onGleapLoaded&&window.onGleapLoaded(e),setInterval((function(){t.replay&&t.replay.isFull()&&e.enableReplays(t.replaysEnabled)}),1e3),this.widgetOnly){var n=this;n.widgetStartFlow?e.startFeedbackFlow(n.widgetStartFlow):n.feedbackTypeActions.length>0?e.startFeedbackTypeSelection():e.startFeedbackFlow()}else J.getInstance().setOnSessionReady((function(){t.injectFeedbackButton()}))}},{key:"injectFeedbackButton",value:function(){var t=this,n=(h(t.widgetInfo.title,t.overrideLanguage),h(t.widgetInfo.subtitle,t.overrideLanguage),"");n=t.customButtonLogoUrl?'<img class="bb-logo-logo" src="'.concat(t.customButtonLogoUrl,'" alt="Feedback Button" />'):w("bblogo","#192027");var a=document.createElement("div");a.className="bb-feedback-button",this.buttonType===e.FEEDBACK_BUTTON_CLASSIC||this.buttonType===e.FEEDBACK_BUTTON_CLASSIC_BOTTOM||this.buttonType===e.FEEDBACK_BUTTON_CLASSIC_LEFT?a.innerHTML='<div class="bb-feedback-button-classic '.concat(this.buttonType===e.FEEDBACK_BUTTON_CLASSIC_LEFT?"bb-feedback-button-classic--left":"").concat(this.buttonType===e.FEEDBACK_BUTTON_CLASSIC_BOTTOM?"bb-feedback-button-classic--bottom":"",'">').concat(h(this.feedbackButtonText,this.overrideLanguage),"</div>"):a.innerHTML='<div class="bb-feedback-button-icon">'.concat(n).concat(w("arrowdown","#192027"),"</div>"),a.onclick=function(){t.feedbackButtonPressed()},e.appendNode(a),this.buttonType===e.FEEDBACK_BUTTON_NONE&&a.classList.add("bb-feedback-button--disabled"),this.buttonType===e.FEEDBACK_BUTTON_BOTTOM_LEFT&&a.classList.add("bb-feedback-button--bottomleft"),this.feedbackButton=a}},{key:"showGleap",value:function(){if(!this.widgetOpened){this.feedbackTypeActions.length>0?e.startFeedbackTypeSelection():e.startFeedbackFlow();var t=window.document.getElementsByClassName("bb-feedback-button-shoutout");t&&t.length>0&&t[0].remove();try{localStorage.setItem("bb-fto",!0)}catch(n){}this.notifyEvent("open")}}},{key:"feedbackButtonPressed",value:function(){this.widgetOpened?this.closeGleap():this.showGleap()}},{key:"updateFeedbackButtonState",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!==this.feedbackButton){var n="bb-feedback-button--sending";this.widgetOpened?this.feedbackButton.classList.add(n):this.feedbackButton.classList.remove(n);var a="bb-feedback-button--crashed";this.appCrashDetected||this.rageClickDetected?this.feedbackButton.classList.add(a):this.feedbackButton.classList.remove(a);var o=document.querySelector(".bb-feedback-dialog-container"),i="bb-feedback-dialog-container--focused";o&&(this.appCrashDetected||this.rageClickDetected?o.classList.add(i):o.classList.remove(i))}else t||setTimeout((function(){e.updateFeedbackButtonState(!0)}),500)}},{key:"registerEscapeListener",value:function(){var e=this;document.addEventListener("keydown",(function(t){("key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&e.closeGleap()}))}},{key:"showSuccessMessage",value:function(){var e=document.querySelector(".bb-feedback-dialog-success"),t=document.querySelector(".bb-feedback-form"),n=document.querySelector(".bb-feedback-dialog-loading");t.style.display="none",n.style.display="none",e.style.display="flex"}},{key:"performAction",value:function(t){t&&t.outbound&&t.actionType&&(this.actionToPerform=t,e.startFeedbackFlow(t.actionType))}},{key:"sendBugReportToServer",value:function(e){var t=this,n=new XMLHttpRequest;n.open("POST",J.getInstance().apiUrl+"/bugs"),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),J.getInstance().injectSession(n),n.onerror=function(e){t.silentBugReport?t.closeGleap():t.showError()},n.upload.onprogress=function(e){if(t.silentBugReport)t.closeGleap();else if(e.lengthComputable){var n=parseInt(e.loaded/e.total*100);n>25&&n>t.fakeLoadingProgress&&(t.fakeLoading&&t.resetLoading(!1),k(n))}},n.onreadystatechange=function(e){t.silentBugReport?t.closeGleap():n.readyState===XMLHttpRequest.DONE&&(200===n.status||201===n.status?(t.notifyEvent("feedback-sent"),t.showSuccessAndClose()):t.showError())};var a={priority:this.severity,customData:this.customData,metaData:this.getMetaData(),consoleLog:this.logArray,networkLogs:this.networkIntercepter.getRequests(),customEventLog:this.eventArray,type:this.feedbackType,formData:this.formData,isSilent:this.silentBugReport};this.actionToPerform&&this.actionToPerform.outbound&&(a.outbound=this.actionToPerform.outbound),e&&e.fileUrl&&(a.screenshotUrl=e.fileUrl),e&&e.html&&(a.screenshotData=e),this.replay&&this.replay.result&&(a.webReplay=this.replay.result);for(var o=Object.keys(this.excludeData),i=0;i<o.length;i++){var r=o[i];!0===this.excludeData[r]&&(delete a[r],"screenshot"===r&&(delete a.screenshotData,delete a.screenshotUrl),"replays"===r&&delete a.webReplay)}n.send(JSON.stringify(a))}},{key:"jsonSize",value:function(e){(new TextEncoder).encode(JSON.stringify(e)).length}},{key:"showSuccessAndClose",value:function(){var e=this;e.showSuccessMessage(),setTimeout((function(){e.closeGleap()}),2800)}},{key:"showError",value:function(){this.silentBugReport?this.closeGleap():(this.notifyEvent("error-while-sending"),L(!1),document.querySelector(".bb-feedback-dialog-error").style.display="flex")}},{key:"getMetaData",value:function(){var e,t,n,o=navigator.userAgent,i=navigator.appName,r=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10);-1!==(t=o.indexOf("Opera"))?(i="Opera",r=o.substring(t+6),-1!==(t=o.indexOf("Version"))&&(r=o.substring(t+8))):-1!==(t=o.indexOf("MSIE"))?(i="Microsoft Internet Explorer",r=o.substring(t+5)):-1!==(t=o.indexOf("Chrome"))?(i="Chrome",r=o.substring(t+7)):-1!==(t=o.indexOf("Safari"))?(i="Safari",r=o.substring(t+7),-1!==(t=o.indexOf("Version"))&&(r=o.substring(t+8))):-1!==(t=o.indexOf("Firefox"))?(i="Firefox",r=o.substring(t+8)):(e=o.lastIndexOf(" ")+1)<(t=o.lastIndexOf("/"))&&(i=o.substring(e,t),r=o.substring(t+1),i.toLowerCase()===i.toUpperCase()&&(i=navigator.appName)),-1!==(n=r.indexOf(";"))&&(r=r.substring(0,n)),-1!==(n=r.indexOf(" "))&&(r=r.substring(0,n)),s=parseInt(""+r,10),isNaN(s)&&(r=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10));var c="Unknown OS";-1!==navigator.appVersion.indexOf("Win")&&(c="Windows"),-1!==navigator.appVersion.indexOf("Mac")&&(c="MacOS"),-1!==navigator.appVersion.indexOf("X11")&&(c="UNIX"),-1!==navigator.appVersion.indexOf("Linux")&&(c="Linux"),-1!==navigator.appVersion.indexOf("iPad")&&(c="iPad"),-1!==navigator.appVersion.indexOf("iPhone")&&(c="iPhone"),-1!==navigator.appVersion.indexOf("Android")&&(c="Android");var l=((new Date).getTime()-this.sessionStart.getTime())/1e3;return{browserName:i+"("+r+")",userAgent:o,browser:navigator.appName,systemName:c,buildVersionNumber:this.appBuildNumber,releaseVersionNumber:this.appVersionCode,sessionDuration:l,devicePixelRatio:window.devicePixelRatio,screenWidth:window.screen.width,screenHeight:window.screen.height,innerWidth:window.innerWidth,innerHeight:window.innerHeight,currentUrl:window.location.href,language:navigator.language||navigator.userLanguage,mobile:a(),sdkVersion:"6.1.1",sdkType:"javascript"}}},{key:"showBugReportEditor",value:function(e){e.disableUserScreenshot?this.createBugReportingDialog(e):this.screenshot?this.showMobileScreenshotEditor(e):this.widgetOnly&&this.widgetCallback?this.widgetOnly&&this.widgetCallback&&(this.screenshotFeedbackOptions=e,this.widgetCallback("requestScreenshot",{})):this.showScreenshotEditor(e)}},{key:"showScreenshotEditor",value:function(t){var n=this,a=document.createElement("div");a.className="bb-screenshot-editor",a.innerHTML='\n      <div class="bb-screenshot-editor-container">\n        <div class=\'bb-screenshot-editor-container-inner\'>\n          <svg class="bb-screenshot-editor-svg" width="100%" height="100%">\n            <defs>\n              <mask id="bbmask">\n                <rect width="100%" height="100%" fill="white"/>\n                <rect id="bb-markercut" x="0" y="0" width="0" height="0" />\n              </mask>\n            </defs>\n            <rect width="100%" height="100%" style="fill:rgba(0,0,0,0.2);" mask="url(#bbmask)" />\n          </svg>\n          <div class=\'bb-screenshot-editor-borderlayer\'></div>\n          <div class=\'bb-screenshot-editor-dot\'></div>\n          <div class=\'bb-screenshot-editor-rectangle\'></div>\n          <div class=\'bb-screenshot-editor-drag-info\'>'.concat(h("Click and drag to mark the bug",n.overrideLanguage),"</div>\n        </div>\n      </div>\n    "),e.appendNode(a);var o=document.querySelector(".bb-screenshot-editor-borderlayer"),i=window.document.querySelector(".bb-screenshot-editor-dot"),r=window.document.querySelector(".bb-screenshot-editor-rectangle"),s=window.document.querySelector(".bb-screenshot-editor-svg"),c=window.document.getElementById("bb-markercut");o.style.height="".concat(window.innerHeight,"px");var l=!1,d=-1,u=-1;function b(e,t){l||(i.style.left=e+3-i.offsetWidth/2+"px",i.style.top=t+3-i.offsetHeight/2+"px")}function f(e,t){var n=document.querySelector(".bb-screenshot-editor-drag-info");if(n.style.left="".concat(e+20,"px"),n.style.top="".concat(t-n.offsetHeight/2,"px"),n.style.right=null,n.classList.add("bb-screenshot-editor-drag-info--dragged"),!(l||d<0)){var a=e-d,o=t-u,i=a<0?d+a:d,s=o<0?u+o:u,b=o<0?-1*o:o,h=a<0?-1*a:a;r.style.left="".concat(i,"px"),r.style.top="".concat(s,"px"),r.style.width="".concat(h,"px"),r.style.height="".concat(b,"px"),c.setAttribute("x",i),c.setAttribute("y",s),c.setAttribute("width","".concat(h)),c.setAttribute("height","".concat(b))}}function p(e){d=e.pageX-document.documentElement.scrollLeft,u=e.pageY-document.documentElement.scrollTop,b(d,u)}function v(e){d=e.touches[0].pageX-document.documentElement.scrollLeft,u=e.touches[0].pageY-document.documentElement.scrollTop,b(d,u)}function g(e){f(e.pageX-document.documentElement.scrollLeft,e.pageY-document.documentElement.scrollTop)}function m(e){f(e.touches[0].pageX-document.documentElement.scrollLeft,e.touches[0].pageY-document.documentElement.scrollTop),e.preventDefault()}function y(e){document.querySelector(".bb-screenshot-editor-drag-info").style.display="none",r.style.top="".concat(r.offsetTop+document.documentElement.scrollTop,"px"),r.style.left="".concat(r.offsetLeft+document.documentElement.scrollLeft,"px"),i.style.top="".concat(i.offsetTop+document.documentElement.scrollTop,"px"),i.style.left="".concat(i.offsetLeft+document.documentElement.scrollLeft,"px"),s.style.top="".concat(s.offsetTop+document.documentElement.scrollTop,"px"),s.style.left="".concat(s.offsetLeft+document.documentElement.scrollLeft,"px"),i.parentNode.removeChild(i),r.parentNode.removeChild(r),a.appendChild(i),a.appendChild(r),a.classList.add("bb-screenshot-editor--marked"),l=!0,a.removeEventListener("mouseup",y),a.removeEventListener("mousemove",g),a.removeEventListener("mousedown",p),a.removeEventListener("touchstart",v),a.removeEventListener("touchmove",m),a.removeEventListener("touchend",y),n.createBugReportingDialog(t)}a.addEventListener("mouseup",y),a.addEventListener("mousemove",g),a.addEventListener("mousedown",p),a.addEventListener("touchstart",v),a.addEventListener("touchmove",m),a.addEventListener("touchend",y)}},{key:"showMobileScreenshotEditor",value:function(t){var n=this;X(this.screenshot,(function(e){n.screenshot=e,n.closeModalUI(),n.createBugReportingDialog(t)}),(function(){n.feedbackTypeActions.length>0?(n.closeGleap(!1),e.startFeedbackTypeSelection(!0)):n.closeGleap()}),this.overrideLanguage,this.feedbackTypeActions.length>0)}}])&&$(t.prototype,n),o&&$(t,o),e}();te(ae,"FEEDBACK_BUTTON_BOTTOM_RIGHT","BOTTOM_RIGHT"),te(ae,"FEEDBACK_BUTTON_BOTTOM_LEFT","BOTTOM_LEFT"),te(ae,"FEEDBACK_BUTTON_CLASSIC","BUTTON_CLASSIC"),te(ae,"FEEDBACK_BUTTON_CLASSIC_LEFT","BUTTON_CLASSIC_LEFT"),te(ae,"FEEDBACK_BUTTON_CLASSIC_BOTTOM","BUTTON_CLASSIC_BOTTOM"),te(ae,"FEEDBACK_BUTTON_NONE","BUTTON_NONE"),te(ae,"PRIORITY_LOW","LOW"),te(ae,"PRIORITY_MEDIUM","MEDIUM"),te(ae,"PRIORITY_HIGH","HIGH"),te(ae,"instance",void 0);const oe=ae,ie=oe;return t=t.default})()}));