!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BugBattle=t():e.BugBattle=t()}(self,(function(){return(()=>{"use strict";var e=(e,t,n)=>{n.r(t),n.d(t,{default:()=>X});var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;return new Promise((function(a,r){var o=0===e.indexOf("data:image/jpeg"),i=new Image;i.src=e,i.onerror=function(){r()},i.onload=function(){var e=document.createElement("canvas"),r=t,s=n;t>i.width/4&&(r=i.width/4),n>i.height/4&&(s=i.height/4);var l=i.width,c=i.height;l>c?l>r&&(c*=r/l,l=r):c>s&&(l*=s/c,c=s),e.width=l,e.height=c,e.getContext("2d").drawImage(i,0,0,l,c),a(o?e.toDataURL("image/jpeg",.7):e.toDataURL())}}))},r=function(){return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))},o=["//fonts.googleapis.com","//cdn.jsdelivr.net","//cdnjs.cloudflare.com","//ajax.googleapis.com","//use.typekit.net",".amazonaws.com","//jssdk.bugbattle.io",".gstatic.com"],i=function(e){if(!e)return!1;for(var t=0;t<o.length;t++)if(-1!==e.indexOf(o[t]))return!0;return!1};function s(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var c=function(e,t){return n=e,a=/url\((.*?)\)/g,r=function(e){return new Promise((function(n,a){if(!e)return n(e);var r=e.substr(4,e.length-5).replaceAll("'","").replaceAll('"',"");if(0===r.indexOf("http")||0===r.indexOf("//")||0===r.indexOf("data"))return n(e);try{var o=r;return t&&(o=t+"/"+r),d(o).then((function(e){return n("url("+e+")")}))}catch(i){return n(e)}}))},new Promise((function(e,t){var o=[];n.replace(a,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var i=r.apply(void 0,[e].concat(n));o.push(i)})),Promise.all(o).then((function(t){e(n.replace(a,(function(){return t.shift()})))})).catch((function(){t()}))}));var n,a,r},u=function(e){return new Promise((function(t,n){var a=e.href.includes(".css")||e.rel&&e.rel.includes("stylesheet");if(e&&e.href&&a){if(i(e.href))return t();var r=e.href.substring(0,e.href.lastIndexOf("/")),o=new XMLHttpRequest;o.onload=function(){var n=document.createElement("style");n.type="text/css",n.setAttribute("bb-basepath",r),n.appendChild(document.createTextNode(o.responseText)),e.parentNode.insertBefore(n,e.nextSibling),e.remove(),t()},o.onerror=function(e){t()},o.open("GET",e.href),o.send()}else t()}))},d=function(e){return new Promise((function(t,n){if(e){var a=new XMLHttpRequest;a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.onerror=function(){n()},e.readAsDataURL(a.response)},a.onerror=function(e){t()},a.open("GET",e),a.responseType="blob",a.send()}else t()}))},p=function(e){return new Promise((function(t,n){if(e&&e.src){if(i(e.src))return t();var r=new XMLHttpRequest;r.onload=function(){var o=new FileReader;o.onloadend=function(){!function(e,t,n,r){a(e,500,500).then((function(e){t.src=e,n()})).catch((function(){r()}))}(o.result,e,t,n)},o.onerror=function(){t()},o.readAsDataURL(r.response)},r.onerror=function(e){t()};var o=e.src;r.open("GET",o),r.responseType="blob",r.send()}else t()}))},h=function(e,t){var n,a=[],r=s(e.querySelectorAll("style"));try{var o=function(){var e=n.value;if(e){var r=function(e){var t=document.styleSheets;if(t)for(var n=0;n<t.length;n++){var a=t[n];if(a&&e&&a.ownerNode&&e.getAttribute("bb-styleid")&&a.ownerNode.getAttribute("bb-styleid")&&e.getAttribute("bb-styleid")===a.ownerNode.getAttribute("bb-styleid")){var r=null;if(a.cssRules?r=a.cssRules:a.rules&&(r=a.rules),r){var o="";for(var i in r)r[i].cssText&&(o+=r[i].cssText);return a.ownerNode.removeAttribute("bb-styleid"),o}}}return e.innerHTML}(e),o=e.getAttribute("bb-basepath");t?e.innerHTML=r:a.push(c(r,o).then((function(t){e.innerHTML=t})))}};for(r.s();!(n=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return Promise.all(a)},b=function(e,t){return new Promise((function(n,a){return t?h(e,t).then((function(){n()})).catch((function(){a()})):function(e){for(var t=e.querySelectorAll("img"),n=[],a=0;a<t.length;a++){var r=t[a];n.push(p(r))}return Promise.all(n)}(e).then((function(){return function(e){for(var t=e.querySelectorAll("link"),n=[],a=0;a<t.length;a++){var r=t[a];n.push(u(r))}return Promise.all(n)}(e).then((function(){return h(e,t).then((function(){n()}))}))})).catch((function(){a()}))}))},f=function(e,t){return new Promise((function(n,a){for(var o=window.document.querySelectorAll("iframe, video, embed, img, svg"),i=0;i<o.length;++i){var s=o[i],l=0;l="border-box"===s.style.boxSizing?s.height+s.marginTop+s.marginBottom+s.bordorTop+s.borderBottom:s.height,s.setAttribute("bb-element",!0),s.setAttribute("bb-height",l)}var c=window.document.querySelectorAll("canvas");for(i=0;i<c.length;++i)c[i].setAttribute("bb-canvas-data",c[i].toDataURL());var u=window.document.querySelectorAll("style");for(i=0;i<u.length;++i)u[i].setAttribute("bb-styleid",i);var d=window.document.querySelectorAll("div");for(i=0;i<d.length;++i){var p=d[i];(p.scrollTop>0||p.scrollLeft>0)&&(p.setAttribute("bb-scrollpos",!0),p.setAttribute("bb-scrolltop",p.scrollTop),p.setAttribute("bb-scrollleft",p.scrollLeft))}var h=window.document.documentElement.cloneNode(!0),f=h.querySelectorAll("select, textarea, input");for(i=0;i<f.length;++i){var g=f[i],v=g.tagName?g.tagName.toUpperCase():g.tagName;"SELECT"!==v&&"TEXTAREA"!==v&&"INPUT"!==v||(g.setAttribute("bb-data-value",g.value),"checkbox"!==g.type&&"radio"!==g.type||g.checked&&g.setAttribute("bb-data-checked",!0))}var y=window.document.querySelectorAll("*");for(i=0;i<y.length;++i){var m=y[i];m.removeAttribute("bb-element"),m.removeAttribute("bb-height"),m.removeAttribute("bb-canvas-data")}var k=h.querySelectorAll("script, noscript");for(i=0;i<k.length;++i)k[i].remove();var w=h.querySelectorAll("base");for(i=0;i<w.length;++i)w[i].remove();var L=window.document.createElement("base");L.href=window.location.origin;var C=h.querySelector("head");C.insertBefore(L,C.firstChild);var R=h.querySelectorAll(".bugbattle--feedback-dialog-container, .bugbattle-screenshot-editor-borderlayer");for(i=0;i<R.length;++i)R[i].remove();var S=h.querySelectorAll("[bb-element=true]");for(i=0;i<S.length;++i)S[i].style.height=S[i].getAttribute("bb-height");b(h,t).then((function(){var t=function(e){var t="",n=window.document.doctype;return n&&(t="<!DOCTYPE "+n.name+(n.publicId?' PUBLIC "'+n.publicId+'"':"")+(!n.publicId&&n.systemId?" SYSTEM":"")+(n.systemId?' "'+n.systemId+'"':"")+">"),t+e.outerHTML}(h);n({html:t,baseUrl:window.location.origin,x:e.x,y:e.y,width:window.innerWidth,height:window.innerHeight,isMobile:r()})}))}))};const g=JSON.parse('{"Feedback":"Feedback","Click or drag to comment":"Klicken und ziehen Sie um Feedback zu melden","Submit your feedback":"Feedback senden","Your e-mail":"Ihre E-Mail Adresse","E-mail":"E-Mail","What went wrong?":"Was ist schief gelaufen?","Describe your issue":"Beschreiben Sie den Fehler","Send feedback":"Feedback senden","How can we improve?":"Wie k√∂nnen wir uns verbessern?","Thank you for your feedback!":"Vielen Dank f√ºr Ihr Feedback!","Wrong API key":"BUGBATTLE: Bitte gib einen g√ºltigen API Key ein!","Please read and accept the privacy policy.":"Bitte lesen und akzeptieren Sie die Datenschutzerkl√§rung.","I read and accept the":"Ich akzeptiere die "," privacy policy":"Datenschutzerkl√§rung","Support":"Support","Get in touch with us.":"Nimm Kontakt mit uns auf.","Rate your experience":"Bewerte deine Erfahrung","Let us know how we could improve!":"Lass uns wissen wie wir uns verbessern k√∂nnen.","Report an issue":"Problem melden","Something is broken? Let us know!":"Etwas funktioniert nicht? Lass es uns wissen!","What feature would you like to see next?":"Welches Feature m√∂chtest du als n√§chstes sehen?","Request a feature":"Feature Request","Problems detected":"Probleme erkannt","We are always here to help, please let us know what happened.":"Wir sind immer f√ºr dich da, bitte teile uns mit was passiert ist."}'),v=JSON.parse('{"Feedback":"Feedback","Click or drag to comment":"Cliquer et glisser pour laisser votre feedback","Submit your feedback":"Remarquez votre feedback","Your e-mail":"Votre adresse email","E-mail":"E-mail","What went wrong?":"Qu\'est-ce qui n\'a pas fonctionn√©?","Describe your issue":"D√©crire le probl√®me","Send feedback":"Envoyer feedback","How can we improve?":"Comment pouvons nous nous am√©liorer?","Thank you for your feedback!":"Merci pour votre feedback!","Wrong API key":"BUGBATTLE: Veuillez fournir un API key valide!","Please read and accept the privacy policy.":"Lire et accepter la politique privacit√©.","I read and accept the":"J\'ai lu et j\'accepte la "," privacy policy":"politique de privacit√©","Support":"Soutien","Get in touch with us.":"Contactez-nous.","Rate your experience":"√âvaluez votre exp√©rience","Let us know how we could improve!":"Dites-nous comment nous pourrions nous am√©liorer.","Report an issue":"Signaler un probl√®me","Something is broken? Let us know!":"Quelque chose est cass√©? Faites-le nous savoir!","What feature would you like to see next?":"Quelle fonctionnalit√© aimeriez-vous voir ensuite?","Request a feature":"Demander une fonctionnalit√©","Problems detected":"Probl√®mes d√©tect√©s","We are always here to help, please let us know what happened.":"Nous sommes toujours l√† pour vous aider, veuillez nous faire savoir ce qui s\'est pass√©."}'),y=JSON.parse('{"Feedback":"Feedback","Click or drag to comment":"Cliquer et glisser pour laisser votre feedback","Submit your feedback":"Remarquez votre feedback","Your e-mail":"Votre adresse email","E-mail":"E-mail","What went wrong?":"Qu\'est-ce qui n\'a pas fonctionn√©?","Describe your issue":"D√©crire le probl√®me","Send feedback":"Envoyer feedback","How can we improve?":"Come possiamo migliorare?","Thank you for your feedback!":"Merci pour votre feedback!","Wrong API key":"BUGBATTLE: Veuillez fournir un API key valide!","Please read and accept the privacy policy.":"Lire et accepter la politique privacit√©.","I read and accept the":"J\'ai lu et j\'accepte la "," privacy policy":"politique de privacit√©","Support":"Supporto","Get in touch with us.":"Contattaci.","Rate your experience":"Vota la tua esperienza","Let us know how we could improve!":"Facci sapere come possiamo migliorare!","Report an issue":"Segnala un problema","Something is broken? Let us know!":"Qualcosa si √® rotto? Fatecelo sapere!","What feature would you like to see next?":"Quelle fonctionnalit√© aimeriez-vous voir ensuite¬†?","Request a feature":"Richiedi una funzionalit√†","Problems detected":"Problemi rilevati","We are always here to help, please let us know what happened.":"Siamo sempre qui per aiutarti, facci sapere cosa √® successo."}'),m=JSON.parse('{"Feedback":"Feedback","Click or drag to comment":"Klik of sleep om commentaar toe te voegen","Submit your feedback":"Verstuur terugkoppeling","Your e-mail":"Je e-mailadres","E-mail":"E-mailadres","What went wrong?":"Wat gaat er mis?","Describe your issue":"Omschrijf het probleem","Send feedback":"Verstuur terugkoppeling","How can we improve?":"Hoe kunnen we verbeteren?","Thank you for your feedback!":"Dank voor de terugkoppeling","Wrong API key":"BUGBATTLE: Voer een geldig API key in","Please read and accept the privacy policy.":"Graag de privacy voorwaarden lezen en accorderen.","I read and accept the":"Ik ga akkoord met de "," privacy policy":"privacy voorwaarden","Support":"Support","Get in touch with us.":"Neem contact met ons op.","Rate your experience":"Beoordeel uw ervaring","Let us know how we could improve!":"Laat ons weten hoe we kunnen verbeteren!","Report an issue":"Meld een probleem","Something is broken? Let us know!":"Is er iets kapot? Laat het ons weten!","What feature would you like to see next?":"Welke functie zou je hierna willen zien?","Request a feature":"Vraag een functie aan","Problems detected":"Problemen gedetecteerd","We are always here to help, please let us know what happened.":"We zijn altijd hier om te helpen, laat het ons weten wat er is gebeurd."}'),k=JSON.parse('{"Feedback":"Feedback","Click or drag to comment":"Kliknut√≠m nebo p≈ôeta≈æen√≠m komentujete","Submit your feedback":"Odeslat zpƒõtnou vazbu","Your e-mail":"V√°≈° e-mail","E-mail":"E-mail","What went wrong?":"Co se stalo?","Describe your issue":"Popi≈°te sv≈Øj probl√©m","Send feedback":"Odeslat zpƒõtnou vazbu","How can we improve?":"Jak se m≈Ø≈æeme zlep≈°it?","Thank you for your feedback!":"Dƒõkujeme za zpƒõtnou vazbu!","Wrong API key":"BUGBATTLE: Uveƒète platn√Ω kl√≠ƒç API!","Please read and accept the privacy policy.":"P≈ôeƒçtƒõte si a p≈ôijmƒõte z√°sady ochrany osobn√≠ch √∫daj≈Ø.","I read and accept the":"P≈ôeƒçetl (a) jsem si "," privacy policy":"z√°sady ochrany osobn√≠ch √∫daj≈Ø","Support":"Support","Get in touch with us.":"Spojte se s n√°mi.","Rate your experience":"Ohodno≈•te sv√© zku≈°enosti","Let us know how we could improve!":"Dejte n√°m vƒõdƒõt, jak bychom se mohli zlep≈°it!","Report an issue":"Nahl√°sit probl√©m","Something is broken? Let us know!":"Nƒõco je rozbit√©? Dejte n√°m vƒõdƒõt!","What feature would you like to see next?":"Jakou funkci byste chtƒõli vidƒõt d√°le?","Request a feature":"Po≈æ√°dejte o funkci","Problems detected":"Zji≈°tƒõn√© probl√©my","We are always here to help, please let us know what happened.":"Jsme tu v≈ædy, abychom v√°m pomohli, dejte n√°m pros√≠m vƒõdƒõt, co se stalo."}'),w=JSON.parse('{"Feedback":"Feedback","Click or drag to comment":"Click or drag to comment","Submit your feedback":"Submit your feedback","Your e-mail":"Your e-mail","E-mail":"E-mail","What went wrong?":"What went wrong?","Describe your issue":"Describe your issue","Send feedback":"Send feedback","How can we improve?":"How can we improve?","Thank you for your feedback!":"Thank you for your feedback!","Wrong API key":"BUGBATTLE: Please provide a valid API key!","Please read and accept the privacy policy.":"Please read and accept the privacy policy.","I read and accept the":"I read and accept the"," privacy policy":" privacy policy","Support":"Support","Get in touch with us.":"Get in touch with us.","Rate your experience":"Rate your experience","Let us know how we could improve!":"Let us know how we could improve!","Report an issue":"Report an issue","Something is broken? Let us know!":"Something is broken? Let us know!","What feature would you like to see next?":"What feature would you like to see next?","Request a feature":"Request a feature","Problems detected":"Problems detected","We are always here to help, please let us know what happened.":"We are always here to help, please let us know what happened."}');var L={de:g,fr:v,it:y,nl:m,cz:k,en:w},C=function(e,t){var n=G.getInstance(),a=Object.keys(L).concat(Object.keys(n.customTranslation)),r=navigator.language;""!==t&&(r=t);for(var o=w,i={},s=0;s<a.length;s++){var l=a[s];r&&r.includes(l)&&(L[l]&&(o=L[l]),n.customTranslation[l]&&(i=n.customTranslation[l]))}return i[e]?i[e]:o[e]?o[e]:e},R=function(e){var t="\n    .bugbattle--feedback-button {\n        background-color: ".concat(e,";\n    }\n    .bugbattle--feedback-dialog-header-button {\n        color: ").concat(e,";\n    }\n    .bugbattle-screenshot-editor-borderlayer {\n        border-color: ").concat(e,";\n    }\n    .bugbattle-screenshot-editor-dot {\n      background-color: ").concat(e,";\n    }\n    .bugbattle-screenshot-editor-rectangle {\n      border-color: ").concat(e,";\n    }\n    .bugbattle--feedback-send-button {\n      background-color: ").concat(e,";\n    }\n    .bugbattle--feedback-inputgroup--privacy-policy a {\n      color: ").concat(e,";\n    }\n    .bugbattle-screenshot-editor-drag-info {\n      background-color: ").concat(e,";\n    }\n    .bugbattle-double-bounce1,\n    .bugbattle-double-bounce2 {\n      background-color: ").concat(e,";\n    }\n    .bugbattle--feedback-dialog-header-button-cancel {\n      background-color: ").concat(e,";\n    }\n    .bugbattle--feedback-type-icon {\n      background-color: ").concat(e,";\n    }\n    .bugbattle--feedback-type:hover {\n      background-color: ").concat(e,"10;\n      border-bottom: 1px solid ").concat(e,'10;\n    }\n\n  .bugbattle--feedback-inputgroup--privacy-policy\n  [type="checkbox"]:not(:checked)\n  + label:after,\n  .bugbattle--feedback-inputgroup--privacy-policy\n  [type="checkbox"]:checked\n  + label:after {\n  color: ').concat(e,";\n  }\n    "),n=document.createElement("style");n.innerHTML=t,document.body.appendChild(n)},S=function(e){var t='<svg width="100px" height="100px" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <g id="Artboard" transform="translate(-1.000000, -1.000000)" fill="#398CFE">\n              <path d="M100.524809,33.1304992 C99.5584401,31.4524034 97.6257019,31.0672666 95.6112987,32.208922 C92.7530239,33.8457531 89.8675274,35.4413196 87.0773068,37.1744349 C85.9748294,37.8621791 85.4984502,37.7383851 84.8723519,36.5967298 C81.537698,30.5858457 78.0669358,24.6299811 74.718671,18.7153812 C74.4311065,18.0635671 74.0141725,17.4783635 73.4936961,16.9960208 C72.9047419,16.5919655 72.2174285,16.3588504 71.5065145,16.3220315 L49.3344686,16.3220315 C48.3953212,16.3220315 48.5042078,15.6205324 48.5042078,14.9465431 C48.5042078,11.535332 48.5042078,8.06910137 48.5042078,4.6991549 C48.6443929,3.65838853 48.2429786,2.61822784 47.4425629,1.94817819 C46.8629771,1.34219441 46.06476,1 45.2308027,1 C44.3968453,1 43.5986283,1.34219441 43.0190424,1.94817819 C42.244452,2.63601536 41.8528356,3.66396625 41.9710083,4.6991549 C41.8485108,8.55052229 42.0935058,12.4156446 41.7668458,16.267012 L26.4954919,16.1982375 C25.8641184,16.2921775 25.2655819,16.5426319 24.7533054,16.9272464 C24.322815,17.2345018 23.9495608,17.6163632 23.6508279,18.0551468 L1.560447,56.4862914 C0.813184334,57.6689833 0.813184334,59.1824767 1.560447,60.3651686 L23.5419413,99.043901 C23.9232891,99.8640262 24.6556491,100.462198 25.5291228,100.666977 C25.9337297,100.744459 26.3429353,100.795003 26.7540977,100.818281 L70.5401455,100.98334 C71.2137764,101.044697 71.8919396,100.935988 72.5137161,100.666977 C73.3121387,100.380903 73.9576397,99.7733873 74.2967352,98.9888815 C81.5558458,86.3068789 88.8603258,73.6248763 96.2101753,60.9428737 C97.1317051,59.5530829 97.1317051,57.7385333 96.2101753,56.3487426 C93.9779988,52.5523947 91.8683198,48.6735176 89.6225324,44.8909246 C89.0508775,43.9280827 89.2958725,43.5979655 90.1533549,43.1302995 C93.1069055,41.4797135 96.0332345,39.760353 98.9731743,38.0409926 C99.8632114,37.6405423 100.541726,36.8751197 100.838091,35.9372062 C101.134456,34.9992927 101.020475,33.9781259 100.524809,33.1304992 Z M82.697238,61.0280456 C82.1277368,62.0143675 81.5853548,62.9595927 81.0022941,63.9185168 L81.0022941,63.9185168 L73.4496243,77.0557772 L73.4496243,77.0557772 C71.4428108,80.5763986 69.3817591,84.0833211 67.4427433,87.6176414 C66.9491122,88.5498928 65.9486463,89.0904001 64.9071073,88.987533 C54.1589034,88.9236047 43.4016597,88.8688091 32.6353764,88.823146 C31.7564295,88.8606451 30.940112,88.3647425 30.5607651,87.5628457 C25.1369448,78.0740633 19.7402435,68.5807146 14.3706614,59.0827995 C13.9190214,58.4345022 13.8768077,57.5815513 14.262185,56.890973 L20.3233042,46.4934958 C20.3169536,46.4526494 20.3169536,46.4110519 20.3233042,46.3702055 L28.1607246,32.6712896 L28.1607246,32.6712896 C28.7166662,31.6849676 29.326846,30.3972695 29.7743111,29.6301302 C30.2217763,28.8629909 30.4929673,28.8629909 31.1302662,29.2739584 C38.0727562,33.3836332 45.0423654,37.493308 51.9984149,41.5207893 C62.0053634,47.3839253 72.0168318,53.242495 82.03282,59.0964984 C83.0769054,59.808842 83.2531795,60.0417236 82.6701189,61.0280456 L82.697238,61.0280456 Z" id="Shape"></path>\n          </g>\n      </g>\n  </svg>';return e&&(t='<img src="'.concat(e,'" alt="bugbattle-logo" />')),t},x=function(e){var t=document.querySelector(".bugbattle--feedback-poweredbycontainer");e?t.style.display="none":t.onclick=function(){window.open("https://www.bugbattle.io/","_blank")}},A=function(e){document.querySelector(".bugbattle--feedback-dialog-header-button-cancel").onclick=e};function T(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const q=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),E(this,"requestId",0),E(this,"requests",{}),E(this,"maxRequests",15),E(this,"stopped",!1)}var t,n,a;return t=e,(n=[{key:"getRequests",value:function(){return Object.values(this.requests)}},{key:"setMaxRequests",value:function(e){this.maxRequests=e}},{key:"setStopped",value:function(e){this.stopped=e}},{key:"cleanRequests",value:function(){var e=Object.keys(this.requests);if(e.length>this.maxRequests)for(var t=e.slice(0,e.length-this.maxRequests),n=0;n<t.length;n++)delete this.requests[t[n]]}},{key:"calcRequestTime",value:function(e){if(e&&this.requests&&this.requests[e]){var t=this.requests[e].date;t&&(this.requests[e].duration=(new Date).getTime()-t.getTime())}}},{key:"start",value:function(){var e=this;this.interceptNetworkRequests({onFetch:function(t,n){if(!e.stopped&&n&&e.requests){if(t.length>=2){var a=t[1].method?t[1].method:"GET";e.requests[n]={request:{payload:t[1].body,headers:t[1].headers},type:a,url:t[0],date:new Date}}else e.requests[n]={url:t[0],date:new Date};e.cleanRequests()}},onFetchLoad:function(t,n){!e.stopped&&n&&e.requests&&e.requests[n]&&t.text().then((function(a){e.requests[n].success=!0,e.requests[n].response={status:t.status,statusText:t.statusText,responseText:a},e.calcRequestTime(n),e.cleanRequests()}))},onFetchFailed:function(t,n){!e.stopped&&n&&e.requests&&e.requests[n]&&(e.requests[n].success=!1,e.calcRequestTime(n),e.cleanRequests())},onOpen:function(t,n){e.stopped||(t&&t.bbRequestId&&n.length>=2&&e.requests&&(e.requests[t.bbRequestId]={type:n[0],url:n[1],date:new Date}),e.cleanRequests())},onSend:function(t,n){e.stopped||(t&&t.bbRequestId&&n.length>0&&e.requests&&e.requests[t.bbRequestId]&&(e.requests[t.bbRequestId].request={payload:n[0],headers:t.requestHeaders},e.calcRequestTime(t.bbRequestId)),e.cleanRequests())},onError:function(t,n){if(!e.stopped&&e.requests&&t&&t.currentTarget&&t.currentTarget.bbRequestId&&e.requests[t.currentTarget.bbRequestId]){var a=t.currentTarget;e.requests[a.bbRequestId].success=!1,e.calcRequestTime(t.bbRequestId)}e.cleanRequests()},onLoad:function(t,n){if(!e.stopped){if(t&&t.currentTarget&&t.currentTarget.bbRequestId&&e.requests&&e.requests[t.currentTarget.bbRequestId]){var a=t.currentTarget;e.requests[a.bbRequestId].success=!0,e.requests[a.bbRequestId].response={status:a.status,statusText:a.statusText,responseText:"text"===a.responseType?a.responseText:"<"+a.responseType+">"}}e.cleanRequests()}}})}},{key:"interceptNetworkRequests",value:function(e){var t,n=this,a=XMLHttpRequest.prototype.open,r=XMLHttpRequest.prototype.send;return XMLHttpRequest.prototype.wrappedSetRequestHeader=XMLHttpRequest.prototype.setRequestHeader,XMLHttpRequest.prototype.setRequestHeader=function(e,t){this.wrappedSetRequestHeader(e,t),this.requestHeaders||(this.requestHeaders={}),this.requestHeaders[e]||(this.requestHeaders[e]=[]),this.requestHeaders[e].push(t)},XMLHttpRequest.prototype.open=function(){return this.bbRequestId=++n.requestId,e.onOpen&&e.onOpen(this,arguments),e.onLoad&&this.addEventListener("load",e.onLoad.bind(e)),e.onError&&this.addEventListener("error",e.onError.bind(e)),a.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){return e.onSend&&e.onSend(this,arguments),r.apply(this,arguments)},window.fetch&&(t=window.fetch,window.fetch=function(){var a=++n.requestId;return e.onFetch(arguments,a),t.apply(this,arguments).then((function(t){return t.blob().then((function(r){return t.text=function(){return n.blobToTextPromise(r)},t.json=function(){return n.blobToTextPromise(r).then((function(e){return JSON.parse(e)}))},t.blob=function(){return Promise.resolve(r)},t.arrayBuffer=function(){return r.arrayBuffer()},e.onFetchLoad(t,a),t}))})).catch((function(t){throw e.onFetchFailed(t,a),t}))}),e}},{key:"blobToTextPromise",value:function(e){return new Promise((function(t,n){var a=new FileReader;a.onload=function(e){e&&e.target&&e.target.result?t(e.target.result):n()},a.onerror=function(e){n(e)},a.readAsText(e)}))}}])&&T(t.prototype,n),a&&T(t,a),e}();function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function D(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var O=function(){function e(t,n,a){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.win=t,this.node=n,this.rec=a,this.initialState={},this.initialActions=[],this.prepEvent=function(e){var t;return r.flushObserver(),(null===(t=e.target)||void 0===t?void 0:t.ReplayRecID)||0},this.mouseListener=function(e){var t=e.clientX,n=e.clientY,a=e.target,o=r.node;if(o.contains(a)){r.flushObserver();var i,s=o.getBoundingClientRect();switch(t-=s.left,n-=s.top,e.type){case"mousemove":i="m";break;case"mouseup":i="u";break;case"mousedown":i="n";break;default:throw new Error("Unknown event type: ".concat(e.type))}r.rec.actions.push(I({},i,[Math.round(t),Math.round(n)]))}},this.scrollListener=function(e){if(r.node.contains(e.target)){var t=r.prepEvent(e);t&&r.rec.pushScrollAction(t,e.target)}},this.mainScrollListener=function(){r.flushObserver(),r.rec.actions.push(I({},"x",[window.scrollX,window.scrollY]))},this.inputListener=function(e){if(r.node.contains(e.target)){var t=r.prepEvent(e);if(t&&"value"in e.target){var n=e.target.value;"password"===e.target.type&&n&&n.length&&(n=new Array(n.length+1).join("*")),r.rec.actions.push(I({},"i",[t,n]))}}},this.flushListener=function(e){if(r.node.contains(e.target)){var t=r.prepEvent(e);t&&r.rec.actions.push(I({},"f",t))}},this.canvasListener=function(e){if(r.node.contains(e.target)){var t=r.prepEvent(e);t&&r.rec.actions.push(I({},"c",[t,e.target.toDataURL(),"didDraw"]))}},this.focusListener=function(){},n.ownerDocument.ReplayRecInner=this;var o=[],i=this.rec.serializeNode(this.node,o);i&&(this.initialState=i,this.initialActions=o,this.observer=new MutationObserver(a.observerCallback),this.observer.observe(n,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),this.mainScrollListener(),t.addEventListener("input",this.inputListener,{capture:!0,passive:!0}),t.addEventListener("mousemove",this.mouseListener,{capture:!0,passive:!0}),t.addEventListener("mousedown",this.mouseListener,{capture:!0,passive:!0}),t.addEventListener("mouseup",this.mouseListener,{capture:!0,passive:!0}),t.addEventListener("forceStyleFlush",this.flushListener,{capture:!0,passive:!0}),t.addEventListener("didDrawCanvas",this.canvasListener,{capture:!0,passive:!0}),t.addEventListener("focus",this.focusListener,{capture:!0,passive:!0}),t.addEventListener("scroll",this.mainScrollListener,{capture:!0,passive:!0}))}var t,n,a;return t=e,(n=[{key:"stop",value:function(){this.flushObserver(),this.observer.disconnect(),this.win.removeEventListener("input",this.inputListener,{capture:!0,passive:!0}),this.win.removeEventListener("mousemove",this.mouseListener,{capture:!0,passive:!0}),this.win.removeEventListener("mousedown",this.mouseListener,{capture:!0,passive:!0}),this.win.removeEventListener("mouseup",this.mouseListener,{capture:!0,passive:!0}),this.win.removeEventListener("forceStyleFlush",this.flushListener,{capture:!0,passive:!0}),this.win.removeEventListener("didDrawCanvas",this.canvasListener,{capture:!0,passive:!0}),this.win.removeEventListener("focus",this.focusListener,{capture:!0,passive:!0}),this.win.removeEventListener("scroll",this.mainScrollListener,{capture:!0,passive:!0}),this.rec.deleteAllReplayRecIDs(this.node)}},{key:"flushObserver",value:function(){this.rec.observerCallback(this.observer.takeRecords())}}])&&D(t.prototype,n),a&&D(t,a),e}();function P(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var F=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),M(this,"fetchCSSResource",(function(e){return new Promise((function(t,n){if(e){var a=new XMLHttpRequest;a.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.onerror=function(){t()},e.readAsDataURL(a.response)},a.onerror=function(e){t()},a.open("GET",e),a.responseType="blob",a.send()}else t()}))})),M(this,"replaceAsync",(function(e,t,n){return new Promise((function(a,r){var o=[];e.replace(t,(function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var i=n.apply(void 0,[e].concat(a));o.push(i)})),Promise.all(o).then((function(n){a(e.replace(t,(function(){return n.shift()})))})).catch((function(){r()}))}))})),M(this,"validateStylesheetResources",(function(e,n){var a=n.substring(0,n.lastIndexOf("/")),r=e.split(",");return 2!==r.length?Promise.reject():(e=atob(r[1]),delete r[1],t.replaceAsync(e,/url\((.*?)\)/g,(function(e){return new Promise((function(n,r){var o=e.substr(4,e.length-5).replaceAll("'","").replaceAll('"',"");if(0===o.indexOf("http")||0===o.indexOf("//")||0===o.indexOf("data"))return n(e);try{var i=o;return a&&(i=a+"/"+o),t.fetchCSSResource(i).then((function(t){return 0===o.indexOf("data:text/html")?n(e):n("url("+t+")")}))}catch(s){return n(e)}}))})).then((function(e){return r[0]+","+btoa(e)})))})),M(this,"progressResource",(function(e,n,r,o){e&&0===e.indexOf("data:text/css")?t.validateStylesheetResources(e,n).then((function(e){t.resourcesToResolve[n]=e,r()})):!e||0!==e.indexOf("data:image/jpeg")&&0!==e.indexOf("data:image/png")?(t.resourcesToResolve[n]=e,r()):a(e,500,500).then((function(e){t.resourcesToResolve[n]=e,r()}))})),M(this,"fetchItemResource",(function(e){var n=t;return new Promise((function(t,a){if(e){var r=new XMLHttpRequest;r.onload=function(){var o=new FileReader;o.onloadend=function(){n.progressResource(o.result,e,t,a)},o.onerror=function(){t()},o.readAsDataURL(r.response)},r.onerror=function(e){t()};var o=e;r.open("GET",o),r.responseType="blob",r.send()}else t()}))})),this.stopped=!1,this.startDate=Date.now(),this.node=document.documentElement,this.nextID=1,this.actions=[],this.lastActionTime=Date.now(),this.observerCallback=this.callback.bind(this),this.resourcesToResolve={},this.rootFrame=new O(window,this.node,this),this.evaluateFocus(),this.result=null,this.finalizingResult=!1}var t,n,o;return t=e,(n=[{key:"isFull",value:function(){return!!(this.actions&&this.actions.length>7e3)}},{key:"fetchImageResources",value:function(){for(var e=[],t=Object.keys(this.resourcesToResolve),n=0;n<t.length;n++)i(t[n])||e.push(this.fetchItemResource(t[n]));return Promise.all(e)}},{key:"stop",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.stopped=!0,this.rootFrame){var n={startDate:this.startDate,initialState:this.rootFrame.initialState,initialActions:this.rootFrame.initialActions,actions:this.actions,baseUrl:window.location.origin,width:window.innerWidth,height:window.innerHeight,resourcesToResolve:this.resourcesToResolve,isMobile:r()};if(this.rootFrame.stop(),this.rootFrame=null,this.finalizingResult=!0,t)return this.fetchImageResources().then((function(){e.cleanupAfterStop(n)}));this.cleanupAfterStop(n)}else this.rootFrame=null}},{key:"cleanupAfterStop",value:function(e){this.cleanupResources(),this.result=e,this.finalizingResult=!1}},{key:"cleanupResources",value:function(){for(var e=Object.keys(this.resourcesToResolve),t=0;t<e.length;t++)"--"===this.resourcesToResolve[e[t]]&&delete this.resourcesToResolve[e[t]]}},{key:"evaluateFocus",value:function(){this.rootFrame.flushObserver()}},{key:"allowAttribute",value:function(e,t){switch(t){case"srcdoc":if("IFRAME"===e.tagName)return!1;break;case"title":return!1}return!0}},{key:"pushScrollAction",value:function(e,t,n){var a=n||this.actions,r=t.elementScrolledIntoView;if(r){var o={};if(r.ReplayRecID){var i="elementScrolledIntoViewOffset"in t?t.elementScrolledIntoViewOffset:null;o.s=[e,r.ReplayRecID,i]}else{if("bottom"!==r)throw new Error("Unknown scrolledIntoView: ".concat(r));o.s=[e,r]}a.push(o)}}},{key:"serializeNode",value:function(e,t){if("ReplayRecID"in e)throw new Error("Already serialized ".concat(e.ReplayRecID));var n=this.nextID++,a={id:n};switch(e.ReplayRecID=n,e.nodeType){case Node.ELEMENT_NODE:var r=e.tagName;switch(r){case"INPUT":case"TEXTAREA":var o={},i=e.value;e.type&&"password"===e.type&&i&&i.length&&(i=new Array(i.length+1).join("*")),o.i=[n,i],t.push(o);var s=e.ownerDocument.ReplayRecInner.scrollListener;e.addEventListener("scroll",s,{passive:!0});break;case"PRE":case"DIV":if(e.classList.contains("bb-hidden"))return delete e.ReplayRecID,null;var l=e.ownerDocument.ReplayRecInner.scrollListener;e.addEventListener("scroll",l,{passive:!0});break;case"SCRIPT":case"LINK":if(delete e.ReplayRecID,e&&e.href&&(e.href.includes(".css")||e.rel&&e.rel.includes("stylesheet"))){this.resourcesToResolve[e.getAttribute("href")]="--";break}return null;case"CANVAS":var c={};c.c=[n,e.toDataURL()],t.push(c)}a[""]=r;var u,d={},p=!1,h=P(e.attributes);try{for(h.s();!(u=h.n()).done;){var b=u.value,f=b.name;this.allowAttribute(e,f)&&(d[f]=b.value,p=!0)}}catch(E){h.e(E)}finally{h.f()}p&&(a.a=d,a.a&&a.a.src&&"SOURCE"!==r&&"IFRAME"!==r&&this.optionallyAddAttribute("src",a.a.src));var g,v=[],y=P(e.childNodes);try{for(y.s();!(g=y.n()).done;){var m=g.value,k=this.serializeNode(m,t);k&&v.push(k)}}catch(E){y.e(E)}finally{y.f()}v.length>0&&(a.c=v),(e.scrollLeft||e.scrollTop)&&this.pushScrollAction(n,e,t);break;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:var w=e.parentNode;if(e.parentNode&&w.tagName&&"STYLE"===w.tagName&&w.ownerDocument){var L=w.ownerDocument.styleSheets;if(L)for(var C=0;C<L.length;C++){var R=L[C];if(R.ownerNode&&R.ownerNode.ReplayRecID&&w.ReplayRecID===R.ownerNode.ReplayRecID){var S=null;if(R.cssRules?S=R.cssRules:R.rules&&(S=R.rules),S){var x="";for(var A in S)S[A].cssText&&(x+=S[A].cssText);a.d=x}}}}var T=e.data;T.length>0&&!a.d&&(a.d=T);break;case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:break;default:throw delete e.ReplayRecID,new Error("Bad node ".concat(e))}return a}},{key:"delay",value:function(e){this.lastActionTime-=1e3*e}},{key:"deleteAllReplayRecIDs",value:function(e){delete e.ReplayRecID;var t=e.ownerDocument.ReplayRecInner.scrollListener;e.removeEventListener("scroll",t,{passive:!0});for(var n=e.firstChild;n;n=n.nextSibling)n.ReplayRecID&&this.deleteAllReplayRecIDs(n)}},{key:"optionallyAddAttribute",value:function(e,t){if("src"===e&&t){var n=t;0!==n.indexOf("data")&&(this.resourcesToResolve[n]="--")}}},{key:"callback",value:function(e,t){var n=Date.now();if(n>this.lastActionTime){var a={};a.o=n-this.lastActionTime,this.actions.push(a)}this.lastActionTime=Date.now();try{var r,o=P(e);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(i.target.ReplayRecID&&"childList"===i.type){var s,l=P(i.removedNodes);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=c.ReplayRecID;if(u){var d={};d.v=u,this.actions.push(d),this.deleteAllReplayRecIDs(c)}}}catch(E){l.e(E)}finally{l.f()}}}}catch(E){o.e(E)}finally{o.f()}var p,h=[],b=P(e);try{for(b.s();!(p=b.n()).done;){var f=p.value,g=f.target,v=g.ReplayRecID;if(v)switch(f.type){case"attributes":var y=f.attributeName;if(this.allowAttribute(g,y)){var m={};m.r=[v,y,g.getAttribute(y)],"SOURCE"!==g.tagName&&this.optionallyAddAttribute(y,g.getAttribute(y)),this.actions.push(m)}break;case"characterData":var k={};g.nodeType===Node.TEXT_NODE&&(k.t=[v,g.data]),this.actions.push(k);break;case"childList":f.addedNodes.length>0&&!g.ReplayRecNodesAdded&&(g.ReplayRecNodesAdded=!0,h.push(g))}}}catch(E){b.e(E)}finally{b.f()}for(var w=0,L=h;w<L.length;w++){var C=L[w];delete C.ReplayRecNodesAdded;for(var R=C.lastChild;R;R=R.previousSibling)if(!R.ReplayRecID){var S={},x=[],A=this.serializeNode(R,x);if(A){var T=R.nextSibling;S.p=[C.ReplayRecID,T?T.ReplayRecID:null,A,x],this.actions.push(S)}}}}catch(q){throw q}}}])&&N(t.prototype,n),o&&N(t,o),e}(),z="bugbattle--feedback-showafter",j=function(e,t){return void 0===e?"":'<div class="bugbattle--feedback-elementtitle">'.concat(C(e,t),"</div>")},U=function(e){return void 0===e?"":"".concat(z," ").concat(z,"-").concat(e)},H=function(e){var t=!0,n=document.querySelector(".bugbattle--feedback-".concat(e.name));"text"!==e.type&&"textarea"!==e.type||!e.required||(n.value&&""!==n.value?n.classList.remove("bugbattle--feedback-required"):(n.classList.add("bugbattle--feedback-required"),t=!1)),"rating"===e.type&&e.required&&(n.value&&""!==n.value?n.parentElement.classList.remove("bugbattle--feedback-required"):(n.parentElement.classList.add("bugbattle--feedback-required"),t=!1));for(var a=document.querySelectorAll(".".concat(z,"-").concat(e.name)),r=0;r<a.length;r++)a[r]&&(a[r].style.display=t?"flex":"none");return t},W=function(e){var t,n,a,r,o,i;t=function(t,n){e(t)},a=(n={interval:750,limit:4}).interval,r=n.limit,o=1,i=setInterval((function(){o=1}),a),document.addEventListener("click",(function e(n){var a,s,l;o===r&&t((s=""!==(a=n.target).className?"."+a.className:"",l=""!==a.id?"#"+a.id:"",[a.nodeName,s,l].join(" ")),(function(){clearInterval(i),document.removeEventListener("click",e)})),o++}))};function V(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_(this,"apiUrl","https://api.bugbattle.io"),_(this,"sdkKey",null),_(this,"privacyPolicyUrl",null),_(this,"privacyPolicyEnabled",!1),_(this,"widgetOnly",!1),_(this,"widgetCallback",null),_(this,"activation",""),_(this,"overrideLanguage",""),_(this,"overrideButtonText",void 0),_(this,"screenshot",null),_(this,"actionLog",[]),_(this,"logArray",[]),_(this,"eventArray",[]),_(this,"customData",{}),_(this,"formData",{}),_(this,"feedbackType","BUG"),_(this,"sessionStart",new Date),_(this,"customActionCallbacks",[]),_(this,"poweredByHidden",!1),_(this,"enabledCrashDetector",!1),_(this,"enabledCrashDetectorSilent",!1),_(this,"enabledRageClickDetector",!1),_(this,"enabledRageClickDetectorSilent",!1),_(this,"crashedWaitingForReload",!1),_(this,"currentlySendingBug",!1),_(this,"isLiveSite",!1),_(this,"replaysEnabled",!1),_(this,"customLogoUrl",null),_(this,"shortcutsEnabled",!0),_(this,"silentBugReport",!1),_(this,"initialized",!1),_(this,"email",null),_(this,"originalConsoleLog",void 0),_(this,"severity","LOW"),_(this,"appVersionCode",""),_(this,"appBuildNumber",""),_(this,"mainColor","#398CFE"),_(this,"feedbackTypeActions",[]),_(this,"previousBodyOverflow",void 0),_(this,"customTranslation",{}),_(this,"networkIntercepter",new q),_(this,"replay",null),_(this,"snapshotPosition",{x:0,y:0}),this.init()}var t,n,a;return t=e,a=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}},{key:"initialize",value:function(e,t){var n=this.getInstance();n.initialized?console.warn("Bugbattle already initialized."):(n.initialized=!0,n.sdkKey=e,n.activation=t,"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?n.checkForInitType():document.addEventListener("DOMContentLoaded",(function(e){n.checkForInitType()})))}},{key:"enableReplays",value:function(e){var t=this.getInstance();t.replaysEnabled=e,e?(t.replay&&(t.replay.stop(),t.replay=null),t.replay=new F):t.replay&&(t.replay.stop(),t.replay=null)}},{key:"logEvent",value:function(e,t){this.getInstance().logEvent(e,t)}},{key:"isWidgetOnly",value:function(e){this.getInstance().widgetOnly=e}},{key:"widgetCallback",value:function(e){this.getInstance().widgetCallback=e}},{key:"enableShortcuts",value:function(e){this.getInstance().shortcutsEnabled=e}},{key:"enablePoweredByBugbattle",value:function(e){this.getInstance().poweredByHidden=!e}},{key:"setFeedbackButtonText",value:function(e){this.getInstance().overrideButtonText=e}},{key:"enableNetworkLogger",value:function(){this.getInstance().networkIntercepter.start()}},{key:"setLogoUrl",value:function(e){this.getInstance().customLogoUrl=e}},{key:"enablePrivacyPolicy",value:function(e){this.getInstance().privacyPolicyEnabled=e}},{key:"setPrivacyPolicyUrl",value:function(e){this.getInstance().privacyPolicyUrl=e}},{key:"setCustomerEmail",value:function(e){this.getInstance().email=e}},{key:"setAppVersionCode",value:function(e){this.getInstance().appVersionCode=e}},{key:"setAppBuildNumber",value:function(e){this.getInstance().appBuildNumber=e}},{key:"setApiUrl",value:function(e){this.getInstance().apiUrl=e}},{key:"attachCustomData",value:function(e){var t=this.getInstance();t.customData=Object.assign(t.customData,e)}},{key:"setCustomData",value:function(e,t){this.getInstance().customData[e]=t}},{key:"removeCustomData",value:function(e){delete this.getInstance().customData[e]}},{key:"clearCustomData",value:function(){this.getInstance().customData={}}},{key:"setLanguage",value:function(e){this.getInstance().overrideLanguage=e}},{key:"enableCrashDetector",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getInstance();n.enabledCrashDetector=e,n.enabledCrashDetectorSilent=t}},{key:"enableRageClickDetector",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.getInstance();n.enabledRageClickDetector||(n.enabledRageClickDetector=!0,n.enabledRageClickDetectorSilent=t,W((function(t){n.enabledRageClickDetectorSilent?e.sendSilentBugReport(null,"Rage click detected."):e.startBugReporting(e.FLOW_CRASH)})))}},{key:"setMainColor",value:function(e){this.getInstance().mainColor=e,"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?R(e):document.addEventListener("DOMContentLoaded",(function(t){R(e)}))}},{key:"sendSilentBugReport",value:function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.PRIORITY_MEDIUM,r=this.getInstance();r.formData={},t&&(r.formData.reportedBy=t),n&&(r.formData.description=n),r.severity=a,r.feedbackType="BUG",this.startBugReporting({},!0)}},{key:"startFeedbackTypeSelection",value:function(){var e=this.getInstance();e.stopBugReportingAnalytics(),function(e,t,n,a,r,o){for(var i="",s=0;s<e.length;s++){var l=e[s];i+='<div id="bugbattle--feedback-type-'.concat(s,'" class="bugbattle--feedback-type">\n        <img class="bugbattle--feedback-type-icon" src="').concat(l.icon,'">\n        <div class="bugbattle--feedback-type-text">\n          <div class="bugbattle--feedback-type-title">').concat(C(l.title,t),'</div>\n          <div class="bugbattle--feedback-type-description">').concat(C(l.description,t),"</div>\n        </div>\n      </div>")}var c=document.createElement("div");c.className="bugbattle--feedback-dialog-container",c.setAttribute("data-html2canvas-ignore","true"),c.innerHTML='<div class=\'bugbattle--feedback-dialog\'>\n      <div class="bugbattle--feedback-dialog-header-button bugbattle--feedback-dialog-header-button-cancel">\n        <svg fill="#ffffff" width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n          <path d="m100 9.4414-9.4414-9.4414-40.344 40.344-40.773-40.344-9.4414 9.4414 40.344 40.773-40.344 40.344 9.4414 9.4414 40.773-40.344 40.344 40.344 9.4414-9.4414-40.344-40.344z" fill-rule="evenodd"/>\n        </svg>\n      </div>\n      <div class="bugbattle--feedback-dialog-header">\n        <div class="bugbattle--feedback-dialog-header-logo">\n          '.concat(S(n),'\n        </div>\n      </div>\n      <div class="bugbattle--feedback-dialog-body">\n        <div class="bugbattle--feedback-types">\n          ').concat(i,'\n        </div>\n        <div class="bugbattle--feedback-poweredbycontainer">\n          <span>Powered by</span>\n          <svg width="173px" height="30px" viewBox="0 0 173 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n              <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                  <g fill="#AAAAAA">\n                      <g transform="translate(147.600000, 0.000000)">\n                          <path d="M24.2859542,7.7113198 C24.0540256,7.30857681 23.5901684,7.21614399 23.1067117,7.49014127 C22.4207257,7.88298074 21.7282066,8.2659167 21.0585536,8.68186438 C20.793959,8.84692298 20.6796281,8.81721243 20.5293645,8.54321515 C19.7290475,7.10060297 18.8960646,5.67119547 18.092481,4.25169149 C18.0234655,4.09525611 17.9234014,3.95480724 17.7984871,3.83904499 C17.6571381,3.74207171 17.4921828,3.68612411 17.3215635,3.67728756 L12.0002725,3.67728756 C11.7748771,3.67728756 11.8010099,3.50892778 11.8010099,3.34717035 C11.8010099,2.52847968 11.8010099,1.69658433 11.8010099,0.887797176 C11.8346543,0.638013247 11.7383149,0.38837468 11.5462151,0.227562766 C11.4071145,0.0821266579 11.2155424,0 11.0153926,0 C10.8152429,0 10.6236708,0.0821266579 10.4845702,0.227562766 C10.2986685,0.392643686 10.2046806,0.639351901 10.233042,0.887797176 C10.2036426,1.81212535 10.2624414,2.73975469 10.184043,3.66408287 L6.51891806,3.64757701 C6.36738842,3.6701226 6.22373966,3.73023167 6.10079329,3.82253913 C5.9974756,3.89628042 5.90789458,3.98792717 5.8361987,4.09323523 L0.53450728,13.3167099 C0.35516424,13.600556 0.35516424,13.9637944 0.53450728,14.2476405 L5.81006591,23.5305363 C5.90158939,23.7273663 6.07735578,23.8709275 6.28698947,23.9200746 C6.38409512,23.9386703 6.48230448,23.9508007 6.58098345,23.9563874 L17.0896349,23.9960015 C17.2513063,24.0107273 17.4140655,23.9846371 17.5632919,23.9200746 C17.7549133,23.8514168 17.9098335,23.705613 17.9912164,23.5173316 C19.733403,20.4736509 21.4864782,17.4299703 23.2504421,14.3862897 C23.4716092,14.0527399 23.4716092,13.617248 23.2504421,13.2836982 C22.7147197,12.3725747 22.2083967,11.4416442 21.6694078,10.5338219 C21.5322106,10.3027399 21.5910094,10.2235117 21.7968052,10.1112719 C22.5056573,9.71513123 23.2079763,9.30248473 23.9135618,8.88983822 C24.1271707,8.79373014 24.2900142,8.61002873 24.3611418,8.38492949 C24.4322695,8.15983024 24.4049139,7.91475021 24.2859542,7.7113198 Z M20.0393745,14.4820237 C19.9021773,14.7197081 19.7715133,14.9474889 19.6310495,15.178571 L19.6310495,15.178571 L17.8115535,18.344395 L17.8115535,18.344395 C17.3280967,19.1927962 16.8315735,20.0378962 16.3644498,20.8895986 C16.2455303,21.114253 16.0045103,21.2445048 15.7535956,21.2197158 C13.1642709,21.2043103 10.5727684,21.1911057 7.97908815,21.1801018 C7.76734312,21.1891383 7.57068598,21.0696354 7.47929839,20.8763939 C6.17265848,18.5897821 4.87255177,16.3020699 3.57897826,14.0132572 C3.47017471,13.8570302 3.46000511,13.6514856 3.55284547,13.4850697 L5.01301556,10.9794801 C5.01148564,10.969637 5.01148564,10.9596127 5.01301556,10.9497696 L6.90111023,7.64859753 L6.90111023,7.64859753 C7.03504082,7.41091314 7.18203781,7.10060297 7.2898356,6.91573733 C7.39763339,6.7308717 7.46296539,6.7308717 7.61649558,6.82990686 C9.28899466,7.82025848 10.9680269,8.81061009 12.6437926,9.78115467 C15.0545433,11.1940563 17.4663827,12.6058576 19.8793111,14.0165584 C20.1308393,14.1882194 20.1733051,14.2443393 20.0328413,14.4820237 L20.0393745,14.4820237 Z" id="Shape"></path>\n                      </g>\n                      <path d="M17.556,15.03 C17.556,19.848 13.761,23.808 9.108,23.808 C6.77072152,23.7933743 4.54993338,22.7855117 3,21.036 L3,21.168 L2.4,23.268 L0,23.268 L0,0.168 L3,0.168 L3,9 C4.56193736,7.27275703 6.77633455,6.27927072 9.105,6.261 C13.761,6.252 17.556,10.2 17.556,15.03 Z M14.556,15.03 C14.556,11.8405556 11.9704444,9.255 8.781,9.255 C5.59155557,9.255 3.006,11.8405556 3.006,15.03 C3.006,18.2194444 5.59155557,20.805 8.781,20.805 C11.9631308,20.7885804 14.5382339,18.2121389 14.553,15.03 L14.556,15.03 Z" id="Shape" fill-rule="nonzero"></path>\n                      <path d="M32.736,23.28 L32.274,21.63 C30.1613238,23.7506367 26.978911,24.3891451 24.2117195,23.2475883 C21.4445279,22.1060314 19.6379658,19.4094081 19.635,16.416 L19.635,6.78 L22.635,6.78 L22.635,16.053 C22.635,18.6774571 24.7625429,20.805 27.387,20.805 C30.0114571,20.805 32.139,18.6774571 32.139,16.053 L32.139,6.78 L35.139,6.78 L35.139,23.28 L32.736,23.28 Z" id="Path" fill-rule="nonzero"></path>\n                      <path d="M55.044,21.102 C55.0420903,24.650847 52.9027758,27.8491651 49.623469,29.2058026 C46.3441622,30.5624401 42.5705487,29.8102793 40.062,27.3 L42.207,25.2 C43.8577662,26.8474964 46.3387667,27.3376373 48.4920171,26.4416539 C50.6452675,25.5456705 52.0462228,23.4402192 52.041,21.108 L52.041,21.042 C50.5002169,22.8021497 48.2752599,23.8124004 45.936,23.814 C41.283,23.814 37.488,19.854 37.488,15.036 C37.488,10.218 41.283,6.258 45.936,6.258 C48.2752599,6.2595996 50.5002169,7.2698503 52.041,9.03 L52.041,8.898 L52.641,6.798 L55.041,6.798 L55.044,21.102 Z M51.48,15.03 C51.48,11.862 48.972,9.255 45.936,9.255 C42.9,9.255 40.392,11.862 40.392,15.03 C40.392,18.198 42.867,20.805 45.936,20.805 C49.005,20.805 51.48,18.198 51.48,15.03 Z" id="Shape" fill-rule="nonzero"></path>\n                      <path d="M75.537,15.03 C75.537,19.848 71.742,23.808 67.089,23.808 C64.7527694,23.7925242 62.5332367,22.7847364 60.984,21.036 L60.984,21.168 L60.384,23.268 L57.984,23.268 L57.984,0.168 L60.984,0.168 L60.984,9 C62.5459374,7.27275703 64.7603345,6.27927072 67.089,6.261 C71.742,6.252 75.537,10.2 75.537,15.03 Z M72.537,15.03 C72.537,11.8405556 69.9514444,9.255 66.762,9.255 C63.5725556,9.255 60.987,11.8405556 60.987,15.03 C60.987,18.2194444 63.5725556,20.805 66.762,20.805 C69.9441308,20.7885804 72.5192339,18.2121389 72.534,15.03 L72.537,15.03 Z" id="Shape" fill-rule="nonzero"></path>\n                      <path d="M95.139,23.28 L92.739,23.28 L92.139,21.18 L92.139,21.048 C90.5807158,22.803397 88.3482532,23.8116059 86.001,23.82 C81.381,23.82 77.586,19.86 77.586,15.042 C77.586,10.224 81.381,6.264 86.001,6.264 C88.3482532,6.27239413 90.5807158,7.28060302 92.139,9.036 L92.139,8.904 L92.739,6.804 L95.139,6.804 L95.139,23.28 Z M92.139,15.03 C92.139,11.8405556 89.5534444,9.255 86.364,9.255 C83.1745556,9.255 80.589,11.8405556 80.589,15.03 C80.589,18.2194444 83.1745556,20.805 86.364,20.805 C89.5461308,20.7885804 92.1212339,18.2121389 92.136,15.03 L92.139,15.03 Z" id="Shape" fill-rule="nonzero"></path>\n                      <path d="M105.963,20.805 L105.963,23.28 L103.422,23.28 C101.143537,22.2828018 99.6773135,20.0250766 99.693,17.538 L99.693,9.453 L97.593,9.453 L97.593,6.78 L99.693,6.78 L99.693,2.325 L102.693,2.325 L102.693,6.78 L105.498,6.78 L105.498,9.453 L102.693,9.453 L102.693,17.538 C102.688982,18.4062085 103.032305,19.2399754 103.646509,19.8536163 C104.260714,20.4672572 105.094796,20.8098149 105.963,20.805 Z" id="Path" fill-rule="nonzero"></path>\n                      <path d="M115.962,20.805 L115.962,23.28 L113.421,23.28 C111.142537,22.2828018 109.676314,20.0250766 109.692,17.538 L109.692,9.453 L107.592,9.453 L107.592,6.78 L109.692,6.78 L109.692,2.325 L112.692,2.325 L112.692,6.78 L115.5,6.78 L115.5,9.453 L112.695,9.453 L112.695,17.538 C112.690988,18.4056858 113.033901,19.2389929 113.647454,19.852546 C114.261007,20.4660991 115.094314,20.8090116 115.962,20.805 Z" id="Path" fill-rule="nonzero"></path>\n                      <polygon fill-rule="nonzero" points="118.305 23.28 118.305 0.18 121.305 0.18 121.305 23.28"></polygon>\n                      <path d="M127.08,15.69 C127.330165,17.935452 128.871936,19.8263987 131.021025,20.5235752 C133.170113,21.2207517 135.528322,20.5949806 137.049,18.924 L139.194,21.069 C139.119365,21.1139793 139.051659,21.1695593 138.993,21.234 C137.350467,22.8842039 135.117322,23.8107216 132.789,23.808006 C130.468503,23.7936931 128.246259,22.869464 126.6,21.234 C124.949796,19.5914668 124.023278,17.3583215 124.025994,15.03 C124.025994,10.179 127.524,6.252 131.826,6.252 C136.128,6.252 139.626,10.179 139.626,15.03 L139.626,15.69 L127.08,15.69 Z M127.314,13.017 L136.287,13.017 C135.627,10.839 133.887,9.255 131.787,9.255 C129.687,9.255 128.004,10.839 127.314,13.017 Z" id="Shape" fill-rule="nonzero"></path>\n                  </g>\n              </g>\n          </svg>\n        </div>\n      </div>\n    </div>'),document.body.appendChild(c);var u=function(){var t=s;document.getElementById("bugbattle--feedback-type-".concat(t)).onclick=function(){c.remove(),e[t].action&&e[t].action(),o&&o()}};for(s=0;s<e.length;s++)u();x(a),A(r)}(e.feedbackTypeActions,e.overrideLanguage,e.customLogoUrl,e.poweredByHidden,e.closeBugBattle.bind(e),(function(){e.widgetOnly&&e.widgetCallback&&e.widgetCallback("selectedMenuOption",{})}))}},{key:"registerCustomAction",value:function(e){var t=this.getInstance();t.customActionCallbacks&&t.customActionCallbacks.push(e)}},{key:"triggerCustomAction",value:function(e){var t=this.getInstance();if(t.widgetOnly&&t.widgetCallback&&t.widgetCallback("customActionCalled",{name:e}),t.customActionCallbacks)for(var n=0;n<t.customActionCallbacks.length;n++){var a=t.customActionCallbacks[n];a&&a({name:e})}}},{key:"setFeedbackTypeOptions",value:function(e){this.getInstance().feedbackTypeActions=e}},{key:"startBugReporting",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.FLOW_DEFAULT,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getInstance();if(!n.currentlySendingBug){if(n.privacyPolicyEnabled&&(e.privacyPolicyEnabled=n.privacyPolicyEnabled),n.privacyPolicyUrl&&(e.privacyPolicyUrl=n.privacyPolicyUrl),n.email&&e.form&&e.form.length>0)for(var a=0;a<e.form.length;a++){var r=e.form[a];"reportedBy"===r.name&&(r.defaultValue=n.email)}if(n.currentlySendingBug=!0,n.silentBugReport=t,n.stopBugReportingAnalytics(),!n.silentBugReport){n.disableScroll();var o=document.querySelector(".bugbattle--feedback-button");o&&(o.style.display="none")}n.snapshotPosition={x:window.scrollX,y:window.scrollY},n.silentBugReport?n.checkReplayLoaded():n.showBugReportEditor(e)}}},{key:"disableConsoleLogOverwrite",value:function(){window.console=this.getInstance().originalConsoleLog}}],(n=[{key:"logEvent",value:function(e,t){this.eventArray.length>1e3&&this.eventArray.shift();var n={name:e,date:new Date};t&&(n.data=t),this.eventArray.push(n)}},{key:"stopBugReportingAnalytics",value:function(){this.networkIntercepter.setStopped(!0),this.replay&&!this.replay.stopped&&this.replay.stop(!this.isLiveSite)}},{key:"checkOnlineStatus",value:function(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){var e=JSON.parse(a.responseText);t(e)}},a.ontimeout=function(){n()},a.onerror=function(){n()},a.open("GET","https://uptime.bugbattle.io/?url="+encodeURIComponent(e),!0),a.send()}))}},{key:"startCrashDetection",value:function(){var t=this;window.onerror=function(n,a,r,o,i){var s=["Message: "+n,"URL: "+a,"Line: "+r,"Column: "+o,"Error object: "+JSON.stringify(i)];if(t.addLog(s,"ERROR"),t.enabledCrashDetector&&!t.crashedWaitingForReload&&!t.currentlySendingBug)if(t.crashedWaitingForReload=!0,t.enabledCrashDetectorSilent){var l="Message: ".concat(n,"\nURL: ").concat(a,"\nLine: ").concat(r,"\nColumn: ").concat(o,"\nError object: ").concat(JSON.stringify(i),"\n");e.sendSilentBugReport(null,l)}else e.startBugReporting(e.FLOW_CRASH);return!1}}},{key:"addLog",value:function(e,t){if(e){for(var n="",a=0;a<e.length;a++)n+=e[a]+" ";this.logArray.push({log:n,date:new Date,priority:t})}}},{key:"overwriteConsoleLog",value:function(){var e,t=this;window.console=(e=window.console,window.console&&e||(e={}),t.originalConsoleLog=e,{log:function(){t.addLog(arguments,"INFO"),e.log&&e.log.apply(e,arguments)},warn:function(){t.addLog(arguments,"WARNING"),e.warn&&e.warn.apply(e,arguments)},error:function(){t.addLog(arguments,"ERROR"),e.error&&e.error.apply(e,arguments)},info:function(n){t.addLog(arguments,"INFO"),e.info&&e.info.apply(e,arguments)}})}},{key:"disableScroll",value:function(){this.previousBodyOverflow=document.body.style.overflow,document.body.style.overflow="hidden"}},{key:"enableScroll",value:function(){this.previousBodyOverflow?document.body.style.overflow=this.previousBodyOverflow:document.body.style.overflow=null}},{key:"buildDescription",value:function(e){var t="";return e.description&&e.description.length>0&&(t='<div class="bugbattle--feedback-dialog-header-description">'.concat(C(e.description,this.overrideLanguage),"</div>")),t}},{key:"createBugReportingDialog",value:function(e){var t=this,n=function(e,t){for(var n="",a=0;a<e.length;a++){var r=e[a];if(!r)break;"text"===r.type&&(n+='<div class="bugbattle--feedback-inputgroup '.concat(U(r.showAfter),'">').concat(j(r.title,t),'\n          <input class="bugbattle--feedback-formdata bugbattle--feedback-').concat(r.name,'" type="').concat(r.inputtype,'" placeholder="').concat(C(r.placeholder,t)).concat(r.required?"*":"",'" />\n        </div>')),"textarea"===r.type&&(n+='<div class="bugbattle--feedback-inputgroup '.concat(U(r.showAfter),'">').concat(j(r.title,t),'\n          <textarea class="bugbattle--feedback-formdata bugbattle--feedback-').concat(r.name,'" placeholder="').concat(C(r.placeholder,t)).concat(r.required?"*":"",'"></textarea>\n        </div>')),"rating"===r.type&&(n+='<div class="bugbattle--feedback-rating '.concat(U(r.showAfter),'">').concat(j(r.title,t),'<input class="bugbattle--feedback-formdata bugbattle--feedback-').concat(r.name,'" type="hidden" />\n          <ul class="bugbattle--feedback-emojigroup">\n            <li class="bugbattle--feedback-angry" data-value="0">\n              <div>\n                <svg class="bugbattle--feedback-eye bugbattle--feedback-left">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bugbattle--feedback-eye bugbattle--feedback-right">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bugbattle--feedback-mouth">\n                    <use xlink:href="#mouth">\n                </svg>\n              </div>\n            </li>\n            <li class="bugbattle--feedback-sad" data-value="2.5">\n              <div>\n                <svg class="bugbattle--feedback-eye bugbattle--feedback-left">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bugbattle--feedback-eye bugbattle--feedback-right">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bugbattle--feedback-mouth">\n                    <use xlink:href="#mouth">\n                </svg>\n              </div>\n            </li>\n            <li class="bugbattle--feedback-ok" data-value="5">\n                <div></div>\n            </li>\n            <li class="bugbattle--feedback-good" data-value="7.5">\n              <div>\n                <svg class="bugbattle--feedback-eye bugbattle--feedback-left">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bugbattle--feedback-eye bugbattle--feedback-right">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bugbattle--feedback-mouth">\n                    <use xlink:href="#mouth">\n                </svg>\n              </div>\n            </li>\n            <li class="bugbattle--feedback-happy" data-value="10">\n              <div>\n                <svg class="bugbattle--feedback-eye bugbattle--feedback-left">\n                    <use xlink:href="#eye">\n                </svg>\n                <svg class="bugbattle--feedback-eye bugbattle--feedback-right">\n                    <use xlink:href="#eye">\n                </svg>\n              </div>\n          </li>\n        </ul>\n        <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">\n            <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 7 4" id="eye">\n                <path d="M1,1 C1.83333333,2.16666667 2.66666667,2.75 3.5,2.75 C4.33333333,2.75 5.16666667,2.16666667 6,1"></path>\n            </symbol>\n            <symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 7" id="mouth">\n                <path d="M1,5.5 C3.66666667,2.5 6.33333333,1 9,1 C11.6666667,1 14.3333333,2.5 17,5.5"></path>\n            </symbol>\n        </svg>\n        </div>'))}return n}(e.form,this.overrideLanguage),a=this.buildDescription(e),r=document.createElement("div");r.className="bugbattle--feedback-dialog-container",r.setAttribute("data-html2canvas-ignore","true"),r.innerHTML='<div class=\'bugbattle--feedback-dialog\'>\n      <div class="bugbattle--feedback-dialog-header-button bugbattle--feedback-dialog-header-button-cancel">\n        <svg fill="#ffffff" width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n          <path d="m100 9.4414-9.4414-9.4414-40.344 40.344-40.773-40.344-9.4414 9.4414 40.344 40.773-40.344 40.344 9.4414 9.4414 40.773-40.344 40.344 40.344 9.4414-9.4414-40.344-40.344z" fill-rule="evenodd"/>\n        </svg>\n      </div>\n      <div class="bugbattle--feedback-dialog-header">\n        <div class="bugbattle--feedback-dialog-header-logo">\n          '.concat(S(t.customLogoUrl),'\n        </div>\n        <div class="bugbattle--feedback-dialog-header-title">').concat(C(e.title,this.overrideLanguage),"</div>\n        ").concat(a,'\n      </div>\n      <div class="bugbattle--feedback-dialog-loading">\n        <svg\n          class="bugbattle--progress-ring"\n          width="120"\n          height="120">\n          <circle\n            class="bugbattle--progress-ring__circle"\n            stroke="').concat(this.mainColor,'"\n            stroke-width="6"\n            fill="transparent"\n            r="34"\n            cx="60"\n            cy="60"/>\n        </svg>\n      </div>\n      <div class="bugbattle--feedback-dialog-success">\n        <svg width="120px" height="92px" viewBox="0 0 120 92" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n            <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                <g id="np_check_1807541" fill="').concat(this.mainColor,'" fill-rule="nonzero">\n                    <path d="M107.553103,1.03448276 L101.669379,6.85344828 C81.2141379,27.3490345 62.5845517,47.5706897 42.7038621,67.7596552 L17.5535172,47.6517931 L11.088,42.4793793 L0.743172414,55.4104138 L38.2431724,85.4104138 L44.0621379,90.0010345 L49.2991034,84.764069 C71.5404828,62.4751034 91.5349655,40.4985517 113.437034,18.5571724 L119.256,12.6734483 L107.553103,1.03448276 Z" id="Path"></path>\n                </g>\n            </g>\n        </svg>\n        <div class="bugbattle--feedback-dialog-info-text">').concat(C("Thank you for your feedback!",this.overrideLanguage),'</div>\n      </div>\n      <div class="bugbattle--feedback-dialog-body">\n        ').concat(n,'\n        <div class="bugbattle--feedback-inputgroup bugbattle--feedback-inputgroup--privacy-policy">\n          <input id="bugbattlePrivacyPolicy" type="checkbox" required />\n          <label for="bugbattlePrivacyPolicy" class="bugbattle--feedback-inputgroup--privacy-policy-label">').concat(C("I read and accept the",this.overrideLanguage),'<a id="bugbattle-privacy-policy-link" href="#" target="_blank">').concat(C(" privacy policy",this.overrideLanguage),'</a>.</label>\n        </div>\n        <div class="bugbattle--feedback-inputgroup bugbattle--feedback-inputgroup-button">\n          <div class="bugbattle--feedback-send-button">').concat(C("Send feedback",this.overrideLanguage),'</div>\n        </div>\n\n        <div class="bugbattle--feedback-poweredbycontainer">\n          <span>Powered by</span>\n          <svg width="173px" height="30px" viewBox="0 0 173 30" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n              <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n                  <g fill="#AAAAAA">\n                      <g transform="translate(147.600000, 0.000000)">\n                          <path d="M24.2859542,7.7113198 C24.0540256,7.30857681 23.5901684,7.21614399 23.1067117,7.49014127 C22.4207257,7.88298074 21.7282066,8.2659167 21.0585536,8.68186438 C20.793959,8.84692298 20.6796281,8.81721243 20.5293645,8.54321515 C19.7290475,7.10060297 18.8960646,5.67119547 18.092481,4.25169149 C18.0234655,4.09525611 17.9234014,3.95480724 17.7984871,3.83904499 C17.6571381,3.74207171 17.4921828,3.68612411 17.3215635,3.67728756 L12.0002725,3.67728756 C11.7748771,3.67728756 11.8010099,3.50892778 11.8010099,3.34717035 C11.8010099,2.52847968 11.8010099,1.69658433 11.8010099,0.887797176 C11.8346543,0.638013247 11.7383149,0.38837468 11.5462151,0.227562766 C11.4071145,0.0821266579 11.2155424,0 11.0153926,0 C10.8152429,0 10.6236708,0.0821266579 10.4845702,0.227562766 C10.2986685,0.392643686 10.2046806,0.639351901 10.233042,0.887797176 C10.2036426,1.81212535 10.2624414,2.73975469 10.184043,3.66408287 L6.51891806,3.64757701 C6.36738842,3.6701226 6.22373966,3.73023167 6.10079329,3.82253913 C5.9974756,3.89628042 5.90789458,3.98792717 5.8361987,4.09323523 L0.53450728,13.3167099 C0.35516424,13.600556 0.35516424,13.9637944 0.53450728,14.2476405 L5.81006591,23.5305363 C5.90158939,23.7273663 6.07735578,23.8709275 6.28698947,23.9200746 C6.38409512,23.9386703 6.48230448,23.9508007 6.58098345,23.9563874 L17.0896349,23.9960015 C17.2513063,24.0107273 17.4140655,23.9846371 17.5632919,23.9200746 C17.7549133,23.8514168 17.9098335,23.705613 17.9912164,23.5173316 C19.733403,20.4736509 21.4864782,17.4299703 23.2504421,14.3862897 C23.4716092,14.0527399 23.4716092,13.617248 23.2504421,13.2836982 C22.7147197,12.3725747 22.2083967,11.4416442 21.6694078,10.5338219 C21.5322106,10.3027399 21.5910094,10.2235117 21.7968052,10.1112719 C22.5056573,9.71513123 23.2079763,9.30248473 23.9135618,8.88983822 C24.1271707,8.79373014 24.2900142,8.61002873 24.3611418,8.38492949 C24.4322695,8.15983024 24.4049139,7.91475021 24.2859542,7.7113198 Z M20.0393745,14.4820237 C19.9021773,14.7197081 19.7715133,14.9474889 19.6310495,15.178571 L19.6310495,15.178571 L17.8115535,18.344395 L17.8115535,18.344395 C17.3280967,19.1927962 16.8315735,20.0378962 16.3644498,20.8895986 C16.2455303,21.114253 16.0045103,21.2445048 15.7535956,21.2197158 C13.1642709,21.2043103 10.5727684,21.1911057 7.97908815,21.1801018 C7.76734312,21.1891383 7.57068598,21.0696354 7.47929839,20.8763939 C6.17265848,18.5897821 4.87255177,16.3020699 3.57897826,14.0132572 C3.47017471,13.8570302 3.46000511,13.6514856 3.55284547,13.4850697 L5.01301556,10.9794801 C5.01148564,10.969637 5.01148564,10.9596127 5.01301556,10.9497696 L6.90111023,7.64859753 L6.90111023,7.64859753 C7.03504082,7.41091314 7.18203781,7.10060297 7.2898356,6.91573733 C7.39763339,6.7308717 7.46296539,6.7308717 7.61649558,6.82990686 C9.28899466,7.82025848 10.9680269,8.81061009 12.6437926,9.78115467 C15.0545433,11.1940563 17.4663827,12.6058576 19.8793111,14.0165584 C20.1308393,14.1882194 20.1733051,14.2443393 20.0328413,14.4820237 L20.0393745,14.4820237 Z" id="Shape"></path>\n                      </g>\n                      <path d="M17.556,15.03 C17.556,19.848 13.761,23.808 9.108,23.808 C6.77072152,23.7933743 4.54993338,22.7855117 3,21.036 L3,21.168 L2.4,23.268 L0,23.268 L0,0.168 L3,0.168 L3,9 C4.56193736,7.27275703 6.77633455,6.27927072 9.105,6.261 C13.761,6.252 17.556,10.2 17.556,15.03 Z M14.556,15.03 C14.556,11.8405556 11.9704444,9.255 8.781,9.255 C5.59155557,9.255 3.006,11.8405556 3.006,15.03 C3.006,18.2194444 5.59155557,20.805 8.781,20.805 C11.9631308,20.7885804 14.5382339,18.2121389 14.553,15.03 L14.556,15.03 Z" id="Shape" fill-rule="nonzero"></path>\n                      <path d="M32.736,23.28 L32.274,21.63 C30.1613238,23.7506367 26.978911,24.3891451 24.2117195,23.2475883 C21.4445279,22.1060314 19.6379658,19.4094081 19.635,16.416 L19.635,6.78 L22.635,6.78 L22.635,16.053 C22.635,18.6774571 24.7625429,20.805 27.387,20.805 C30.0114571,20.805 32.139,18.6774571 32.139,16.053 L32.139,6.78 L35.139,6.78 L35.139,23.28 L32.736,23.28 Z" id="Path" fill-rule="nonzero"></path>\n                      <path d="M55.044,21.102 C55.0420903,24.650847 52.9027758,27.8491651 49.623469,29.2058026 C46.3441622,30.5624401 42.5705487,29.8102793 40.062,27.3 L42.207,25.2 C43.8577662,26.8474964 46.3387667,27.3376373 48.4920171,26.4416539 C50.6452675,25.5456705 52.0462228,23.4402192 52.041,21.108 L52.041,21.042 C50.5002169,22.8021497 48.2752599,23.8124004 45.936,23.814 C41.283,23.814 37.488,19.854 37.488,15.036 C37.488,10.218 41.283,6.258 45.936,6.258 C48.2752599,6.2595996 50.5002169,7.2698503 52.041,9.03 L52.041,8.898 L52.641,6.798 L55.041,6.798 L55.044,21.102 Z M51.48,15.03 C51.48,11.862 48.972,9.255 45.936,9.255 C42.9,9.255 40.392,11.862 40.392,15.03 C40.392,18.198 42.867,20.805 45.936,20.805 C49.005,20.805 51.48,18.198 51.48,15.03 Z" id="Shape" fill-rule="nonzero"></path>\n                      <path d="M75.537,15.03 C75.537,19.848 71.742,23.808 67.089,23.808 C64.7527694,23.7925242 62.5332367,22.7847364 60.984,21.036 L60.984,21.168 L60.384,23.268 L57.984,23.268 L57.984,0.168 L60.984,0.168 L60.984,9 C62.5459374,7.27275703 64.7603345,6.27927072 67.089,6.261 C71.742,6.252 75.537,10.2 75.537,15.03 Z M72.537,15.03 C72.537,11.8405556 69.9514444,9.255 66.762,9.255 C63.5725556,9.255 60.987,11.8405556 60.987,15.03 C60.987,18.2194444 63.5725556,20.805 66.762,20.805 C69.9441308,20.7885804 72.5192339,18.2121389 72.534,15.03 L72.537,15.03 Z" id="Shape" fill-rule="nonzero"></path>\n                      <path d="M95.139,23.28 L92.739,23.28 L92.139,21.18 L92.139,21.048 C90.5807158,22.803397 88.3482532,23.8116059 86.001,23.82 C81.381,23.82 77.586,19.86 77.586,15.042 C77.586,10.224 81.381,6.264 86.001,6.264 C88.3482532,6.27239413 90.5807158,7.28060302 92.139,9.036 L92.139,8.904 L92.739,6.804 L95.139,6.804 L95.139,23.28 Z M92.139,15.03 C92.139,11.8405556 89.5534444,9.255 86.364,9.255 C83.1745556,9.255 80.589,11.8405556 80.589,15.03 C80.589,18.2194444 83.1745556,20.805 86.364,20.805 C89.5461308,20.7885804 92.1212339,18.2121389 92.136,15.03 L92.139,15.03 Z" id="Shape" fill-rule="nonzero"></path>\n                      <path d="M105.963,20.805 L105.963,23.28 L103.422,23.28 C101.143537,22.2828018 99.6773135,20.0250766 99.693,17.538 L99.693,9.453 L97.593,9.453 L97.593,6.78 L99.693,6.78 L99.693,2.325 L102.693,2.325 L102.693,6.78 L105.498,6.78 L105.498,9.453 L102.693,9.453 L102.693,17.538 C102.688982,18.4062085 103.032305,19.2399754 103.646509,19.8536163 C104.260714,20.4672572 105.094796,20.8098149 105.963,20.805 Z" id="Path" fill-rule="nonzero"></path>\n                      <path d="M115.962,20.805 L115.962,23.28 L113.421,23.28 C111.142537,22.2828018 109.676314,20.0250766 109.692,17.538 L109.692,9.453 L107.592,9.453 L107.592,6.78 L109.692,6.78 L109.692,2.325 L112.692,2.325 L112.692,6.78 L115.5,6.78 L115.5,9.453 L112.695,9.453 L112.695,17.538 C112.690988,18.4056858 113.033901,19.2389929 113.647454,19.852546 C114.261007,20.4660991 115.094314,20.8090116 115.962,20.805 Z" id="Path" fill-rule="nonzero"></path>\n                      <polygon fill-rule="nonzero" points="118.305 23.28 118.305 0.18 121.305 0.18 121.305 23.28"></polygon>\n                      <path d="M127.08,15.69 C127.330165,17.935452 128.871936,19.8263987 131.021025,20.5235752 C133.170113,21.2207517 135.528322,20.5949806 137.049,18.924 L139.194,21.069 C139.119365,21.1139793 139.051659,21.1695593 138.993,21.234 C137.350467,22.8842039 135.117322,23.8107216 132.789,23.808006 C130.468503,23.7936931 128.246259,22.869464 126.6,21.234 C124.949796,19.5914668 124.023278,17.3583215 124.025994,15.03 C124.025994,10.179 127.524,6.252 131.826,6.252 C136.128,6.252 139.626,10.179 139.626,15.03 L139.626,15.69 L127.08,15.69 Z M127.314,13.017 L136.287,13.017 C135.627,10.839 133.887,9.255 131.787,9.255 C129.687,9.255 128.004,10.839 127.314,13.017 Z" id="Shape" fill-rule="nonzero"></path>\n                  </g>\n              </g>\n          </svg>\n        </div>\n      </div>\n    </div>'),document.body.appendChild(r),this.resetLoadingCircle(),x(this.poweredByHidden),A(this.closeBugBattle.bind(this)),this.hookPrivacyPolicy(e),function(e){for(var t=function(t){var n=e[t];if(!n)return"break";var r=document.querySelector(".bugbattle--feedback-".concat(n.name));if("text"===n.type){if(n.remember)try{var o=localStorage.getItem("bugbattle-remember-".concat(n.name));o&&(r.value=o)}catch(l){}n.defaultValue&&(r.value=n.defaultValue),n.defaultValue&&n.hideOnDefaultSet&&(r.style.display="none"),r.oninput=function(){H(n)}}if("textarea"===n.type&&(r.oninput=function(){r.style.height="inherit",r.style.height=r.scrollHeight+"px",H(n)}),"rating"===n.type){var i=document.querySelectorAll(".bugbattle--feedback-emojigroup li"),s=function(){var e=i[a];e.addEventListener("click",(function(t){r.value=e.getAttribute("data-value"),H(n);var a=document.querySelector(".bugbattle--feedback-emojigroup li.bugbattle--feedback-active");a&&a.classList.remove("bugbattle--feedback-active"),e.classList.add("bugbattle--feedback-active"),t.preventDefault()}))};for(a=0;a<i.length;a++)s()}},n=0;n<e.length;n++){var a;if("break"===t(n))break}}(e.form),document.querySelector(".bugbattle--feedback-send-button").onclick=function(){if(function(e){for(var t=!0,n=0;n<e.length;n++){var a=e[n];H(a)||(t=!1)}return t}(e.form)){!function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.remember){var a=document.querySelector(".bugbattle--feedback-".concat(n.name));if(a&&a.value)try{localStorage.setItem("bugbattle-remember-".concat(n.name),a.value)}catch(r){}}}}(e.form);var n=document.querySelector(".bugbattle--feedback-inputgroup--privacy-policy input");if(!e.privacyPolicyEnabled||n.checked){if(!t.sdkKey)return alert(C("Wrong API key",t.overrideLanguage));window.scrollTo(t.snapshotPosition.x,t.snapshotPosition.y),t.toggleLoading(!0);var a=function(e){for(var t={},n=0;n<e.length;n++){var a=e[n],r=document.querySelector(".bugbattle--feedback-".concat(a.name));r&&r.value&&(t[a.name]=r.value)}return t}(e.form);t.formData=a,t.feedbackType=e.feedbackType?e.feedbackType:"BUG",t.widgetOnly&&t.widgetCallback?t.widgetCallback("sendFeedback",{type:t.feedbackType,formData:t.formData}):t.checkReplayLoaded()}else alert(C("Please read and accept the privacy policy.",t.overrideLanguage))}}}},{key:"hookPrivacyPolicy",value:function(e){var t=document.querySelector(".bugbattle--feedback-inputgroup--privacy-policy");document.querySelector(".bugbattle--feedback-inputgroup--privacy-policy-label"),document.querySelector(".bugbattle--feedback-inputgroup--privacy-policy input"),e.privacyPolicyEnabled?(t.style.display="flex",document.querySelector("#bugbattle-privacy-policy-link").href=e.privacyPolicyUrl):t.style.display="none"}},{key:"resetLoadingCircle",value:function(){var e=document.querySelector(".bugbattle--progress-ring__circle"),t=213.628300444;e.style.strokeDasharray="".concat(t," ").concat(t),e.style.strokeDashoffset=211.49201743956}},{key:"checkReplayLoaded",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.replaysEnabled&&(!this.replay||!this.replay.result)&&t<5?setTimeout((function(){e.checkReplayLoaded(++t)}),1e3):this.takeScreenshotAndSend()}},{key:"takeScreenshotAndSend",value:function(){var e,t,n=this;return(e=this.snapshotPosition,t=this.isLiveSite,f(e,t)).then((function(e){n.sendBugReportToServer(e)})).catch((function(e){n.showError()}))}},{key:"reportCleanup",value:function(){try{e.enableReplays(this.replaysEnabled)}catch(t){}try{this.networkIntercepter.setStopped(!1)}catch(t){}this.currentlySendingBug=!1}},{key:"closeBugBattle",value:function(){this.reportCleanup();var e=document.querySelector(".bugbattle-screenshot-editor");e&&e.remove();var t=document.querySelector(".bugbattle--feedback-dialog-container");t&&t.remove();var n=document.querySelector(".bugbattle--feedback-button");n&&(n.style.display="block"),this.enableScroll()}},{key:"init",value:function(){var e=this;this.overwriteConsoleLog(),this.startCrashDetection(),this.registerKeyboardListener(),this.registerEscapeListener(),window&&window.location&&window.location.origin&&this.checkOnlineStatus(window.location.origin).then((function(t){t&&t.up?e.isLiveSite=!0:e.isLiveSite=!1})).catch((function(){e.isLiveSite=!1}))}},{key:"registerKeyboardListener",value:function(){var t=this;document.onkeyup=function(n){var a,r,o=(void 0!==(a=n).key?r=a.key:void 0!==a.keyIdentifier?r=a.keyIdentifier:void 0!==a.keyCode&&(r=a.keyCode),r);n.ctrlKey&&("i"===o||"I"===o||73===o)&&t.shortcutsEnabled&&e.startBugReporting()}}},{key:"checkForInitType",value:function(){var t=this;setInterval((function(){t.replay&&t.replay.isFull()&&e.enableReplays(t.replaysEnabled)}),1e3),this.activation!==e.FEEDBACK_BUTTON||this.widgetOnly||this.injectFeedbackButton(),this.widgetOnly&&(this.feedbackTypeActions.length>0?e.startFeedbackTypeSelection():e.startBugReporting())}},{key:"injectFeedbackButton",value:function(){var t=this,n=C("Feedback",t.overrideLanguage);this.overrideButtonText&&(n=this.overrideButtonText);var a=document.createElement("div");a.className="bugbattle--feedback-button",a.innerHTML='<div class="bugbattle--feedback-button-inner"><span class="bugbattle--feedback-button-inner-text">'.concat(n,"</span></div>"),a.onclick=function(){t.feedbackTypeActions.length>0?e.startFeedbackTypeSelection():e.startBugReporting()},document.body.appendChild(a)}},{key:"toggleLoading",value:function(e){var t=document.querySelector(".bugbattle--feedback-dialog-header"),n=document.querySelector(".bugbattle--feedback-dialog-body"),a=document.querySelector(".bugbattle--feedback-dialog-loading");e?(n.style.display="none",a.style.display="flex",t.style.display="none"):(n.style.display="block",a.style.display="none",t.style.display="flex")}},{key:"registerEscapeListener",value:function(){var e=this;document.addEventListener("keydown",(function(t){("key"in(t=t||window.event)?"Escape"===t.key||"Esc"===t.key:27===t.keyCode)&&e.closeBugBattle()}))}},{key:"showSuccessMessage",value:function(){var e=document.querySelector(".bugbattle--feedback-dialog-success"),t=document.querySelector(".bugbattle--feedback-dialog-body"),n=document.querySelector(".bugbattle--feedback-dialog-loading");t.style.display="none",n.style.display="none",e.style.display="flex"}},{key:"sendBugReportToServer",value:function(e){var t=this,n=new XMLHttpRequest;n.open("POST",this.apiUrl+"/bugs"),n.setRequestHeader("Content-Type","application/json;charset=UTF-8"),n.setRequestHeader("Api-Token",this.sdkKey),n.onerror=function(e){t.silentBugReport?t.reportCleanup():t.showError()},n.upload.onprogress=function(e){if(t.silentBugReport)t.reportCleanup();else if(e.lengthComputable){var n=parseInt(e.loaded/e.total*100),a=window.document.querySelector(".bugbattle--progress-ring__circle"),r=213.628300444,o=r-n/100*r;a&&(a.style.strokeDashoffset=o)}},n.onreadystatechange=function(e){t.silentBugReport?t.reportCleanup():n.readyState!==XMLHttpRequest.DONE||200!==n.status&&201!==n.status||(t.showSuccessMessage(),setTimeout((function(){t.closeBugBattle()}),1e3))};var a={priority:this.severity,customData:this.customData,metaData:this.getMetaData(),consoleLog:this.logArray,networkLogs:this.networkIntercepter.getRequests(),customEventLog:this.eventArray,type:this.feedbackType,formData:this.formData};e.fileUrl&&(a.screenshotUrl=e.fileUrl),e.html&&(a.screenshotData=e),this.replay&&this.replay.result&&(a.webReplay=this.replay.result),n.send(JSON.stringify(a))}},{key:"showError",value:function(){this.silentBugReport||this.toggleLoading(!1)}},{key:"getMetaData",value:function(){var e,t,n,a=navigator.userAgent,o=navigator.appName,i=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10);-1!==(t=a.indexOf("Opera"))?(o="Opera",i=a.substring(t+6),-1!==(t=a.indexOf("Version"))&&(i=a.substring(t+8))):-1!==(t=a.indexOf("MSIE"))?(o="Microsoft Internet Explorer",i=a.substring(t+5)):-1!==(t=a.indexOf("Chrome"))?(o="Chrome",i=a.substring(t+7)):-1!==(t=a.indexOf("Safari"))?(o="Safari",i=a.substring(t+7),-1!==(t=a.indexOf("Version"))&&(i=a.substring(t+8))):-1!==(t=a.indexOf("Firefox"))?(o="Firefox",i=a.substring(t+8)):(e=a.lastIndexOf(" ")+1)<(t=a.lastIndexOf("/"))&&(o=a.substring(e,t),i=a.substring(t+1),o.toLowerCase()===o.toUpperCase()&&(o=navigator.appName)),-1!==(n=i.indexOf(";"))&&(i=i.substring(0,n)),-1!==(n=i.indexOf(" "))&&(i=i.substring(0,n)),s=parseInt(""+i,10),isNaN(s)&&(i=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10));var l="Unknown OS";-1!==navigator.appVersion.indexOf("Win")&&(l="Windows"),-1!==navigator.appVersion.indexOf("Mac")&&(l="MacOS"),-1!==navigator.appVersion.indexOf("X11")&&(l="UNIX"),-1!==navigator.appVersion.indexOf("Linux")&&(l="Linux"),-1!==navigator.appVersion.indexOf("iPad")&&(l="iPad"),-1!==navigator.appVersion.indexOf("iPhone")&&(l="iPhone"),-1!==navigator.appVersion.indexOf("Android")&&(l="Android");var c=((new Date).getTime()-this.sessionStart.getTime())/1e3;return{browserName:o+"("+i+")",userAgent:a,browser:navigator.appName,systemName:l,buildVersionNumber:this.appBuildNumber,releaseVersionNumber:this.appVersionCode,sessionDuration:c,devicePixelRatio:window.devicePixelRatio,screenWidth:window.screen.width,screenHeight:window.screen.height,innerWidth:window.innerWidth,innerHeight:window.innerHeight,currentUrl:window.location.href,language:navigator.language||navigator.userLanguage,mobile:r()}}},{key:"showBugReportEditor",value:function(e){if(e.disableUserScreenshot)this.createBugReportingDialog(e);else{if(this.widgetOnly&&this.widgetCallback)return this.widgetCallback("openScreenshotEditor",{screenshotEditorIsFirstStep:0===this.feedbackTypeActions.length}),void this.createBugReportingDialog(e);var t=this,n=document.createElement("div");n.className="bugbattle-screenshot-editor",n.setAttribute("data-html2canvas-ignore","true"),n.innerHTML="\n      <div class=\"bugbattle-screenshot-editor-container\">\n        <div class='bugbattle-screenshot-editor-container-inner'>\n          <div class='bugbattle-screenshot-editor-borderlayer'></div>\n          <div class='bugbattle-screenshot-editor-dot'></div>\n          <div class='bugbattle-screenshot-editor-rectangle'></div>\n          <div class='bugbattle-screenshot-editor-drag-info'>".concat(C("Click or drag to comment",t.overrideLanguage),"</div>\n        </div>\n      </div>\n    "),document.body.appendChild(n);var a=document.querySelector(".bugbattle-screenshot-editor-borderlayer");a&&(a.style.height="".concat(window.innerHeight,"px"));var r=!1,o=-1,i=-1;n.addEventListener("mouseup",c),n.addEventListener("mousemove",(function(e){l(e.pageX-document.documentElement.scrollLeft,e.pageY-document.documentElement.scrollTop)})),n.addEventListener("mousedown",(function(e){o=e.pageX-document.documentElement.scrollLeft,i=e.pageY-document.documentElement.scrollTop,s(o,i)})),n.addEventListener("touchstart",(function(e){o=e.touches[0].pageX-document.documentElement.scrollLeft,i=e.touches[0].pageY-document.documentElement.scrollTop,s(o,i)})),n.addEventListener("touchmove",(function(e){l(e.touches[0].pageX-document.documentElement.scrollLeft,e.touches[0].pageY-document.documentElement.scrollTop),e.preventDefault()})),n.addEventListener("touchend",c)}function s(e,t){if(!r){var n=document.querySelector(".bugbattle-screenshot-editor-dot");n.style.left=e-n.offsetWidth/2+"px",n.style.top=t-n.offsetHeight/2+"px"}}function l(e,t){var n=document.querySelector(".bugbattle-screenshot-editor-drag-info");if(n.style.left="".concat(e+20,"px"),n.style.top="".concat(t-n.offsetHeight/2,"px"),n.style.right=null,!(r||o<0)){var a=e-o,s=t-i,l=document.querySelector(".bugbattle-screenshot-editor-rectangle"),c=a<0?o+a:o,u=s<0?i+s:i,d=s<0?-1*s:s,p=a<0?-1*a:a;l.style.left="".concat(c,"px"),l.style.top="".concat(u,"px"),l.style.width="".concat(p,"px"),l.style.height="".concat(d,"px")}}function c(n){document.querySelector(".bugbattle-screenshot-editor-drag-info").style.display="none";var a=window.document.querySelector(".bugbattle-screenshot-editor-dot"),o=window.document.querySelector(".bugbattle-screenshot-editor-rectangle");o.style.top="".concat(o.offsetTop+document.documentElement.scrollTop,"px"),o.style.left="".concat(o.offsetLeft+document.documentElement.scrollLeft,"px"),a.style.top="".concat(a.offsetTop+document.documentElement.scrollTop,"px"),a.style.left="".concat(a.offsetLeft+document.documentElement.scrollLeft,"px"),a.parentNode.removeChild(a),o.parentNode.removeChild(o);var i=window.document.querySelector(".bugbattle-screenshot-editor");i.appendChild(a),i.appendChild(o),r=!0,t.createBugReportingDialog(e)}}}])&&V(t.prototype,n),a&&V(t,a),e}();_(Z,"FEEDBACK_BUTTON","FEEDBACK_BUTTON"),_(Z,"NONE","NONE"),_(Z,"FLOW_CRASH",{title:"Problems detected",description:"We are always here to help, please let us know what happened.",form:[{placeholder:"Your e-mail",type:"text",inputtype:"email",name:"reportedBy",required:!0,remember:!0,hideOnDefaultSet:!0},{placeholder:"What went wrong?",type:"textarea",name:"description"}],feedbackType:"BUG",disableUserScreenshot:!0}),_(Z,"FLOW_DEFAULT",{title:"Report an issue",form:[{placeholder:"Your e-mail",type:"text",inputtype:"email",name:"reportedBy",required:!0,remember:!0,hideOnDefaultSet:!0},{placeholder:"What went wrong?",type:"textarea",name:"description"}]}),_(Z,"FLOW_RATING",{title:"Rate your experience",form:[{type:"rating",ratingtype:"emoji",name:"pagerating",required:!0},{placeholder:"Your e-mail",type:"text",inputtype:"email",name:"reportedBy",required:!0,remember:!0,hideOnDefaultSet:!0,showAfter:"pagerating"},{placeholder:"How can we improve?",type:"textarea",name:"description",showAfter:"pagerating"}],feedbackType:"RATING",disableUserScreenshot:!0}),_(Z,"FLOW_FEATUREREQUEST",{title:"Request a feature",form:[{placeholder:"Your e-mail",type:"text",inputtype:"email",name:"reportedBy",hideOnDefaultSet:!0,required:!0,remember:!0},{placeholder:"What feature would you like to see next?",type:"text",inputtype:"text",name:"description",required:!0}],feedbackType:"FEATURE_REQUEST",disableUserScreenshot:!0}),_(Z,"PRIORITY_LOW","LOW"),_(Z,"PRIORITY_MEDIUM","MEDIUM"),_(Z,"PRIORITY_HIGH","HIGH"),_(Z,"instance",void 0);const G=Z,X=Z},t={d:(e,n)=>{for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};return e(0,n,t),n})()}));