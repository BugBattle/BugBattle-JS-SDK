!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Gleap=t():e.Gleap=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null==n)return;var r,a,o=[],i=!0,s=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(c){s=!0,a=c}finally{try{i||null==n.return||n.return()}finally{if(s)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.d(t,{default:()=>Ve});var a=function(e,t){3===(e=e.replace(/^#/,"")).length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var r=n(e.match(/.{2}/g),3),a=r[0],o=r[1],i=r[2],s=[parseInt(a,16)+t,parseInt(o,16)+t,parseInt(i,16)+t];a=s[0],o=s[1],i=s[2],a=Math.max(Math.min(255,a),0).toString(16),o=Math.max(Math.min(255,o),0).toString(16),i=Math.max(Math.min(255,i),0).toString(16);var c=(a.length<2?"0":"")+a,l=(o.length<2?"0":"")+o,u=(i.length<2?"0":"")+i;return"#".concat(c).concat(l).concat(u)},o=function(e){return(299*parseInt(e.substr(1,2),16)+587*parseInt(e.substr(3,2),16)+114*parseInt(e.substr(5,2),16))/1e3>=160?"#000000":"#ffffff"},i=function(e,t,n,r,i){var s=o(e),c=o(t),l=o(n),u=o(i),d="#ffffff"===u,f=a(i,d?100:-120),h=a(i,d?30:-12),p=a(i,d?80:-30),b=a(i,d?70:-70);NaN!==(r=parseInt(r,10))&&void 0!==r||(r=20);var v=Math.round(.6*r),g=Math.round(1.05*r),y=Math.round(.4*r),m=Math.round(.25*r),w="\n    .bb-capture-preview-retrybutton {\n      color: ".concat(u,";\n      border-radius: ").concat(g,"px;\n      background-color: ").concat(h,";\n    }\n    .bb-capture-preview-retrybutton:hover {\n      background-color: ").concat(p,";\n    }\n    .bb-feedback-dialog-success svg {\n      box-shadow: inset 0px 0px 0px ").concat(e,";\n    }\n\n    @keyframes bb-suc-fill {\n      100% {\n        box-shadow: inset 0px 0px 0px 30px ").concat(e,";\n      }\n    }\n    .bb-feedback-dialog-success svg circle {\n      stroke: ").concat(e,";\n    }\n    .bb-capture-dismiss {\n      background-color: ").concat(e,";\n      border-bottom-left-radius: ").concat(m,"px;\n    }\n    .bb-capture-dismiss svg path {\n      fill: ").concat(s,";\n    }\n    .bb-capture-toolbar-item-spacer {\n      background-color: ").concat(h,";\n    }\n    .bb-tooltip {\n      border-radius: ").concat(y,"px;\n    }\n    @keyframes bbRecIconFade {\n      0% {\n        fill: transparent;\n      }\n      50% {\n        fill: ").concat(p,';\n      }\n      100% {\n        fill: transparent;\n      }\n    }\n    .bb-feedback-inputgroup--privacy-policy a,\n    .bb-feedback-inputgroup--privacy-policy [type="checkbox"]:not(:checked) + label,\n    .bb-feedback-inputgroup--privacy-policy [type="checkbox"]:checked + label {\n      color: ').concat(u,";\n    }\n    .bb-capture-preview-sendbutton {\n      color: ").concat(s,";\n      background-color: ").concat(e,";\n      border-radius: ").concat(g,"px;\n    }\n    .bb-capture-button-next {\n      color: ").concat(s,";\n      background-color: ").concat(e,";\n      border-radius: ").concat(m,"px;\n    }\n    .bb-feedback-capture-item {\n      border-radius: ").concat(g,"px;\n      background-color: ").concat(h,";\n    }\n    .bb-capture-preview-inner {\n      background-color: ").concat(i,";\n      border-radius: ").concat(y,"px;\n    }\n    .bb-feedback-capture-item .bb-item-title {\n      color: ").concat(u,";\n    }\n    .bb-capture-toolbar-item-timer {\n      color: ").concat(f,";\n    }\n    .bb-feedback-capture-item-selected-icon path,\n    .bb-feedback-capture-item-selected-action path,\n    .bb-feedback-capture-item path {\n      fill: ").concat(u,";\n    }\n    .bb-svg-path {\n      fill: ").concat(u,";\n    }\n    .bb-feedback-capture-item-selected-button {\n      border-radius: ").concat(y,"px;\n      background-color: ").concat(h,";\n    }\n    .bb-feedback-capture-item-selected-label {\n      color: ").concat(u,";\n    }\n    .bb-feedback-capture-item-selected-action:hover {\n      background-color: ").concat(p,";\n      border-radius: ").concat(m,"px;\n    }\n    .bb-capture-toolbar-item {\n      border-radius: ").concat(y,"px;\n    }\n    .bb-capture-toolbar {\n      background-color: ").concat(i,";\n      border-radius: ").concat(y,"px;\n    }\n    .bb-capture-toolbar-item-colorpicker {\n      background-color: ").concat(i,";\n    }\n    .bb-capture-toolbar-item--active {\n      background-color: ").concat(h,";\n    }\n    .bb-feedback-capture-item:hover {\n      background-color: ").concat(p,";\n    }\n    .bb-feedback-onetofive-button {\n      border-radius: ").concat(m,"px;\n    }\n    .bb-feedback-button-classic {\n      border-top-left-radius: ").concat(y,"px;\n      border-top-right-radius: ").concat(y,"px;\n    }\n    .bb-logo-logo--default path {\n      fill: ").concat(l,";\n    }\n    .bb-feedback-dialog-header-logo .bb-logo-logo--default path {\n      fill: ").concat(c,";\n    }\n    .bb-feedback-inputgroup textarea,\n    .bb-feedback-inputgroup > input,\n    .bb-feedback-inputgroup input {\n      border-radius: ").concat(y,"px;\n    }\n    .bb-feedback-dialog-header-back:hover {\n      background-color: ").concat(c,";\n      border-radius: ").concat(v,"px;\n    }\n    .bb-feedback-dialog-header-next {\n      background-color: ").concat(c,";\n    }\n    .bb-feedback-dialog-header-next span {\n      color: ").concat(t,";\n    }\n    .bb-feedback-dialog-header-next svg {\n      fill: ").concat(t,";\n    }\n    .bb-feedback-type {\n      border-radius: ").concat(v,"px;\n      background-color: ").concat(i,";\n    }\n    .bb-feedback-type-description,\n    .bb-feedback-poweredbycontainer span,\n    .bb-feedback-onetofive-description span {\n      color: ").concat(f,";\n    }\n    .bb-feedback-poweredbycontainer svg g {\n      fill: ").concat(f,";\n    }\n    .bb-feedback-type:hover {\n      background-color: ").concat(h,";\n    }\n    #bb-drawing-colorpopup {\n      background-color: ").concat(i,";\n    }\n    .bb-feedback-type-title,\n    .bb-feedback-form-description,\n    .bb-feedback-elementtitle,\n    .bb-feedback-multiplechoice-container,\n    .bb-feedback-dialog-info-text\n    {\n      color: ").concat(u,";\n    }\n    .bb-drawing-tool-spacer {\n      background-color: ").concat(h,";\n    }\n    .bb-feedback-dialog {\n      border-radius: ").concat(r,"px;\n      background-color: ").concat(i,";\n    }\n    .bb-logo-arrowdown {\n      fill: ").concat(l,";\n    }\n    .bb-feedback-dialog-header-back svg {\n      fill: ").concat(c,";\n    }\n    .bb-feedback-dialog-header-back:hover svg {\n      fill: ").concat(t,";\n    }\n    .bb-feedback-dialog-header-close svg {\n      fill: ").concat(c,";\n    }\n    .bb-feedback-dialog-header-title,\n    .bb-feedback-dialog-header-title span {\n      color: ").concat(c,";\n    }\n    .bb-feedback-dialog-header-title-small {\n      color: ").concat(c,";\n    }\n    .bb-feedback-dialog-header-description {\n      color: ").concat(c,";\n    }\n    .bb-feedback-onetofive-button-active,\n    .bb-feedback-onetofive-button:hover {\n      background-color: ").concat(e,";\n      color: ").concat(s,";\n    }    \n    .bb-feedback-button-icon {\n        background-color: ").concat(n,";\n    }\n    .bb-feedback-multiplechoice-checkmark {\n      border: 2px solid ").concat(p,";\n    }\n    .bb-feedback-multiplechoice-container:hover\n      input\n      ~ .bb-feedback-multiplechoice-checkmark {\n      border: 2px solid ").concat(e,";\n    }\n    .bb-feedback-multiplechoice-container input:checked ~ .bb-feedback-multiplechoice-checkmark {\n      background-color: ").concat(e,";\n      border: 2px solid ").concat(e,";\n    }\n    .bb-feedback-dialog-header-button {\n        color: ").concat(e,";\n    }\n    .bb-drawing-tool-item--active {\n      background-color: ").concat(h,";\n    }\n    .bb-capture-editor-borderlayer {\n        border-color: ").concat(e,";\n    }\n    .bb-feedback-button-classic {\n      background-color: ").concat(n,";\n      color: ").concat(l,";\n    }\n    .bb-feedback-dialog-header {\n      background-color: ").concat(t,";\n    }\n    .bb-form-progress-inner {\n      background-color: ").concat(t,"66;\n    }\n    .bb-feedback-inputgroup textarea,\n    .bb-feedback-inputgroup > input,\n    .bb-feedback-inputgroup input {\n      background-color: ").concat(i,";\n      color: ").concat(u,";\n      border-color: ").concat(b,";\n    }\n    .bb-feedback-inputgroup textarea:focus {\n      border-color: ").concat(e,";\n    }\n    .bb-feedback-inputgroup > input:focus, .bb-feedback-inputgroup input:focus {\n      border-color: ").concat(e,";\n    }\n    .bb-feedback-send-button {\n      color: ").concat(s,";\n      background-color: ").concat(e,";\n      border-radius: ").concat(g,"px;\n    }\n    .bb-double-bounce1,\n    .bb-double-bounce2 {\n      background-color: ").concat(e,";\n    }\n    .bb-feedback-dialog-header-button-cancel {\n      background-color: ").concat(e,";\n    }\n    .bb-feedback-type-icon {\n      background-color: ").concat(e,';\n    }\n    .bb-feedback-inputgroup--privacy-policy\n    [type="checkbox"]:not(:checked)\n    + label:after,\n    .bb-feedback-inputgroup--privacy-policy\n    [type="checkbox"]:checked\n    + label:after {\n    color: ').concat(e,";\n    }\n    "),k=document.querySelector(".gleap-styles");k&&k.remove();var C=document.createElement("style");C.innerHTML=w,C.className="gleap-styles",document.body.appendChild(C)},s=function(e,t){return"bblogo"===e?'<svg class="bb-logo-logo bb-logo-logo--default" width="127px" height="129px" viewBox="0 0 127 129" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n            <g transform="translate(-11.000000, -6.000000)">\n                <g transform="translate(11.000000, 6.000000)">\n                    <path d="M27.5507,32.306 C20.4495,41.0714 17.3437,52.8384 17.3438,64.1091 C17.3438,75.3799 20.4497,87.1469 27.5508,95.9123 C34.4039,104.372 45.6889,110.937 64.1725,110.937 C83.6599,110.937 93.3637,102.356 98.4673,94.1976 C102.058,88.4577 103.344,84.2626 103.805,81.4366 C104.114,79.5459 105.616,77.9841 107.531,77.9841 L117.938,77.9841 C119.853,77.9841 121.429,79.5376 121.265,81.4463 C120.835,86.4687 119.175,93.7981 113.171,103.396 C105.135,116.242 90.0723,128.281 64.1725,128.281 C41.0305,128.281 24.5652,119.779 14.0745,106.83 C3.83175,94.1866 -7.10542736e-15,78.2036 -7.10542736e-15,64.1092 C-7.10542736e-15,50.0147 3.83155,34.0317 14.0744,21.3884 C24.0327,9.09622 39.3744,0.811764004 60.7001,0.00243821374 C62.6145,-0.0702130963 64.1725,1.49027 64.1725,3.40601 L64.1725,13.8123 C64.1725,15.728 62.6176,17.2712 60.704,17.3608 C44.2594,18.1311 33.9643,24.3893 27.5507,32.306 Z"></path>\n                    <path d="M126.609,43.2966 C126.609,50.9596 120.397,57.1716 112.734,57.1716 C105.071,57.1716 98.8594,50.9596 98.8594,43.2966 C98.8594,35.6337 105.071,29.4216 112.734,29.4216 C120.397,29.4216 126.609,35.6337 126.609,43.2966 Z" id="Path" fill-rule="nonzero"></path>\n                </g>\n            </g>\n        </g>\n    </svg>':"dismiss"===e?'<svg width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">\n    <path d="m684 600 439.2-439.2c22.801-22.801 22.801-60 0-84s-60-22.801-84 0l-439.2 439.2-439.2-439.2c-22.801-22.801-60-22.801-84 0s-22.801 60 0 84l439.2 439.2-439.2 439.2c-22.801 22.801-22.801 60 0 84 12 12 26.398 16.801 42 16.801 15.602 0 30-6 42-16.801l439.2-439.2 439.2 439.2c12 12 26.398 16.801 42 16.801 15.602 0 30-6 42-16.801 22.801-22.801 22.801-60 0-84z" fill="#333"/>\n   </svg>':"blur"===e?'<svg width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">\n <path class="bb-svg-path" d="m602.25 1200c238.2 0 435.95-193.26 435.95-435.95 0-269.66-220.23-615.73-435.95-764.05-220.23 161.8-440.45 485.39-440.45 764.05 0 242.7 197.75 435.95 440.45 435.95zm-260.68-382.02c0 112.36 89.887 206.74 206.74 206.74v62.922c-148.32 0-274.16-121.35-274.16-269.66z" fill="#333"/>\n</svg>':"pen"===e?'<svg width="1072px" height="1034px" viewBox="0 0 1072 1034" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g transform="translate(-907.000000, -217.000000)" fill-rule="nonzero">\n            <g transform="translate(907.268457, 217.009827)">\n                <g transform="translate(132.335119, 0.000000)" fill="#000" class="bb-svg-path">\n                    <path d="M20.3764235,730.530173 L10.1884235,720.342173 C-0.791576454,709.362173 -3.16357645,692.432173 4.37592355,678.858173 L83.1809235,537.018173 C71.7589235,502.979173 82.3098335,463.998173 112.254924,440.706173 L655.334924,18.3161733 C689.951924,-8.6058267 739.197924,-5.5388267 770.214924,25.4684733 L913.774924,169.028473 C944.782924,200.040473 947.848924,249.286473 920.927224,283.908473 L498.537224,826.988473 C496.322424,829.836173 493.935624,832.543173 491.384924,835.090073 C467.271924,859.207073 432.513924,866.195073 402.232924,856.063073 L260.382924,934.868073 C246.804924,942.407173 229.874924,940.036073 218.894924,929.055573 L208.706924,918.867573 L20.3764235,730.530173 Z M866.006424,241.190173 C871.393124,234.264373 870.779824,224.417173 864.576724,218.213173 L721.016724,74.6531733 C714.813624,68.4500733 704.965724,67.8367733 698.043724,73.2234733 L154.963724,495.613473 C147.381724,501.507973 146.018424,512.433473 151.912924,520.015473 C152.358234,520.585783 152.834804,521.128773 153.346524,521.636573 L417.586524,785.886573 C424.379524,792.675673 435.391524,792.675673 442.180524,785.886573 C442.692244,785.374853 443.168804,784.831873 443.610224,784.265473 L866.006424,241.190173 Z M342.796424,809.480173 L129.746424,596.430173 L77.9264235,689.707173 L249.516424,861.297173 L342.796424,809.480173 Z"></path>\n                </g>\n                <g transform="translate(-0.000000, 755.530173)" fill="#EB144C">\n                    <path d="M124.711543,0 L313.042043,188.3374 L233.288043,268.0914 C222.003043,279.3764 204.483043,281.5324 190.800043,273.3219 L16.8900429,168.9719 C-2.51595711,157.3309 -5.80895711,130.5499 10.1908429,114.5499 L124.711543,0 Z" class="bb-pen-tip"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>':"rect"===e?'<svg width="339px" height="241px" viewBox="0 0 339 241" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g transform="translate(-0.000865, 0.000000)" fill-rule="nonzero">\n            <g transform="translate(0.000865, 0.000000)" fill="#000000" class="bb-svg-path">\n                <path d="M339,0 L339,241 L0,241 L0,0 L339,0 Z M312.826351,26.168387 L26.1855674,26.168387 L26.1855674,214.41156 L312.826351,214.41156 L312.826351,26.168387 Z"></path>\n            </g>\n            <g transform="translate(0.000000, 83.206095)" fill="#EB144C" class="bb-pen-tip">\n                <path d="M0,0 L26.186,26.186 L26.1864325,131.205465 L131.204,131.205 L157.792,157.793 L0.000865118243,157.793905 L0,0 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>':"pointer"===e?'<svg width="1200pt" height="1200pt" version="1.1" viewBox="0 0 1200 1200" xmlns="http://www.w3.org/2000/svg">\n    <path d="m1050.7 508.95-225.94 157.5 160.31 160.31c4.4531 4.4531 6.9141 10.43 6.9141 16.758s-2.4609 12.305-6.9141 16.758l-126.09 126.09c-4.4531 4.4531-10.43 6.9141-16.758 6.9141-6.3281 0-12.188-2.4609-16.758-6.9141l-160.2-160.43-157.62 225.94c-3.3984 4.9219-9.0234 7.8516-14.883 7.8516-0.70313 0-1.5234 0-2.2266-0.11719-6.7969-0.82031-12.422-5.2734-14.766-11.719l-333.16-880.55c-2.5781-6.6797-0.9375-14.297 4.2188-19.336 5.0391-5.0391 12.656-6.6797 19.336-4.2188l880.66 333.05c6.3281 2.3438 10.781 8.0859 11.602 14.766 0.82031 6.7969-2.1094 13.359-7.7344 17.344z" fill="#333"/>\n   </svg>':"clip"===e?'<svg width="600px" height="1126px" viewBox="0 0 600 1126" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g transform="translate(-0.002000, 0.501000)" fill="#333333" fill-rule="nonzero">\n            <path d="M225.002,1124.999 C165.33,1124.999 108.102,1101.292 65.902,1059.097 C23.707,1016.902 5.68434189e-14,959.671 5.68434189e-14,899.997 L5.68434189e-14,299.997 C5.68434189e-14,220.431 31.605,144.127 87.867,87.867 C144.129,31.605 220.437,-4.26325641e-14 299.997,-4.26325641e-14 C379.557,-4.26325641e-14 455.867,31.605 512.127,87.867 C568.389,144.129 599.994,220.437 599.994,299.997 L599.994,1012.497 C599.994,1025.895 592.8456,1038.274 581.244,1044.974 C569.642,1051.6732 555.346,1051.6732 543.744,1044.974 C532.142,1038.2748 524.994,1025.896 524.994,1012.497 L524.994,299.997 C524.994,240.325 501.287,183.097 459.092,140.897 C416.897,98.702 359.666,74.995 299.992,74.995 C240.318,74.995 183.092,98.702 140.892,140.897 C98.697,183.092 74.99,240.323 74.99,299.997 L74.99,899.997 C74.99,953.587 103.58,1003.107 149.99,1029.897 C196.4,1056.694 253.58,1056.694 299.99,1029.897 C346.4,1003.104 374.99,953.585 374.99,899.997 L374.99,337.497 C374.99,310.704 360.697,285.942 337.49,272.544 C314.283,259.149 285.697,259.149 262.49,272.544 C239.283,285.942 224.99,310.704 224.99,337.497 L224.99,824.997 C224.99,838.395 217.8416,850.774 206.24,857.474 C194.638,864.1732 180.342,864.1732 168.74,857.474 C157.138,850.7748 149.99,838.396 149.99,824.997 L149.99,337.497 C149.99,283.907 178.58,234.387 224.99,207.597 C271.4,180.8 328.58,180.8 374.99,207.597 C421.4,234.39 449.99,283.909 449.99,337.497 L449.99,899.997 C449.99,959.669 426.283,1016.897 384.088,1059.097 C341.893,1101.292 284.662,1124.999 224.988,1124.999 L225.002,1124.999 Z" id="Path"></path>\n        </g>\n    </g>\n</svg>':"mic"===e?'<svg\n    width="1200pt"\n    height="1200pt"\n    version="1.1"\n    viewBox="0 0 1200 1200"\n    xmlns="http://www.w3.org/2000/svg"\n  >\n    <g class="bb-svg-path">\n      <path\n        d="m600 862.5c144.75 0 262.5-117.75 262.5-262.5v-300c0-144.75-117.75-262.5-262.5-262.5s-262.5 117.75-262.5 262.5v300c0 144.75 117.75 262.5 262.5 262.5z"\n      />\n      <path\n        d="m1012.5 600c0-20.707-16.793-37.5-37.5-37.5s-37.5 16.793-37.5 37.5c0 186.11-151.41 337.5-337.5 337.5s-337.5-151.39-337.5-337.5c0-20.707-16.793-37.5-37.5-37.5s-37.5 16.793-37.5 37.5c0 214.8 165.08 391.57 375 410.6v114.4c0 20.727 16.793 37.5 37.5 37.5s37.5-16.773 37.5-37.5v-114.4c209.92-19.031 375-195.8 375-410.6z"\n      />\n    </g>\n  </svg>':"camera"===e?'<svg width="1155px" height="1004px" viewBox="0 0 1155 1004" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g fill="#333333" fill-rule="nonzero">\n            <g transform="translate(128.324095, 0.000000)">\n                <path d="M42.7803063,0.00413459787 C31.4357421,0.00413459787 20.5549853,4.41399115 12.5336107,12.2572687 C4.51223664,20.1005462 0.00420584816,30.741831 0.00420584816,41.8370305 L0.00420584816,251.00151 C-0.156199045,262.200455 4.27736739,272.989996 12.315738,280.963903 C20.3585574,288.938257 31.3288589,293.431222 42.7803063,293.431222 C54.2317532,293.431222 65.2018267,288.938592 73.2448746,280.963903 C81.2832452,272.989549 85.7172445,262.200455 85.5564062,251.00151 L85.5564062,83.6699265 L256.660808,83.6699265 C268.112255,83.8267939 279.145066,79.4909873 287.298762,71.6298611 C295.452913,63.7643845 300.04718,53.0359758 300.04718,41.8370305 C300.04718,30.6380854 295.453255,19.9098998 287.298762,12.0441998 C279.144611,4.18307356 268.112255,-0.153157091 256.660808,0.00413459787 L42.7803063,0.00413459787 Z"></path>\n                <path d="M983.227131,710.59444 C971.895913,710.764382 961.099907,715.326799 953.20401,723.279287 C945.312674,731.227538 940.964345,741.91668 941.119476,752.99849 L941.119476,920.330075 L770.015075,920.330075 C758.563631,920.173205 747.530815,924.509015 739.377123,932.370139 C731.222968,940.235615 726.628705,950.964028 726.628705,962.16297 C726.628705,973.361918 731.222627,984.090105 739.377123,991.955802 C747.531272,999.816926 758.563631,1004.15316 770.015075,1003.99587 L983.895579,1003.99587 C995.24014,1003.99587 1006.1209,999.586011 1014.14227,991.742733 C1022.16365,983.899455 1026.67168,973.258169 1026.67168,962.16297 L1026.67168,752.99849 C1026.83208,741.690223 1022.30053,730.801401 1014.11489,722.812989 C1005.93394,714.825472 994.790363,710.415949 983.227131,710.59444 L983.227131,710.59444 Z"></path>\n                <path d="M983.227131,375.93127 C971.895913,376.101212 961.099907,380.66363 953.20401,388.61612 C945.312674,396.56437 940.964345,407.253512 941.119476,418.335325 L941.119476,585.66691 C940.959072,596.865853 945.39264,607.655394 953.431008,615.629303 C961.47383,623.603658 972.444131,628.096618 983.895579,628.096618 C995.347023,628.096618 1006.3171,623.603989 1014.36015,615.629303 C1022.39852,607.654947 1026.83251,596.865853 1026.67168,585.66691 L1026.67168,418.335325 C1026.83208,407.027056 1022.30053,396.138232 1014.11489,388.149822 C1005.93394,380.162305 994.790363,375.752783 983.227131,375.93127 L983.227131,375.93127 Z"></path>\n                <path d="M769.974012,0.00413459787 C758.522563,-0.152733184 747.489752,4.18307356 739.336055,12.0441998 C731.181906,19.9096767 726.587637,30.6380854 726.587637,41.8370305 C726.587637,53.0359758 731.181564,63.7641611 739.336055,71.6298611 C747.490209,79.4909873 758.522563,83.8272181 769.974012,83.6699265 L941.078414,83.6699265 L941.078414,251.00151 C940.918009,262.200455 945.351572,272.989996 953.389945,280.963903 C961.432763,288.938257 972.403063,293.431222 983.854512,293.431222 C995.30596,293.431222 1006.27603,288.938592 1014.31908,280.963903 C1022.35745,272.989549 1026.79145,262.200455 1026.63061,251.00151 L1026.63061,41.8370305 C1026.63061,30.7426118 1022.12133,20.1017733 1014.10121,12.2572687 C1006.08109,4.41276405 995.199876,0.00413459787 983.854512,0.00413459787 L769.974012,0.00413459787 Z"></path>\n                <path d="M427.765208,0.00413459787 C416.31376,-0.152733184 405.280949,4.18307356 397.127256,12.0441998 C388.973102,19.9096767 384.378838,30.6380854 384.378838,41.8370305 C384.378838,53.0359758 388.972761,63.7641611 397.127256,71.6298611 C405.281406,79.4909873 416.31376,83.8272181 427.765208,83.6699265 L598.86961,83.6699265 C610.321058,83.8267939 621.35387,79.4909873 629.507562,71.6298611 C637.661716,63.7643845 642.255985,53.0359758 642.255985,41.8370305 C642.255985,30.6380854 637.662058,19.9098998 629.507562,12.0441998 C621.353413,4.18307356 610.321058,-0.153157091 598.86961,0.00413459787 L427.765208,0.00413459787 Z"></path>\n            </g>\n            <g transform="translate(0.000000, 427.000000)">\n                <path d="M768.516184,22.1826583 C752.659627,13.73125 732.573775,13.73125 717.773442,24.29375 L562.379192,124.6375 L562.379192,31.6875 C562.379192,13.7330104 548.635081,0 530.666079,0 L31.7131123,0 C13.7441105,0 0,13.7330104 0,31.6875 L0,475.3125 C0,493.26699 13.7441105,507 31.7131123,507 L530.666079,507 C548.635081,507 562.379192,493.26699 562.379192,475.3125 L562.379192,382.3625 L717.773442,482.70625 C726.231681,487.9875 735.742444,491.157658 745.257258,491.157658 C753.715498,491.157658 761.113815,489.046567 769.572406,484.820862 C786.485185,475.313732 796,458.414612 796,439.400352 L796,68.6566021 C794.943601,48.5869719 785.428963,31.6878521 768.516184,22.1807219 L768.516184,22.1826583 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>':"recorderon"===e?'<svg width="1251px" height="1251px" viewBox="0 0 1251 1251" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g>\n            <circle fill="#E31810" cx="625.5" cy="625.5" r="625.5"></circle>\n            <circle fill="#F71008" cx="625" cy="625" r="507"></circle>\n            <g transform="translate(175.000000, 449.000000)" fill="#FFFFFF" fill-rule="nonzero">\n                <path d="M0,347.097493 L0,4.90250696 L135.528311,4.90250696 C161.471024,4.90250696 183.639743,9.49741034 202.034469,18.6872171 C220.429194,27.8770239 234.46286,40.8541449 244.135466,57.6185803 C253.808072,74.3830156 258.644376,94.0714804 258.644376,116.683975 C258.644376,139.40786 253.724206,158.929238 243.883867,175.248107 C234.043527,191.566976 219.814173,204.070682 201.195803,212.759227 C182.577434,221.447772 160.073248,225.792044 133.683247,225.792044 L42.9396629,225.792044 L42.9396629,167.64563 L121.941933,167.64563 C135.807866,167.64563 147.325536,165.751973 156.494943,161.964659 C165.66435,158.177344 172.51345,152.496373 177.042243,144.921744 C181.571035,137.347116 183.835432,127.934526 183.835432,116.683975 C183.835432,105.322032 181.571035,95.7423543 177.042243,87.9449425 C172.51345,80.1475308 165.636395,74.2159282 156.411077,70.1501349 C147.185759,66.0843416 135.584222,64.051445 121.606467,64.051445 L72.6284142,64.051445 L72.6284142,347.097493 L0,347.097493 Z M185.512762,191.37204 L270.888889,347.097493 L190.712487,347.097493 L107.181424,191.37204 L185.512762,191.37204 Z"></path>\n                <polygon points="309.166667 347.097493 309.166667 4.90250696 540.126846 4.90250696 540.126846 64.5527072 381.634607 64.5527072 381.634607 146.091356 528.244113 146.091356 528.244113 205.741556 381.634607 205.741556 381.634607 287.447293 540.796296 287.447293 540.796296 347.097493"></polygon>\n                <path d="M901,124.638783 L827.757943,124.638783 C826.420189,115.158428 823.68894,106.709759 819.564197,99.2927757 C815.439454,91.8757921 810.144176,85.5462611 803.678363,80.3041825 C797.212549,75.0621039 789.77129,71.0468948 781.354585,68.2585551 C772.93788,65.4702155 763.824427,64.0760456 754.014228,64.0760456 C736.288981,64.0760456 720.849065,68.4537389 707.69448,77.2091255 C694.539894,85.964512 684.339516,98.6793409 677.093346,115.353612 C669.847176,132.027883 666.224091,152.243346 666.224091,176 C666.224091,200.425856 669.875046,220.948035 677.176956,237.56654 C684.478866,254.185044 694.707113,266.732573 707.861699,275.209125 C721.016285,283.685678 736.233242,287.923954 753.51257,287.923954 C763.21129,287.923954 772.213263,286.641318 780.518488,284.076046 C788.823714,281.510773 796.209233,277.746515 802.675047,272.78327 C809.14086,267.820025 814.519748,261.769328 818.81171,254.631179 C823.103672,247.493029 826.08575,239.351077 827.757943,230.205323 L901,230.539924 C899.104848,246.26616 894.394837,261.406844 886.869968,275.961977 C879.3451,290.51711 869.256201,303.510773 856.603274,314.942966 C843.950346,326.375158 828.900608,335.409379 811.45406,342.045627 C794.007513,348.681876 774.303504,352 752.342035,352 C721.796641,352 694.512024,345.084918 670.488184,331.254753 C646.464343,317.424588 627.512821,297.404309 613.633619,271.193916 C599.754416,244.983523 592.814815,213.252218 592.814815,176 C592.814815,138.636248 599.838026,106.849176 613.884448,80.6387833 C627.93087,54.4283904 646.993871,34.4359949 671.073451,20.661597 C695.153031,6.88719899 722.242559,0 752.342035,0 C772.185393,0 790.607387,2.78833967 807.608016,8.36501901 C824.608646,13.9416984 839.686254,22.0557668 852.840839,32.7072243 C865.995425,43.3586819 876.72533,56.3802281 885.030556,71.7718631 C893.335782,87.1634981 898.65893,104.785805 901,124.638783 Z"></path>\n            </g>\n        </g>\n    </g>\n</svg>':"recorderoff"===e?'<svg width="1251px" height="1251px" viewBox="0 0 1251 1251" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n          <g class="bb-rec-on-circle" fill="#EEEEEE" fill-rule="nonzero">\n              <path d="M625.5,0 C970.954111,0 1251,280.045889 1251,625.5 C1251,970.954111 970.954111,1251 625.5,1251 C280.045889,1251 0,970.954111 0,625.5 C0,280.045889 280.045889,0 625.5,0 Z M626,124 C348.753056,124 124,348.753056 124,626 C124,903.246944 348.753056,1128 626,1128 C903.246944,1128 1128,903.246944 1128,626 C1128,348.753056 903.246944,124 626,124 Z"></path>\n          </g>\n          <g class="bb-rec-on-cont" fill="#E31810" transform="translate(86.000000, 86.000000)" fill-rule="nonzero">\n              <path d="M540,0 C241.2,0 0,241.2 0,540 C0,838.8 241.2,1080 540,1080 C838.8,1080 1080,838.8 1080,540 C1080,241.2 838.8,0 540,0 Z M777.6,741.6 C777.6,761.998 761.998,777.6 741.6,777.6 L338.4,777.6 C318.002,777.6 302.4,761.998 302.4,741.6 L302.4,338.4 C302.4,318.002 318.002,302.4 338.4,302.4 L741.6,302.4 C761.998,302.4 777.6,318.002 777.6,338.4 L777.6,741.6 Z"></path>\n          </g>\n      </g>\n  </svg>':"arrowdown"===e?'<svg class="bb-logo-arrowdown" fill="'.concat(t,'" width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n    <path d="m50 77.637c-1.3477 0-2.6953-0.51562-3.7266-1.543l-44.73-44.73c-2.0586-2.0586-2.0586-5.3945 0-7.4531 2.0586-2.0586 5.3945-2.0586 7.4531 0l41.004 41 41.004-41c2.0586-2.0586 5.3945-2.0586 7.4531 0 2.0586 2.0586 2.0586 5.3945 0 7.4531l-44.73 44.727c-1.0312 1.0312-2.3789 1.5469-3.7266 1.5469z"/>\n   </svg>'):"arrowleft"===e?'<svg fill="'.concat(t,'" width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n    <path d="m70.988 1.6211c2.1875-2.168 5.7344-2.168 7.9297 0 2.1836 2.168 2.1836 5.7227 0 7.8906l-46.016 40.445 46.016 40.5c2.1836 2.168 2.1836 5.668 0 7.8906-2.1953 2.168-5.7383 2.168-7.9297 0l-50.039-44.109c-1.168-1.168-1.668-2.7227-1.5898-4.2773-0.078125-1.5 0.42188-3.0547 1.5898-4.2227l50.039-44.109z" fill-rule="evenodd"/>\n   </svg>'):"close"===e?'<svg fill="'.concat(t,'" width="100pt" height="100pt" version="1.1" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">\n    <path d="m72.812 33.02l-5.832-5.832-16.98 16.875-16.98-16.875-5.832 5.832 16.875 16.98-16.875 16.98 5.832 5.832 16.98-16.875 16.98 16.875 5.832-5.832-16.875-16.98z"/>\n   </svg>'):"undo"===e?'<svg width="62px" height="60px" viewBox="0 0 62 60" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n      <g class="bb-svg-path" transform="translate(-0.000500, 0.001926)" fill-rule="nonzero">\n        <path d="M28.0005,51.6270739 C24.9653,51.0684839 22.0825,49.8731739 19.5396,48.1192739 L13.8208,53.8380739 C17.9536,57.0060739 22.8403,59.0333739 28.0008,59.7286739 L28.0005,51.6270739 Z" id="Path"></path>\n        <path d="M2.2705,33.9980739 C2.96581,39.1582739 4.9932,44.0450739 8.1611,48.1780739 L13.8799,42.4592739 C12.126,39.9162739 10.9307,37.0334739 10.3721,33.9983739 L2.2705,33.9980739 Z" id="Path"></path>\n        <path d="M61.7305,33.9980739 L53.6289,33.9980739 C53.07031,37.0332739 51.875,39.9160739 50.1211,42.4589739 L55.8399,48.1777739 C59.0079,44.0449739 61.0352,39.1582739 61.7305,33.9977739 L61.7305,33.9980739 Z" id="Path"></path>\n        <path d="M4.0005,24.9980739 L24.0005,24.9980739 L24.0005,16.9980739 L14.27,16.9980739 C17.6762,12.3613739 22.7622,9.24417393 28.442,8.31057393 C34.1178,7.38088393 39.934,8.70901393 44.645,12.0175739 C49.352,15.3222739 52.5786,20.3417739 53.6294,25.9975739 L61.731,25.9975739 C60.6646,18.0834739 56.4888,10.9235739 50.129,6.09957393 C43.7657,1.27147393 35.746,-0.818426068 27.836,0.290973932 C19.9298,1.39647393 12.793,5.61127393 8,11.9979739 L8,0.997973932 L-3.55271368e-15,0.997973932 L-3.55271368e-15,20.9979739 C-3.55271368e-15,22.0604739 0.42188,23.0760739 1.1719,23.8260739 C1.92192,24.5760739 2.9375,24.9979739 4,24.9979739 L4.0005,24.9980739 Z" id="Path"></path>\n        <path d="M36.0005,51.6270739 L36.0005,59.7286739 C41.1607,59.0333639 46.0475,57.0059739 50.1805,53.8380739 L44.4617,48.1192739 C41.9187,49.8731739 39.0359,51.0684739 36.0008,51.6270739 L36.0005,51.6270739 Z" id="Path"></path>\n      </g>\n    </g>\n  </svg>':""};function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"requestId",0),u(this,"requests",{}),u(this,"externalConsoleLogs",[]),u(this,"maxRequests",10),u(this,"filters",[]),u(this,"initialized",!1),u(this,"stopped",!1)}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"isContentTypeSupported",value:function(e){if("string"!=typeof e)return!1;if(""===e)return!0;e=e.toLocaleLowerCase();for(var t=["text/","xml","json"],n=0;n<t.length;n++)if(e.includes(t[n]))return!0;return!1}},{key:"getRequests",value:function(){var e=this.externalConsoleLogs.concat(Object.values(this.requests));if(!this.filters||0===this.filters.length)return e;for(var t=0;t<e.length;t++){var n=e[t];if(n&&n.request&&n.request.headers)for(var r=0;r<this.filters.length;r++)delete n.request.headers[this.filters[r]];if(n&&n.request&&n.request.payload){var a=n.request.payload;try{a=JSON.parse(n.request.payload)}catch(i){}if(a){for(r=0;r<this.filters.length;r++)delete a[this.filters[r]];n.request.payload=JSON.stringify(a)}}if(n&&n.response&&n.response.responseText)try{var o=JSON.parse(n.response.responseText);for(r=0;r<this.filters.length;r++)delete o[this.filters[r]];n.response.responseText=JSON.stringify(o)}catch(i){}}return e}},{key:"setMaxRequests",value:function(e){this.maxRequests=e}},{key:"setStopped",value:function(e){this.stopped=e}},{key:"setFilters",value:function(e){e&&(this.filters=e)}},{key:"cleanRequests",value:function(){var e=Object.keys(this.requests);if(e.length>this.maxRequests)for(var t=e.slice(0,e.length-this.maxRequests),n=0;n<t.length;n++)delete this.requests[t[n]]}},{key:"calcRequestTime",value:function(e){if(e&&this.requests&&this.requests[e]){var t=this.requests[e].date;t&&(this.requests[e].duration=(new Date).getTime()-t.getTime())}}},{key:"calculateTextSize",value:function(e){return(new TextEncoder).encode(e).length/1024/1024}},{key:"fixPayload",value:function(e){if(null==e)return"{}";try{if(void 0!==("undefined"==typeof TextDecoder?"undefined":c(TextDecoder))&&ArrayBuffer.isView(e))return(new TextDecoder).decode(e)}catch(t){}return e}},{key:"start",value:function(){var e=this;if(!this.initialized){this.initialized=!0;var t=this;this.interceptNetworkRequests({onFetch:function(n,r){if(!e.stopped&&r&&e.requests){if(n.length>0&&void 0!==n[0]&&void 0!==n[0].url)e.requests[r]={url:n[0].url,date:new Date,request:{payload:"",headers:void 0!==n[0].headers?Object.fromEntries(n[0].headers.entries()):{}},type:void 0!==n[0].method?n[0].method:""};else if(n.length>=2&&n[1]){var a=n[1]&&n[1].method?n[1].method:"GET";e.requests[r]={request:{payload:t.fixPayload(n[1].body),headers:n[1].headers},type:a,url:n[0],date:new Date}}else e.requests[r]={url:n[0],date:new Date};e.cleanRequests()}},onFetchLoad:function(n,r){if(!e.stopped&&r&&e.requests&&e.requests[r]){try{e.requests[r].success=!0,e.requests[r].response={status:n.status,statusText:"",responseText:"<request_still_open>"},e.calcRequestTime(r)}catch(o){}try{var a="";n.headers&&void 0!==n.headers.get&&(a=n.headers.get("content-type")),console.log(a),e.isContentTypeSupported(a)?n.text().then((function(a){e.requests[r]&&(e.requests[r].success=!0,e.requests[r].response={status:n.status,statusText:n.statusText,responseText:t.calculateTextSize(a)>.5?"<response_too_large>":a}),e.calcRequestTime(r),e.cleanRequests()})).catch((function(t){e.cleanRequests()})):(e.requests[r]&&(e.requests[r].success=!0,e.requests[r].response={status:n.status,statusText:n.statusText,responseText:"<content_type_not_supported>"}),e.calcRequestTime(r),e.cleanRequests())}catch(o){}}},onFetchFailed:function(t,n){!e.stopped&&n&&e.requests&&e.requests[n]&&(e.requests[n].success=!1,e.calcRequestTime(n),e.cleanRequests())},onOpen:function(t,n){e.stopped||(t&&t.bbRequestId&&n.length>=2&&e.requests&&(e.requests[t.bbRequestId]={type:n[0],url:n[1],date:new Date}),e.cleanRequests())},onSend:function(t,n){e.stopped||(t&&t.bbRequestId&&e.requests&&e.requests[t.bbRequestId]&&(e.requests[t.bbRequestId].request={payload:e.fixPayload(n.length>0?n[0]:"{}"),headers:t.requestHeaders}),e.cleanRequests())},onError:function(t,n){!e.stopped&&e.requests&&t&&t.currentTarget&&t.currentTarget.bbRequestId&&e.requests[t.currentTarget.bbRequestId]&&(e.requests[t.currentTarget.bbRequestId].success=!1,e.calcRequestTime(t.bbRequestId)),e.cleanRequests()},onLoad:function(t,n){if(!e.stopped){if(t&&t.currentTarget&&t.currentTarget.bbRequestId&&e.requests&&e.requests[t.currentTarget.bbRequestId]){var r=t.currentTarget,a=r.responseType,o="<"+a+">";""!==a&&"text"!==a||(o=e.calculateTextSize(r.responseText)>.5?"<response_too_large>":r.responseText),e.requests[r.bbRequestId].success=!0,e.requests[r.bbRequestId].response={status:r.status,statusText:r.statusText,responseText:o},e.calcRequestTime(r.bbRequestId)}e.cleanRequests()}}})}}},{key:"interceptNetworkRequests",value:function(e){var t,n=this,r=XMLHttpRequest.prototype.open,a=XMLHttpRequest.prototype.send;return XMLHttpRequest.prototype.wrappedSetRequestHeader=XMLHttpRequest.prototype.setRequestHeader,XMLHttpRequest.prototype.setRequestHeader=function(e,t){this.requestHeaders||(this.requestHeaders={}),this.requestHeaders&&this.requestHeaders.hasOwnProperty(e)||(this.requestHeaders[e]||(this.requestHeaders[e]=[]),this.requestHeaders[e].push(t),this.wrappedSetRequestHeader(e,t))},XMLHttpRequest.prototype.open=function(){return this.bbRequestId=++n.requestId,e.onOpen&&e.onOpen(this,arguments),e.onLoad&&this.addEventListener("load",e.onLoad.bind(e)),e.onError&&this.addEventListener("error",e.onError.bind(e)),r.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){return e.onSend&&e.onSend(this,arguments),a.apply(this,arguments)},window.fetch&&(t=window.fetch,window.fetch=function(){var r=++n.requestId;return e.onFetch(arguments,r),t.apply(this,arguments).then((function(t){if(t&&"function"==typeof t.clone){var n=t.clone();e.onFetchLoad(n,r)}return t})).catch((function(t){throw e.onFetchFailed(t,r),t}))}),e}},{key:"blobToTextPromise",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.onload=function(e){e&&e.target&&e.target.result?t(e.target.result):n()},r.onerror=function(e){n(e)},r.readAsText(e)}))}}])&&l(t.prototype,n),r&&l(t,r),e}();u(d,"instance",void 0);const f=d;var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:400;return new Promise((function(r,a){var o=0===e.indexOf("data:image/jpeg"),i=new Image;i.src=e,i.onerror=function(){a()},i.onload=function(){var e=document.createElement("canvas"),a=t,s=n;t>i.width/4&&(a=i.width/4),n>i.height/4&&(s=i.height/4);var c=i.width,l=i.height;c>l?c>a&&(l*=a/c,c=a):l>s&&(c*=s/l,l=s),e.width=c,e.height=l,e.getContext("2d").drawImage(i,0,0,c,l),r(o?e.toDataURL("image/jpeg",.7):e.toDataURL())}}))},p=function(){return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(navigator.userAgent)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)))},b=function(e){if("string"==typeof e||e instanceof String)try{return JSON.parse(e)}catch(t){return{}}},v=function(e){try{var t=localStorage.getItem("gleap-widget-".concat(e));if(t)return JSON.parse(t)}catch(n){}return null},g=function(e,t){return e.length>t?e.slice(0,t)+"...":e},y=function(e,t){var n="gleap-widget-".concat(e);if(t)try{localStorage.setItem(n,JSON.stringify(t))}catch(r){}else localStorage.removeItem(n)},m=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=g(e.innerText||"",40).replace(/(\r\n|\n|\r)/gm,"").replace(/ +(?= )/g,""),r="",a="";if(void 0!==e.getAttribute){var o=e.getAttribute("id");o&&(r=' id="'.concat(o,'"'));var i=e.getAttribute("class");i&&(a=' class="'.concat(i,'"'))}var s=(e.tagName||"").toLowerCase(),c="<",l=">";return t||(c="[",l="]"),"".concat(c).concat(s).concat(r).concat(a).concat(l).concat(n).concat(c,"/").concat(s).concat(l)};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),L(this,"apiUrl","https://api.gleap.io"),L(this,"widgetUrl","https://widget.gleap.io"),L(this,"sdkKey",null),L(this,"session",{gleapId:null,gleapHash:null,name:"",email:"",userId:""}),L(this,"ready",!1),L(this,"onSessionReadyListener",[]),L(this,"setOnSessionReady",(function(e){t.ready?e():t.onSessionReadyListener.push(e)})),L(this,"injectSession",(function(e){e&&t.session&&(e.setRequestHeader("Api-Token",t.sdkKey),e.setRequestHeader("Gleap-Id",t.session.gleapId),e.setRequestHeader("Gleap-Hash",t.session.gleapHash))})),L(this,"clearSession",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];try{localStorage.removeItem("bb-remember-reportedBy"),y("session-".concat(t.sdkKey),null)}catch(n){}t.session={id:null,hash:null,type:null,name:"",email:""},e&&t.startSession()})),L(this,"validateSession",(function(e){if(e){y("session-".concat(t.sdkKey),e),t.session=e,t.ready=!0;var n=document.querySelector("#bb-user-name");n&&(e.name&&Ge.getInstance().showUserName?n.textContent=e.name:n.textContent=""),t.notifySessionReady()}})),L(this,"startSession",(function(){var e=v("session-".concat(t.sdkKey));e&&t.validateSession(e);var n=t,r=new XMLHttpRequest;r.open("POST",n.apiUrl+"/sessions"),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.setRequestHeader("Api-Token",n.sdkKey);try{t.session&&t.session.gleapId&&t.session.gleapHash&&(r.setRequestHeader("Gleap-Id",t.session.gleapId),r.setRequestHeader("Gleap-Hash",t.session.gleapHash)),r.setRequestHeader("App-Widget",Ge.getInstance().widgetOnly)}catch(a){}r.onerror=function(e){n.clearSession(!1)},r.onreadystatechange=function(e){if(r.readyState===XMLHttpRequest.DONE)if(200===r.status||201===r.status)try{var t=JSON.parse(r.responseText);n.validateSession(t)}catch(a){}else n.clearSession(!1)},r.send(JSON.stringify({}))})),L(this,"checkIfSessionNeedsUpdate",(function(e,n){if(!t.session||!t.session.userId||!e)return!0;try{if(t.session.userId.toString()!==e.toString())return!0}catch(i){}if(n)for(var r=Object.keys(n),a=0;a<r.length;a++){var o=r[a];if(t.session[o]!==n[o])return!0}return!1})),L(this,"identifySession",(function(e,n){if(t.checkIfSessionNeedsUpdate(e,n)){var r=t;return new Promise((function(a,o){t.setOnSessionReady((function(){if(!r.session.gleapId||!r.session.gleapHash)return o();var t=new XMLHttpRequest;t.open("POST",r.apiUrl+"/sessions/identify"),t.setRequestHeader("Content-Type","application/json;charset=UTF-8"),t.setRequestHeader("Api-Token",r.sdkKey);try{t.setRequestHeader("Gleap-Id",r.session.gleapId),t.setRequestHeader("Gleap-Hash",r.session.gleapHash)}catch(i){}t.onerror=function(){o()},t.onreadystatechange=function(e){if(t.readyState===XMLHttpRequest.DONE)if(200===t.status||201===t.status)try{var n=JSON.parse(t.responseText);r.validateSession(n),a(n)}catch(i){o(i)}else r.clearSession(!0),o()},t.send(JSON.stringify(k(k({},n),{},{userId:e})))}))}))}}))}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"getSession",value:function(){return this.session}},{key:"notifySessionReady",value:function(){if(console.log(this),this.onSessionReadyListener.length>0)for(var e=0;e<this.onSessionReadyListener.length;e++)this.onSessionReadyListener[e]();this.onSessionReadyListener=[]}}])&&C(t.prototype,n),r&&C(t,r),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}L(x,"instance",void 0);var T=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"eventArray",[]),O(this,"GleapStreamedEventArray",[]),O(this,"eventMaxLength",500),O(this,"lastUrl",void 0),O(this,"startEventStream",(function(){var e=t,n=1500;x.getInstance().ready&&e.GleapStreamedEventArray&&e.GleapStreamedEventArray.length>0&&(e.streamEvents(),n=3e3),setTimeout((function(){e.startEventStream()}),n)})),O(this,"streamEvents",(function(){if(x.getInstance().ready){var e=new XMLHttpRequest;e.open("POST",x.getInstance().apiUrl+"/sessions/stream"),e.setRequestHeader("Content-Type","application/json;charset=UTF-8"),x.getInstance().injectSession(e),e.onerror=function(e){x.getInstance().clearSession(!0)},e.onreadystatechange=function(t){if(e.readyState===XMLHttpRequest.DONE)if(200===e.status||201===e.status)try{var n=JSON.parse(e.responseText);Ge.getInstance().performAction(n)}catch(r){}else x.getInstance().clearSession(!0)},e.send(JSON.stringify({events:t.GleapStreamedEventArray})),t.GleapStreamedEventArray=[]}}))}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"getEventArray",value:function(){return this.eventArray}},{key:"start",value:function(){this.startEventStream(),this.startPageListener()}},{key:"startPageListener",value:function(){this.logEvent("sessionStarted");var e=this;setInterval((function(){var t=window.location.href;t&&t!==e.lastUrl&&(e.lastUrl=t,e.logEvent("pageView",{page:t}))}),1e3)}},{key:"logEvent",value:function(e,t){var n={name:e,date:new Date};t&&(n.data=b(t)),this.eventArray.push(n),this.GleapStreamedEventArray.push(n),this.eventArray.length>this.eventMaxLength&&this.eventArray.shift(),this.GleapStreamedEventArray.length>this.eventMaxLength&&this.GleapStreamedEventArray.shift()}}])&&R(t.prototype,n),r&&R(t,r),e}();function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}O(T,"instance",void 0);var E=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),I(this,"flowConfig",null),I(this,"projectActions",null),I(this,"start",(function(){var e=x.getInstance(),n=v("config-".concat(e.sdkKey));return n?(t.applyConfig(n,!1),t.loadConfigFromServer(!0).catch((function(e){})),Promise.resolve()):t.loadConfigFromServer(!1)})),I(this,"loadConfigFromServer",(function(e){var n=t;return new Promise((function(t,r){var a=x.getInstance(),o=new XMLHttpRequest;o.open("GET",a.widgetUrl+"/widget/"+a.sdkKey+"/config"),o.setRequestHeader("Content-Type","application/json;charset=UTF-8"),a.injectSession(o),o.onerror=function(){r()},o.onreadystatechange=function(i){if(o.readyState===XMLHttpRequest.DONE){if(200===o.status||201===o.status)try{var s=JSON.parse(o.responseText);try{y("config-".concat(a.sdkKey),s)}catch(c){}return n.applyConfig(s,e),t()}catch(i){}r()}},o.send()}))}))}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"getFlowConfig",value:function(){return this.flowConfig}},{key:"getProjectActions",value:function(){return this.projectActions}},{key:"applyConfig",value:function(e,t){try{var n=e.flowConfig,r=e.projectActions;this.flowConfig=n,this.projectActions=r}catch(a){}}},{key:"getFeedbackOptions",value:function(e){var t=null;console.log(this.projectActions),e&&(t=this.projectActions[e]),t||(t=this.projectActions.bugreporting);try{t=JSON.parse(JSON.stringify(t))}catch(n){}return t}}])&&S(t.prototype,n),r&&S(t,r),e}();I(E,"instance",void 0);var A=["//fonts.googleapis.com","//cdn.jsdelivr.net","//cdnjs.cloudflare.com","//ajax.googleapis.com","//use.typekit.net",".amazonaws.com","//jssdk.gleap.io",".gstatic.com"],D=function(e){if(!e)return!1;for(var t=0;t<A.length;t++)if(-1!==e.indexOf(A[t]))return!0;return!1},q=function(e,t){return n=e,r=/url\((.*?)\)/g,a=function(e){return new Promise((function(n,r){if(!e)return n(e);var a=e.substr(4,e.length-5).replaceAll("'","").replaceAll('"',"");if(0===a.indexOf("http")||0===a.indexOf("//")||0===a.indexOf("data"))return n(e);try{var o=a;return t&&(o=t+"/"+a),M(o).then((function(e){return n("url("+e+")")}))}catch(i){return n(e)}}))},new Promise((function(e,t){var o=[];n.replace(r,(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=a.apply(void 0,[e].concat(n));o.push(i)})),Promise.all(o).then((function(t){e(n.replace(r,(function(){return t.shift()})))})).catch((function(){t()}))}));var n,r,a},M=function(e){return new Promise((function(t,n){if(e){var r=new XMLHttpRequest;r.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.onerror=function(){n()},e.readAsDataURL(r.response)},r.onerror=function(e){t()},r.open("GET",e),r.responseType="blob",r.send()}else t()}))},N=function(e){return new Promise((function(t,n){if(e&&e.src){if(D(e.src))return t();var r=new XMLHttpRequest;r.onload=function(){var n=new FileReader;n.onloadend=function(){!function(e,t,n,r){h(e,500,500).then((function(e){t.src=e,n()})).catch((function(){console.warn("BB: Image resize failed."),n()}))}(n.result,e,t)},n.onerror=function(){t()},n.readAsDataURL(r.response)},r.onerror=function(e){t()};var a=e.src;r.open("GET",a),r.responseType="blob",r.send()}else t()}))},P=function(e,t,n,r){var a=null;t.ownerNode&&(a=e.querySelector('[bb-styleid="'+r+'"]'));try{if(a){var o=null;if(""!=n){var i=e.querySelector("head"),s=window.document.createElement("style");i.appendChild(s),s.type="text/css",s.styleSheet?s.styleSheet.cssText=n:s.appendChild(window.document.createTextNode(n)),o=s}else{var c=window.document.createElement("link");c.rel="stylesheet",c.type=t.type,c.href=t.href,c.media=t.media,o=c}o&&(a.parentNode.insertBefore(o,a),a.remove())}}catch(l){}},j=function(e){var t=null;try{e.cssRules?t=e.cssRules:e.rules&&(t=e.rules)}catch(a){}var n="";if(t)for(var r in t)t[r].cssText&&(n+=t[r].cssText);return n},F=function(e,t){for(var n=[],r=function(){var e=document.styleSheets[a],r=j(e);if(e&&e.ownerNode)if(""==r||t)n.push(Promise.resolve({styletext:r,stylesheet:e,styleId:e.ownerNode.getAttribute("bb-styleid")}));else{var i=document.getElementsByTagName("base");o=i.length?i[0].href.substr(location.origin.length,999):window.location.href,e.href&&(o=e.href);var s=o.substring(0,o.lastIndexOf("/"));n.push(q(r,s).then((function(t){return{styletext:t,stylesheet:e,styleId:e.ownerNode.getAttribute("bb-styleid")}})))}},a=0;a<document.styleSheets.length;a++){var o;r()}return Promise.all(n).then((function(t){if(t)for(var n=0;n<t.length;n++)P(e,t[n].stylesheet,t[n].styletext,t[n].styleId);return!0}))},B=function(e,t){return new Promise((function(n,r){return t?F(e,t).then((function(){n()})).catch((function(){n()})):function(e){for(var t=e.querySelectorAll("img"),n=[],r=0;r<t.length;r++){var a=t[r];n.push(N(a))}return Promise.all(n)}(e).then((function(){return F(e,t).then((function(){n()}))})).catch((function(){console.warn("Gleap: Failed with resolving local resources. Please contact the Gleap support team."),n()}))}))},U=function(e,t,n){if(void 0!==e.adoptedStyleSheets)for(var r=0;r<e.adoptedStyleSheets.length;r++){var a=e.adoptedStyleSheets[r],o=j(a),i=window.document.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=o:i.appendChild(window.document.createTextNode(o)),n&&i.setAttribute("bb-shadow-child",n),t.insertBefore(i,t.firstElementChild)}},H=function(e){return new Promise((function(t,n){for(var r=window.document.querySelectorAll("style, link"),a=0;a<r.length;++a)r[a].setAttribute("bb-styleid",a);var o=function(e){var t=1,n=document.createDocumentFragment();!function e(n,r,a){var o=function(t,n,r){for(;t;)e(t,n,r),t=t.nextSibling},i=n.cloneNode();if(void 0!==i.setAttribute&&(a&&i.setAttribute("bb-shadow-child",a),n instanceof HTMLCanvasElement&&i.setAttribute("bb-canvas-data",n.toDataURL()),n instanceof HTMLCanvasElement&&i.setAttribute("bb-canvas-data",n.toDataURL())),n.nodeType==Node.ELEMENT_NODE){var s=n.tagName?n.tagName.toUpperCase():n.tagName;if("IFRAME"==s||"VIDEO"==s||"EMBED"==s||"IMG"==s||"SVG"==s){var c=n.getBoundingClientRect();i.setAttribute("bb-element",!0),i.setAttribute("bb-height",c.height),i.setAttribute("bb-width",c.width)}if("DIV"==s&&(n.scrollTop>0||n.scrollLeft>0)&&(i.setAttribute("bb-scrollpos",!0),i.setAttribute("bb-scrolltop",n.scrollTop),i.setAttribute("bb-scrollleft",n.scrollLeft)),"SELECT"===s||"TEXTAREA"===s||"INPUT"===s){var l=n.value;"value"===n.getAttribute("gleap-ignore")&&(l=new Array(l.length+1).join("*")),i.setAttribute("bb-data-value",l),"checkbox"!==n.type&&"radio"!==n.type||!n.checked||i.setAttribute("bb-data-checked",!0)}}if(r.appendChild(i),n.shadowRoot){var u=t;t++,o(n.shadowRoot.firstChild,i,u),U(n.shadowRoot,i,u),void 0!==i.setAttribute&&i.setAttribute("bb-shadow-parent",u)}o(n.firstChild,i)}(e,n);var r=n.querySelector("head");return r||(r=n),U(window.document,r),n}(window.document.documentElement),i=o.querySelectorAll("link[rel=import]");for(a=0;a<i.length;++a){var s=i[a];if(s&&s.childNodes&&s.childNodes.length>0){for(var c=s.childNodes;c.length>0;)s.parentNode.insertBefore(c[0],s);s.remove()}}var l=o.querySelectorAll("script, noscript");for(a=0;a<l.length;++a)l[a].remove();var u=o.querySelectorAll("base");for(a=0;a<u.length;++a)u[a].remove();var d=window.location.href.substring(0,window.location.href.lastIndexOf("/"))+"/",f=window.document.createElement("base");f.href=d;var h=o.querySelector("head");h.insertBefore(f,h.firstChild);var b=o.querySelectorAll(".bb-feedback-dialog-container, .bb-capture-editor-borderlayer");for(a=0;a<b.length;++a)b[a].remove();var v=o.querySelectorAll("[bb-element=true]");for(a=0;a<v.length;++a)v[a]&&(v[a].style.height=v[a].getAttribute("bb-height")+"px");B(o,e).then((function(){var e=function(e){var t="",n=window.document.doctype;if(n&&(t="<!DOCTYPE "+n.name+(n.publicId?' PUBLIC "'+n.publicId+'"':"")+(!n.publicId&&n.systemId?" SYSTEM":"")+(n.systemId?' "'+n.systemId+'"':"")+">"),e&&e.childNodes&&e.childNodes.length>0)for(var r=0;r<e.childNodes.length;r++)e.childNodes[r]&&(t+=e.childNodes[r].outerHTML);return t}(o);t({html:e,baseUrl:d,width:window.innerWidth,height:window.innerHeight,isMobile:p()})}))}))};function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var G=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),z(this,"rerender",void 0),z(this,"stream",void 0),z(this,"mediaRecorder",void 0),z(this,"audioMuted",!1),z(this,"audioAvailable",!0),z(this,"available",!0),z(this,"isRecording",!1),z(this,"file",null),z(this,"maxRecordTime",180),z(this,"recordTime",0),z(this,"recordingTimer",null),z(this,"permissionErrorText",""),z(this,"startScreenRecording",(function(){var e=this;if(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia||this.isRecording)return this.available=!1,void this.rerender();navigator.mediaDevices.getDisplayMedia({video:!0,audio:!0}).then((function(t){e.stream=t,e.audioMuted?(e.audioAvailable=!1,e.handleRecord({stream:t})):e.startAudioRecording(),e.rerender()})).catch((function(t){window.alert(e.permissionErrorText),e.rerender()}))})),z(this,"stopScreenRecording",(function(){this.mediaRecorder&&this.stream&&this.isRecording&&(this.recordingTimer&&(clearInterval(this.recordingTimer),this.recordingTimer=null),this.mediaRecorder.stop(),this.stream.getTracks().forEach((function(e){e.stop()})),this.rerender())})),z(this,"startAudioRecording",(function(){var e=this;this.stream&&navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(t){for(var n=0;n<t.getAudioTracks().length;n++)e.stream.addTrack(t.getAudioTracks()[n]);e.audioMuted=!1,e.audioAvailable=!0,e.handleRecord({stream:e.stream}),e.rerender()})).catch((function(t){e.audioAvailable=!1,e.handleRecord({stream:e.stream}),e.rerender()}))})),z(this,"toggleAudio",(function(){if(this.audioMuted=!this.audioMuted,this.rerender(),this.stream)for(var e=this.stream.getAudioTracks(),t=0;t<e.length;t++){e[t].enabled=!this.audioMuted}})),z(this,"clearPreview",(function(){document.querySelector(".bb-capture-preview video").src=null,this.file=null,this.rerender()})),z(this,"handleRecord",(function(e){var t=e.stream,n=e.mimeType,r=void 0===n?"video/mp4":n,a=this,o=[];this.mediaRecorder=new MediaRecorder(t),this.isRecording=!0,this.recordTime=0;var i=document.querySelector(".bb-capture-toolbar-item-timer");this.recordingTimer=setInterval((function(){a.recordTime++;var e=a.maxRecordTime-a.recordTime;e>0?i.innerHTML=a.formatTime(e):(i.innerHTML="3:00",a.stopScreenRecording())}),1e3),this.mediaRecorder.ondataavailable=function(e){e.data.size>0&&o.push(e.data)},t.getVideoTracks()[0].onended=function(){a.prepareRecording(o,r)},this.mediaRecorder.onstop=function(){a.prepareRecording(o,r)},this.mediaRecorder.start(200),a.rerender()})),z(this,"prepareRecording",(function(e,t){var n=new Blob(e,{type:t});this.file=new File([n],"screen-recording.mp4",{type:"video/mp4"});var r=document.querySelector(".bb-capture-preview video");r&&(r.src=URL.createObjectURL(n),this.audioAvailable=!0,this.isRecording=!1,this.rerender())})),this.rerender=t,this.permissionErrorText=n,navigator.mediaDevices&&navigator.mediaDevices.getDisplayMedia||(this.available=!1),setTimeout((function(){r.rerender()}),100)}var t,n,r;return t=e,(n=[{key:"formatTime",value:function(e){return(e-(e%=60))/60+(9<e?":":":0")+e}}])&&_(t.prototype,n),r&&_(t,r),e}();function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}z(G,"uploadScreenRecording",(function(e){return new Promise((function(t,n){null==e&&t(null);var r=new XMLHttpRequest;r.open("POST",x.getInstance().apiUrl+"/uploads/sdk"),x.getInstance().injectSession(r);var a=new FormData;a.append("file",e),r.send(a),r.onerror=function(){n()},r.onreadystatechange=function(){4==r.readyState&&(200==r.status?t(JSON.parse(r.response).fileUrl):n())}}))}));var Z=function(){function e(t,n,r,a,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),X(this,"excludeData",{}),X(this,"type","BUG"),X(this,"priority","LOW"),X(this,"customData",{}),X(this,"metaData",{}),X(this,"consoleLog",[]),X(this,"networkLogs",[]),X(this,"customEventLog",[]),X(this,"formData",{}),X(this,"isSilent",!1),X(this,"outbound",void 0),X(this,"screenshotData",void 0),X(this,"webReplay",void 0),X(this,"screenRecordingUrl",void 0),this.type=t,this.priority=n,this.formData=r,this.isSilent=a,this.excludeData=o}var t,n,r;return t=e,(n=[{key:"takeSnapshot",value:function(){var e=this;this.customData=we.getInstance().getCustomData(),this.metaData=ne.getInstance().getMetaData(),this.consoleLog=se.getInstance().getLogs(),this.networkLogs=f.getInstance().getRequests(),this.customEventLog=T.getInstance().getEventArray();var t,n=[],r=Ne.getInstance().getReplayData().then((function(t){t&&(e.webReplay=t)}));if(n.push(r),null!=Ge.getInstance().screenRecordingData){var a=G.uploadScreenRecording(Ge.getInstance().screenRecordingData).then((function(t){t&&(e.screenRecordingUrl=t)}));n.push(a)}if(!this.excludeData||!this.excludeData.screenshot){var o=(t=Ge.getInstance().isLiveMode(),H(t)).then((function(t){t&&(t.x=Ge.getInstance().snapshotPosition.x,t.y=Ge.getInstance().snapshotPosition.y,e.screenshotData=t)}));n.push(o)}return console.log(n),Promise.all(n)}},{key:"getData",value:function(){for(var e={type:this.type,priority:this.priority,customData:this.customData,metaData:this.metaData,consoleLog:this.consoleLog,networkLogs:this.networkLogs,customEventLog:this.customEventLog,formData:this.formData,isSilent:this.isSilent,outbound:this.outbound,screenshotData:this.screenshotData,webReplay:this.webReplay,screenRecordingUrl:this.screenRecordingUrl},t=Object.keys(this.excludeData),n=0;n<t.length;n++){var r=t[n];!0===this.excludeData[r]&&(delete e[r],"screenshot"===r&&delete e.screenshotData,"replays"===r&&delete e.webReplay)}return e}},{key:"sendFeedback",value:function(){var e=this;return new Promise((function(t,n){var r=new XMLHttpRequest;r.open("POST",x.getInstance().apiUrl+"/bugs"),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),x.getInstance().injectSession(r),r.onerror=function(e){n()},r.upload.onprogress=function(e){},r.onreadystatechange=function(e){r.readyState===XMLHttpRequest.DONE&&(200===r.status||201===r.status?t():n())},e.takeSnapshot().then((function(){console.log("Sending feedback");var t=e.getData();r.send(JSON.stringify(t))}))}))}}])&&V(t.prototype,n),r&&V(t,r),e}();function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),W(this,"keys",{37:1,38:1,39:1,40:1}),W(this,"supportsPassive",!1),W(this,"wheelOpt",!!this.supportsPassive&&{passive:!1}),W(this,"wheelEvent","onwheel"in document.createElement("div")?"wheel":"mousewheel"),W(this,"scrollDisabled",!1);var t=this;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t.supportsPassive=!0,t.wheelOpt=!!t.supportsPassive&&{passive:!1}}}))}catch(n){}}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}},{key:"disableScroll",value:function(){var e=this.getInstance();e.scrollDisabled||(e.scrollDisabled=!0,window.addEventListener("DOMMouseScroll",e.preventDefault,!1),window.addEventListener(e.wheelEvent,e.preventDefault,e.wheelOpt),window.addEventListener("touchmove",e.preventDefault,e.wheelOpt),window.addEventListener("keydown",e.preventDefaultForScrollKeys,!1))}},{key:"enableScroll",value:function(){var e=this.getInstance();e.scrollDisabled&&(e.scrollDisabled=!1,window.removeEventListener("DOMMouseScroll",e.preventDefault,!1),window.removeEventListener(e.wheelEvent,e.preventDefault,e.wheelOpt),window.removeEventListener("touchmove",e.preventDefault,e.wheelOpt),window.removeEventListener("keydown",e.preventDefaultForScrollKeys,!1))}}],(n=[{key:"preventDefault",value:function(e){e.preventDefault()}},{key:"preventDefaultForScrollKeys",value:function(e){if(this.keys&&this.keys[e.keyCode])return this.preventDefault(e),!1}}])&&K(t.prototype,n),r&&K(t,r),e}();function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}W(J,"instance",void 0);var Q=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$(this,"gleapFrameContainer",null),$(this,"gleapFrame",null),$(this,"injectedFrame",!1),$(this,"widgetOpened",!1),$(this,"listeners",[]),$(this,"frameURL","http://localhost:3000"),$(this,"injectFrame",(function(){if(!t.injectedFrame){t.injectedFrame=!0;var e=document.createElement("div");e.className="gleap-frame-container gleap-frame-container--hidden",e.innerHTML='<iframe src="'.concat(t.frameURL,'" class="gleap-frame" scrolling="no" title="Gleap Widget Window" allow="autoplay; encrypted-media; fullscreen;" frameborder="0"></iframe>'),document.body.appendChild(e),t.gleapFrameContainer=e,t.gleapFrame=document.querySelector(".gleap-frame")}})),this.startCommunication()}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"isOpened",value:function(){return this.widgetOpened}},{key:"showWidget",value:function(){this.gleapFrameContainer.classList.remove("gleap-frame-container--hidden"),this.widgetOpened=!0,Le.notifyEvent("open")}},{key:"hideWidget",value:function(){this.gleapFrameContainer.classList.add("gleap-frame-container--hidden"),this.widgetOpened=!1,Le.notifyEvent("close")}},{key:"sendMessage",value:function(e){this.gleapFrame&&this.gleapFrame.contentWindow.postMessage(JSON.stringify(e),"*")}},{key:"startCommunication",value:function(){var e=this;this.addMessageListener((function(t){if("ping"===t.name&&(T.getInstance().start(),ge.getInstance().injectFeedbackButton(),e.sendMessage({name:"config-update",data:E.getInstance().getFlowConfig()}),e.sendMessage({name:"actions-update",data:E.getInstance().getProjectActions()}),e.sendMessage({name:"session-update",data:x.getInstance().getSession()})),"height-update"===t.name&&(e.gleapFrameContainer.style.maxHeight=t.data+"px"),"send-feedback"===t.name){var n=t.data.formData,r=t.data.action;console.log(n),console.log(r),new Z(r.feedbackType,"MEDIUM",n,!1,r.excludeData).sendFeedback().then((function(){e.sendMessage({name:"feedback-sent"})})).catch((function(t){console.log(t),e.sendMessage({name:"feedback-sending-failed",data:"Error sending data."})}))}})),window.addEventListener("message",(function(t){if(t.origin===e.frameURL)try{for(var n=JSON.parse(t.data),r=0;r<e.listeners.length;r++)e.listeners[r]&&e.listeners[r](n)}catch(a){}}))}},{key:"addMessageListener",value:function(e){this.listeners.push(e)}}])&&Y(t.prototype,n),r&&Y(t,r),e}();function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}$(Q,"instance",void 0);var ne=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),te(this,"sessionStart",new Date),te(this,"appBuildNumber",""),te(this,"appVersionCode","")}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}},{key:"setAppVersionCode",value:function(e){this.getInstance().appVersionCode=e}},{key:"setAppBuildNumber",value:function(e){this.getInstance().appBuildNumber=e}}],(n=[{key:"getMetaData",value:function(){var e,t,n,r=navigator.userAgent,a=navigator.appName,o=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10);-1!==(t=r.indexOf("Opera"))?(a="Opera",o=r.substring(t+6),-1!==(t=r.indexOf("Version"))&&(o=r.substring(t+8))):-1!==(t=r.indexOf("MSIE"))?(a="Microsoft Internet Explorer",o=r.substring(t+5)):-1!==(t=r.indexOf("Chrome"))?(a="Chrome",o=r.substring(t+7)):-1!==(t=r.indexOf("Safari"))?(a="Safari",o=r.substring(t+7),-1!==(t=r.indexOf("Version"))&&(o=r.substring(t+8))):-1!==(t=r.indexOf("Firefox"))?(a="Firefox",o=r.substring(t+8)):(e=r.lastIndexOf(" ")+1)<(t=r.lastIndexOf("/"))&&(a=r.substring(e,t),o=r.substring(t+1),a.toLowerCase()===a.toUpperCase()&&(a=navigator.appName)),-1!==(n=o.indexOf(";"))&&(o=o.substring(0,n)),-1!==(n=o.indexOf(" "))&&(o=o.substring(0,n)),i=parseInt(""+o,10),isNaN(i)&&(o=""+parseFloat(navigator.appVersion),i=parseInt(navigator.appVersion,10));var s="Unknown OS";-1!==navigator.appVersion.indexOf("Win")&&(s="Windows"),-1!==navigator.appVersion.indexOf("Mac")&&(s="MacOS"),-1!==navigator.appVersion.indexOf("X11")&&(s="UNIX"),-1!==navigator.appVersion.indexOf("Linux")&&(s="Linux"),-1!==navigator.appVersion.indexOf("iPad")&&(s="iPad"),-1!==navigator.appVersion.indexOf("iPhone")&&(s="iPhone"),-1!==navigator.appVersion.indexOf("Android")&&(s="Android");var c=((new Date).getTime()-this.sessionStart.getTime())/1e3;return{browserName:a+"("+o+")",userAgent:r,browser:navigator.appName,systemName:s,buildVersionNumber:this.appBuildNumber,releaseVersionNumber:this.appVersionCode,sessionDuration:c,devicePixelRatio:window.devicePixelRatio,screenWidth:window.screen.width,screenHeight:window.screen.height,innerWidth:window.innerWidth,innerHeight:window.innerHeight,currentUrl:window.location.href,language:navigator.language||navigator.userLanguage,mobile:p(),sdkVersion:"7.0.0",sdkType:"javascript"}}}])&&ee(t.prototype,n),r&&ee(t,r),e}();function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}te(ne,"instance",void 0);var se=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ie(this,"logArray",[]),ie(this,"originalConsoleLog",void 0),ie(this,"logMaxLength",500)}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"getLogs",value:function(){return this.logArray}},{key:"stop",value:function(){window.console=this.originalConsoleLog}},{key:"addLog",value:function(e,t){if(e&&!(e.length<=0)){for(var n="",r=0;r<e.length;r++)n+=e[r]+" ";this.logArray.push({log:g(n,1e3),date:new Date,priority:t}),this.logArray.length>this.logMaxLength&&this.logArray.shift()}}},{key:"start",value:function(){var e,t=this;window.console=(e=window.console,window.console&&e||(e={}),t.originalConsoleLog=e,ae(ae({},e),{},{log:function(){t.addLog(arguments,"INFO"),e.log&&e.log.apply(e,arguments)},warn:function(){t.addLog(arguments,"WARNING"),e.warn&&e.warn.apply(e,arguments)},error:function(){t.addLog(arguments,"ERROR"),e.error&&e.error.apply(e,arguments)},info:function(n){t.addLog(arguments,"INFO"),e.info&&e.info.apply(e,arguments)}}))}}])&&oe(t.prototype,n),r&&oe(t,r),e}();function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ie(se,"instance",void 0);var le,ue,de,fe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"start",value:function(){document.addEventListener("click",(function(e){e.target&&(Gleap.getInstance().currentlySendingBug||se.getInstance().addLog([m(e.target)],"CLICK"))}))}}])&&ce(t.prototype,n),r&&ce(t,r),e}();function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}de=void 0,(ue="instance")in(le=fe)?Object.defineProperty(le,ue,{value:de,enumerable:!0,configurable:!0,writable:!0}):le[ue]=de;var pe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"start",value:function(){}}])&&he(t.prototype,n),r&&he(t,r),e}();!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(pe,"instance",void 0);function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ve(this,"feedbackButton",null),ve(this,"injectedFeedbackButton",!1)}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"toggleFeedbackButton",value:function(e){this.feedbackButton&&(this.feedbackButton.style.display=e?"flex":"none")}},{key:"feedbackButtonPressed",value:function(){Q.getInstance().showWidget()}},{key:"injectFeedbackButton",value:function(){var t=this;if(!this.injectedFeedbackButton){this.injectedFeedbackButton=!0;var n=E.getInstance().getFlowConfig(),r="";r=n.buttonLogo?'<img class="bb-logo-logo" src="'.concat(n.buttonLogo,'" alt="Feedback Button" />'):s("bblogo","#fff");var a=document.createElement("div");a.className="bb-feedback-button",n.feedbackButtonPosition===e.FEEDBACK_BUTTON_CLASSIC||n.feedbackButtonPosition===e.FEEDBACK_BUTTON_CLASSIC_BOTTOM||n.feedbackButtonPosition===e.FEEDBACK_BUTTON_CLASSIC_LEFT?a.innerHTML='<div class="bb-feedback-button-classic '.concat(n.feedbackButtonPosition===e.FEEDBACK_BUTTON_CLASSIC_LEFT?"bb-feedback-button-classic--left":"").concat(n.feedbackButtonPosition===e.FEEDBACK_BUTTON_CLASSIC_BOTTOM?"bb-feedback-button-classic--bottom":"",'">').concat(function(e,t){var n=Ge.getInstance(),r=navigator.language;""!==t&&(r=t);for(var a={},o=Object.keys(n.customTranslation),i=0;i<o.length;i++){var s=o[i];r&&r.includes(s)&&n.customTranslation[s]&&(a=n.customTranslation[s])}return a[e]?a[e]:e||""}(n.widgetButtonText,Ge.getInstance().overrideLanguage),"</div>"):a.innerHTML='<div class="bb-feedback-button-icon">'.concat(r).concat(s("arrowdown","#fff"),"</div>"),a.onclick=function(){t.feedbackButtonPressed()},n.feedbackButtonPosition===e.FEEDBACK_BUTTON_NONE&&a.classList.add("bb-feedback-button--disabled"),n.feedbackButtonPosition===e.FEEDBACK_BUTTON_BOTTOM_LEFT&&a.classList.add("bb-feedback-button--bottomleft"),document.body.appendChild(a),this.feedbackButton=a}}},{key:"updateFeedbackButtonState",value:function(){}}])&&be(t.prototype,n),r&&be(t,r),e}();function ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ve(ge,"FEEDBACK_BUTTON_BOTTOM_RIGHT","BOTTOM_RIGHT"),ve(ge,"FEEDBACK_BUTTON_BOTTOM_LEFT","BOTTOM_LEFT"),ve(ge,"FEEDBACK_BUTTON_CLASSIC","BUTTON_CLASSIC"),ve(ge,"FEEDBACK_BUTTON_CLASSIC_LEFT","BUTTON_CLASSIC_LEFT"),ve(ge,"FEEDBACK_BUTTON_CLASSIC_BOTTOM","BUTTON_CLASSIC_BOTTOM"),ve(ge,"FEEDBACK_BUTTON_NONE","BUTTON_NONE"),ve(ge,"instance",void 0);var we=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),me(this,"customData",{})}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"getCustomData",value:function(){return this.customData}},{key:"attachCustomData",value:function(e){this.customData=Object.assign(this.customData,b(e))}},{key:"setCustomData",value:function(e,t){this.customData[e]=t}},{key:"removeCustomData",value:function(e){delete this.customData[e]}},{key:"clearCustomData",value:function(){this.customData={}}}])&&ye(t.prototype,n),r&&ye(t,r),e}();function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}me(we,"instance",void 0);var Le=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ce(this,"eventListeners",{})}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}},{key:"notifyEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getInstance().eventListeners[e];if(n)for(var r=0;r<n.length;r++){var a=n[r];a&&a(t)}}},{key:"on",value:function(e,t){var n=this.getInstance();n.eventListeners[e]||(n.eventListeners[e]=[]),n.eventListeners[e].push(t)}}],(n=null)&&ke(t.prototype,n),r&&ke(t,r),e}();function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ce(Le,"instance",void 0);var Oe=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Re(this,"customActionCallbacks",[])}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}},{key:"registerCustomAction",value:function(e){var t=this.getInstance();t.customActionCallbacks&&t.customActionCallbacks.push(e)}},{key:"triggerCustomAction",value:function(e){var t=this.getInstance();if(t.customActionCallbacks)for(var n=0;n<t.customActionCallbacks.length;n++){var r=t.customActionCallbacks[n];r&&r({name:e})}}}],(n=null)&&xe(t.prototype,n),r&&xe(t,r),e}();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Re(Oe,"instance",void 0);function Se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Ee=function(){function e(t,n,r){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.win=t,this.node=n,this.rec=r,this.initialState={},this.initialActions=[],this.prepEvent=function(e){var t;return a.flushObserver(),(null===(t=e.target)||void 0===t?void 0:t.ReplayRecID)||0},this.mouseListener=function(e){var t=e.clientX,n=e.clientY,r=e.target,o=a.node;if(o.contains(r)){a.flushObserver();var i,s=o.getBoundingClientRect();switch(t-=s.left,n-=s.top,e.type){case"mousemove":i="m";break;case"mouseup":i="u";break;case"mousedown":i="n";break;default:throw new Error("Unknown event type: ".concat(e.type))}a.rec.actions.push(Se({},i,[Math.round(t),Math.round(n)]))}},this.scrollListener=function(e){if(a.node.contains(e.target)){var t=a.prepEvent(e);t&&a.rec.pushScrollAction(t,e.target)}},this.mainScrollListener=function(){a.flushObserver(),a.rec.actions.push(Se({},"x",[window.scrollX,window.scrollY]))},this.inputListener=function(e){if(a.node.contains(e.target)){var t=a.prepEvent(e);if(t&&"value"in e.target){var n=e.target.value;"password"===e.target.type&&n&&n.length&&(n=new Array(n.length+1).join("*")),"value"===e.target.getAttribute("gleap-ignore")&&(n=new Array(n.length+1).join("*")),a.rec.actions.push(Se({},"i",[t,n]))}if(t&&"type"in e.target&&"checkbox"===e.target.type){var r=e.target.checked;a.rec.actions.push(Se({},"z",[t,r]))}}},this.flushListener=function(e){if(a.node.contains(e.target)){var t=a.prepEvent(e);t&&a.rec.actions.push(Se({},"f",t))}},this.canvasListener=function(e){if(a.node.contains(e.target)){var t=a.prepEvent(e);t&&a.rec.actions.push(Se({},"c",[t,e.target.toDataURL(),"didDraw"]))}},this.focusListener=function(){},n.ownerDocument.ReplayRecInner=this;var o=[],i=this.rec.serializeNode(this.node,o);if(i){this.initialState=i,this.initialActions=o;var s=MutationObserver;window&&window.Zone&&window[window.Zone.__symbol__("MutationObserver")]&&(s=window[window.Zone.__symbol__("MutationObserver")]),this.observer=new s(r.observerCallback),this.observer.observe(n,{attributes:!0,characterData:!0,childList:!0,subtree:!0}),this.mainScrollListener(),t.addEventListener("input",this.inputListener,{capture:!0,passive:!0}),t.addEventListener("mousemove",this.mouseListener,{capture:!0,passive:!0}),t.addEventListener("mousedown",this.mouseListener,{capture:!0,passive:!0}),t.addEventListener("mouseup",this.mouseListener,{capture:!0,passive:!0}),t.addEventListener("forceStyleFlush",this.flushListener,{capture:!0,passive:!0}),t.addEventListener("didDrawCanvas",this.canvasListener,{capture:!0,passive:!0}),t.addEventListener("focus",this.focusListener,{capture:!0,passive:!0}),t.addEventListener("scroll",this.mainScrollListener,{capture:!0,passive:!0})}}var t,n,r;return t=e,(n=[{key:"stop",value:function(){this.flushObserver(),this.observer&&this.observer.disconnect(),this.win.removeEventListener("input",this.inputListener,{capture:!0,passive:!0}),this.win.removeEventListener("mousemove",this.mouseListener,{capture:!0,passive:!0}),this.win.removeEventListener("mousedown",this.mouseListener,{capture:!0,passive:!0}),this.win.removeEventListener("mouseup",this.mouseListener,{capture:!0,passive:!0}),this.win.removeEventListener("forceStyleFlush",this.flushListener,{capture:!0,passive:!0}),this.win.removeEventListener("didDrawCanvas",this.canvasListener,{capture:!0,passive:!0}),this.win.removeEventListener("focus",this.focusListener,{capture:!0,passive:!0}),this.win.removeEventListener("scroll",this.mainScrollListener,{capture:!0,passive:!0}),this.rec.deleteAllReplayRecIDs(this.node)}},{key:"flushObserver",value:function(){this.observer&&void 0!==this.observer.takeRecords&&this.rec.observerCallback(this.observer.takeRecords())}}])&&Ie(t.prototype,n),r&&Ie(t,r),e}();function Ae(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Me(this,"startDate",void 0),Me(this,"fetchCSSResource",(function(e){return new Promise((function(t,n){if(e){var r=new XMLHttpRequest;r.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.onerror=function(){t()},e.readAsDataURL(r.response)},r.onerror=function(e){t()},r.open("GET",e),r.responseType="blob",r.send()}else t()}))})),Me(this,"replaceAsync",(function(e,t,n){return new Promise((function(r,a){var o=[];e.replace(t,(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var i=n.apply(void 0,[e].concat(r));o.push(i)})),Promise.all(o).then((function(n){r(e.replace(t,(function(){return n.shift()})))})).catch((function(){a()}))}))})),Me(this,"validateStylesheetResources",(function(e,n){var r=n.substring(0,n.lastIndexOf("/")),a=e.split(",");return 2!==a.length?Promise.reject():(e=atob(a[1]),delete a[1],t.replaceAsync(e,/url\((.*?)\)/g,(function(e){return new Promise((function(n,a){var o=e.substr(4,e.length-5).replaceAll("'","").replaceAll('"',"");if(0===o.indexOf("http")||0===o.indexOf("//")||0===o.indexOf("data"))return n(e);try{var i=o;return r&&(i=r+"/"+o),t.fetchCSSResource(i).then((function(t){return 0===o.indexOf("data:text/html")?n(e):n("url("+t+")")}))}catch(s){return n(e)}}))})).then((function(e){return a[0]+","+btoa(e)})))})),Me(this,"progressResource",(function(e,n,r,a){e&&0===e.indexOf("data:text/css")?t.validateStylesheetResources(e,n).then((function(e){t.resourcesToResolve[n]=e,r()})):!e||0!==e.indexOf("data:image/jpeg")&&0!==e.indexOf("data:image/png")?(t.resourcesToResolve[n]=e,r()):h(e,500,500).then((function(e){t.resourcesToResolve[n]=e,r()}))})),Me(this,"fetchItemResource",(function(e){var n=t;return new Promise((function(t,r){if(e){var a=new XMLHttpRequest;a.onload=function(){var o=new FileReader;o.onloadend=function(){n.progressResource(o.result,e,t,r)},o.onerror=function(){t()},o.readAsDataURL(a.response)},a.onerror=function(e){t()};var o=e;a.open("GET",o),a.responseType="blob",a.send()}else t()}))})),this.initReplaySizeCheck()}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}}],(n=[{key:"initReplaySizeCheck",value:function(){var e=this;setInterval((function(){e.isFull()&&(e.stop(),e.start())}),1e3)}},{key:"start",value:function(){this.stopped=!1,this.startDate=Date.now(),this.node=document.documentElement,this.nextID=1,this.actions=[],this.actionsSize=0,this.lastActionTime=Date.now(),this.observerCallback=this.callback.bind(this),this.resourcesToResolve={},this.rootFrame=new Ee(window,this.node,this),this.evaluateFocus()}},{key:"stop",value:function(){this.stopped=!0,this.rootFrame?(this.rootFrame.stop(),this.rootFrame=null):this.rootFrame=null}},{key:"getReplayData",value:function(){var e=this;if(!this.startDate)return Promise.resolve(null);var t={startDate:this.startDate,initialState:this.rootFrame.initialState,initialActions:this.rootFrame.initialActions,actions:this.actions,baseUrl:window.location.origin,width:window.innerWidth,height:window.innerHeight,resourcesToResolve:this.resourcesToResolve,isMobile:p()};return Ge.getInstance().isLiveMode()?this.fetchImageResources().then((function(){return e.cleanupResources(t)})):this.cleanupResources(t)}},{key:"isFull",value:function(){return!!(this.actions&&this.actionsSize>10)}},{key:"fetchImageResources",value:function(){for(var e=[],t=Object.keys(this.resourcesToResolve),n=0;n<t.length;n++)D(t[n])||e.push(this.fetchItemResource(t[n]));return Promise.all(e)}},{key:"cleanupResources",value:function(e){for(var t=Object.keys(this.resourcesToResolve),n=0;n<t.length;n++)"--"===this.resourcesToResolve[t[n]]&&delete this.resourcesToResolve[t[n]];return Promise.resolve(e)}},{key:"evaluateFocus",value:function(){this.rootFrame.flushObserver()}},{key:"allowAttribute",value:function(e,t){switch(t){case"srcdoc":if("IFRAME"===e.tagName)return!1;break;case"title":return!1}return!0}},{key:"pushScrollAction",value:function(e,t,n){var r=n||this.actions,a=t.elementScrolledIntoView;if(a){var o={};if(a.ReplayRecID){var i="elementScrolledIntoViewOffset"in t?t.elementScrolledIntoViewOffset:null;o.s=[e,a.ReplayRecID,i]}else{if("bottom"!==a)throw new Error("Unknown scrolledIntoView: ".concat(a));o.s=[e,a]}r.push(o)}}},{key:"serializeNode",value:function(e,t){if("ReplayRecID"in e)return null;var n=this.nextID++,r={id:n};switch(e.ReplayRecID=n,e.nodeType){case Node.ELEMENT_NODE:var a=e.tagName;switch(a){case"INPUT":case"TEXTAREA":var o={},i=e.value;e.type&&"password"===e.type&&i&&i.length&&(i=new Array(i.length+1).join("*")),"value"===e.getAttribute("gleap-ignore")&&(i=new Array(i.length+1).join("*")),o.i=[n,i],t.push(o);var s=e.ownerDocument.ReplayRecInner.scrollListener;e.addEventListener("scroll",s,{passive:!0});break;case"PRE":case"DIV":if(e.classList.contains("bb-hidden"))return delete e.ReplayRecID,null;var c=e.ownerDocument.ReplayRecInner.scrollListener;e.addEventListener("scroll",c,{passive:!0});break;case"SCRIPT":case"LINK":delete e.ReplayRecID;var l=e.getAttribute("rel");if(e&&e.href&&(e.href.includes(".css")||l&&l.includes("stylesheet"))){this.resourcesToResolve[e.getAttribute("href")]="--";break}if(l&&"import"===l)break;return null;case"CANVAS":var u={};u.c=[n,e.toDataURL()],t.push(u)}r[""]=a;var d,f={},h=!1,p=Ae(e.attributes);try{for(p.s();!(d=p.n()).done;){var b=d.value,v=b.name;this.allowAttribute(e,v)&&(f[v]=b.value,h=!0)}}catch(E){p.e(E)}finally{p.f()}h&&(r.a=f,r.a&&r.a.src&&"SOURCE"!==a&&"IFRAME"!==a&&this.optionallyAddAttribute("src",r.a.src));var g,y=[],m=Ae(e.childNodes);try{for(m.s();!(g=m.n()).done;){var w=g.value,k=this.serializeNode(w,t);k&&y.push(k)}}catch(E){m.e(E)}finally{m.f()}y.length>0&&(r.c=y),(e.scrollLeft||e.scrollTop)&&this.pushScrollAction(n,e,t);break;case Node.TEXT_NODE:case Node.CDATA_SECTION_NODE:var C=e.parentNode;if(e.parentNode&&C.tagName&&"STYLE"===C.tagName&&C.ownerDocument){var L=C.ownerDocument.styleSheets;if(L)for(var x=0;x<L.length;x++){var R=L[x];if(R.ownerNode&&R.ownerNode.ReplayRecID&&C.ReplayRecID===R.ownerNode.ReplayRecID){var O=null;if(R.cssRules?O=R.cssRules:R.rules&&(O=R.rules),O){var T="";for(var S in O)O[S].cssText&&(T+=O[S].cssText);r.d=T}}}}var I=e.data;I.length>0&&!r.d&&(r.d=I);break;case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:break;default:throw delete e.ReplayRecID,new Error("Bad node ".concat(e))}return r}},{key:"delay",value:function(e){this.lastActionTime-=1e3*e}},{key:"deleteAllReplayRecIDs",value:function(e){delete e.ReplayRecID;var t=e.ownerDocument.ReplayRecInner.scrollListener;e.removeEventListener("scroll",t,{passive:!0});for(var n=e.firstChild;n;n=n.nextSibling)n.ReplayRecID&&this.deleteAllReplayRecIDs(n)}},{key:"optionallyAddAttribute",value:function(e,t){if("src"===e&&t){var n=t;0!==n.indexOf("data")&&(this.resourcesToResolve[n]="--")}}},{key:"appendAction",value:function(e){this.actions.push(e);var t=this;setTimeout((function(){t.actionsSize+=function(e){for(var t=[],n=[e],r=0;n.length;){var a=n.pop();if("boolean"==typeof a)r+=4;else if("string"==typeof a)r+=2*a.length;else if("number"==typeof a)r+=8;else if("object"===Te(a)&&-1===t.indexOf(a))for(var o in t.push(a),a)n.push(a[o])}return r/1024/1024}(e)}),0)}},{key:"callback",value:function(e,t){var n=Date.now();if(n>this.lastActionTime){var r={};r.o=n-this.lastActionTime,this.appendAction(r)}this.lastActionTime=Date.now();try{var a,o=Ae(e);try{for(o.s();!(a=o.n()).done;){var i=a.value;if(i.target.ReplayRecID&&"childList"===i.type){var s,c=Ae(i.removedNodes);try{for(c.s();!(s=c.n()).done;){var l=s.value,u=l.ReplayRecID;if(u){var d={};d.v=u,this.appendAction(d),this.deleteAllReplayRecIDs(l)}}}catch(I){c.e(I)}finally{c.f()}}}}catch(I){o.e(I)}finally{o.f()}var f,h=[],p=Ae(e);try{for(p.s();!(f=p.n()).done;){var b=f.value,v=b.target,g=v.ReplayRecID;if(g)switch(b.type){case"attributes":var y=b.attributeName;if(this.allowAttribute(v,y)){var m={};m.r=[g,y,v.getAttribute(y)],"SOURCE"!==v.tagName&&this.optionallyAddAttribute(y,v.getAttribute(y)),this.appendAction(m)}break;case"characterData":var w={};v.nodeType===Node.TEXT_NODE&&(w.t=[g,v.data]),this.appendAction(w);break;case"childList":b.addedNodes.length>0&&!v.ReplayRecNodesAdded&&(v.ReplayRecNodesAdded=!0,h.push(v))}}}catch(I){p.e(I)}finally{p.f()}for(var k=0,C=h;k<C.length;k++){var L=C[k];delete L.ReplayRecNodesAdded;for(var x=L.lastChild;x;x=x.previousSibling)if(!x.ReplayRecID){var R={},O=[],T=this.serializeNode(x,O);if(T){var S=x.nextSibling;R.p=[L.ReplayRecID,S?S.ReplayRecID:null,T,O],this.appendAction(R)}}}}catch(E){throw E}}}])&&qe(t.prototype,n),r&&qe(t,r),e}();function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Be(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Me(Ne,"instance",void 0),"undefined"!=typeof HTMLCanvasElement&&HTMLCanvasElement.prototype&&(HTMLCanvasElement.prototype.__originalGetContext=HTMLCanvasElement.prototype.getContext,HTMLCanvasElement.prototype.getContext=function(e,t){return this.__originalGetContext(e,Fe(Fe({},t),{},{preserveDrawingBuffer:!0}))});var Ue=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Be(this,"initialized",!1),Be(this,"offlineMode",!1),Be(this,"overrideLanguage",""),Be(this,"autostartDrawing",!1),Be(this,"screenRecordingData",null),Be(this,"snapshotPosition",{x:0,y:0}),Be(this,"excludeData",{}),Be(this,"customTranslation",{}),Be(this,"actionToPerform",void 0),"undefined"!=typeof window&&(ne.getInstance(),se.getInstance().start(),fe.getInstance().start(),pe.getInstance().start(),pe.getInstance().start(),f.getInstance().start())}var t,n,r;return t=e,r=[{key:"getInstance",value:function(){return this.instance||(this.instance=new e),this.instance}},{key:"attachNetworkLogs",value:function(e){f.getInstance().externalConsoleLogs=e}},{key:"setOfflineMode",value:function(e){this.getInstance().offlineMode=e}},{key:"disableConsoleLogOverwrite",value:function(){se.getInstance().stop()}},{key:"initialize",value:function(e){var t=this.getInstance();if(t.initialized)console.warn("Gleap already initialized.");else{t.initialized=!0;var n=x.getInstance();n.sdkKey=e,n.setOnSessionReady((function(){E.getInstance().start().then((function(){"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?t.postInitialization():document.addEventListener("DOMContentLoaded",(function(e){t.postInitialization()}))})).catch((function(e){console.warn("Failed to initialize Gleap.")}))})),n.startSession()}}},{key:"identify",value:function(e,t){return x.getInstance().identifySession(e,b(t))}},{key:"clearIdentity",value:function(){x.getInstance().clearSession()}},{key:"isOpened",value:function(){return Q.getInstance().isOpened()}},{key:"hide",value:function(){Q.getInstance().hideWidget()}},{key:"open",value:function(){Q.getInstance().showWidget()}},{key:"setCustomTranslation",value:function(e){this.getInstance().customTranslation=e}},{key:"logEvent",value:function(e,t){T.getInstance().logEvent(e,t)}},{key:"on",value:function(e,t){Le.on(e,t)}},{key:"enableShortcuts",value:function(e){}},{key:"showFeedbackButton",value:function(e){ge.getInstance().toggleFeedbackButton(e)}},{key:"setNetworkLogFilters",value:function(e){f.getInstance().setFilters(e)}},{key:"setButtonLogoUrl",value:function(e){ge.getInstance().setCustomButtonLogoUrl(e)}},{key:"setAppVersionCode",value:function(e){ne.setAppVersionCode(e)}},{key:"setAppBuildNumber",value:function(e){ne.setAppBuildNumber(e)}},{key:"setApiUrl",value:function(e){x.getInstance().apiUrl=e}},{key:"setWidgetUrl",value:function(e){x.getInstance().widgetUrl=e}},{key:"attachCustomData",value:function(e){we.getInstance().attachCustomData(e)}},{key:"setCustomData",value:function(e,t){we.getInstance().setCustomData(e,t)}},{key:"removeCustomData",value:function(e){we.getInstance().removeCustomData(e)}},{key:"clearCustomData",value:function(){we.getInstance().clearCustomData()}},{key:"setLanguage",value:function(e){}},{key:"registerCustomAction",value:function(e){Oe.registerCustomAction(e)}},{key:"triggerCustomAction",value:function(e){Oe.triggerCustomAction(e)}},{key:"setColors",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#ffffff";"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?i(e,t,n,borderRadius,r):document.addEventListener("DOMContentLoaded",(function(a){i(e,t,n,borderRadius,r)}))}},{key:"sendSilentReport",value:function(t){arguments.length>1&&void 0!==arguments[1]||e.PRIORITY_MEDIUM;var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=this.getInstance(),a=x.getInstance();a.ready&&(r.excludeData=n||{},r.formData=t||{},a.session.email&&(r.formData.reportedBy=a.session.email),this.startFeedbackFlow(null,!0))}},{key:"startFeedbackFlow",value:function(e){var t=x.getInstance(),n=this.getInstance();t.ready&&(n.snapshotPosition={x:window.scrollX,y:window.scrollY},E.getInstance().getFeedbackOptions(e)&&(Le.notifyEvent("flow-started",e),Q.getInstance().sendMessage({name:"start-feedbackflow",data:e}),Q.getInstance().showWidget()))}}],(n=[{key:"isLiveMode",value:function(){if(!0===this.offlineMode)return!1;var e=window.location.hostname;return["localhost","127.0.0.1","0.0.0.0","","::1"].includes(e)||e.startsWith("192.168.")||e.startsWith("10.0.")||e.endsWith(".local")||!e.includes(".")}},{key:"postInitialization",value:function(){x.getInstance().setOnSessionReady(function(){Q.getInstance().injectFrame()}.bind(this))}},{key:"performAction",value:function(e){}}])&&Pe(t.prototype,n),r&&Pe(t,r),e}();if(Be(Ue,"instance",void 0),"undefined"!=typeof window){var He=window.GleapActions;if(He&&He.length>0)for(var _e=0;_e<He.length;_e++){var ze=He[_e];ze&&ze.e&&Ue[ze.e]&&Ue[ze.e].apply(Ue,ze.a)}}const Ge=Ue,Ve=Ge;return t=t.default})()}));